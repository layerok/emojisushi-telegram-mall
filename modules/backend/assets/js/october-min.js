!function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.foundation&&(t.oc.foundation={}),t.oc.foundation._proxyCounter=0;var e=function(){this.proxiedMethods={}};e.prototype.dispose=function(){for(var t in this.proxiedMethods)this.proxiedMethods[t]=null;this.proxiedMethods=null},e.prototype.proxy=function(e){return void 0===e.ocProxyId&&(t.oc.foundation._proxyCounter++,e.ocProxyId=t.oc.foundation._proxyCounter),void 0!==this.proxiedMethods[e.ocProxyId]||(this.proxiedMethods[e.ocProxyId]=e.bind(this)),this.proxiedMethods[e.ocProxyId]},t.oc.foundation.base=e}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.foundation&&(t.oc.foundation={});var e={hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},addClass:function(t,e){for(var o=e.split(" "),i=0,n=o.length;i<n;i++){var r=o[i].trim();if(this.hasClass(t,r))return;t.classList?t.classList.add(r):t.className+=" "+r}},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},toggleClass:function(t,e,o){void 0===o&&(this.hasClass(t,e)?this.removeClass(t,e):this.addClass(t,e)),!o||this.hasClass(t,e)?o||!this.hasClass(t,e)||this.removeClass(t,e):this.addClass(t,e)},absolutePosition:function(t,e){var o=!0===e?0:document.body.scrollTop,i=0;do{o+=t.offsetTop||0,!0!==e&&(o-=t.scrollTop||0),i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:o,left:i}},getCaretPosition:function(t){if(document.selection){var e=document.selection.createRange();return e.moveStart("character",-t.value.length),e.text.length}return void 0!==t.selectionStart?t.selectionStart:0},setCaretPosition:function(t,e){if(document.selection){var o=t.createTextRange();setTimeout((function(){o.collapse(!0),o.moveStart("character",e),o.moveEnd("character",0),o.select(),o=null,t=null}),0)}void 0!==t.selectionStart&&setTimeout((function(){t.selectionStart=e,t.selectionEnd=e,t=null}),0)},elementContainsPoint:function(e,o){var i=t.oc.foundation.element.absolutePosition(e),n=i.left+e.offsetWidth,r=i.top+e.offsetHeight;return o.x>=i.left&&o.x<=n&&o.y>=i.top&&o.y<=r}};t.oc.foundation.element=e}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.foundation&&(t.oc.foundation={});var e={getTarget:function(t,e){var o=t.target?t.target:t.srcElement;if(void 0===e)return o;for(var i=o.tagName;i!=e;){if(!(o=o.parentNode))return null;i=o.tagName}return o},stop:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1},pageCoordinates:function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:t.clientX||t.clientY?{x:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:t.clientY+document.body.scrollTop+document.documentElement.scrollTop}:{x:0,y:0}}};t.oc.foundation.event=e}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.foundation&&(t.oc.foundation={});var e={markDisposable:function(t){t.setAttribute("data-disposable","")},disposeControls:function(e){e===document&&(e=document.documentElement);for(var o=e.querySelectorAll("[data-disposable]"),i=0,n=o.length;i<n;i++)t(o[i]).triggerHandler("dispose-control");e.hasAttribute("data-disposable")&&t(e).triggerHandler("dispose-control")}};t.oc.foundation.controlUtils=e,addEventListener("page:before-render",(function(e){t.oc.foundation.controlUtils.disposeControls(e.target)})),addEventListener("ajax:before-replace",(function(e){t.oc.foundation.controlUtils.disposeControls(e.target)}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.paused=!1,this.options=i||{},t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.init=function(){this.$el.on("change",this.proxy(this.change)),this.$el.on("unchange.oc.changeMonitor",this.proxy(this.unchange)),this.$el.on("click ajaxSuccess","[data-change-monitor-commit]",this.proxy(this.unchange)),this.$el.on("pause.oc.changeMonitor",this.proxy(this.pause)),this.$el.on("resume.oc.changeMonitor",this.proxy(this.resume)),this.$el.on("pauseUnloadListener.oc.changeMonitor",this.proxy(this.pauseUnloadListener)),this.$el.on("resumeUnloadListener.oc.changeMonitor",this.proxy(this.resumeUnloadListener)),this.$el.on("keyup input paste","input:not(.ace_search_field), textarea:not(.ace_text-input)",this.proxy(this.onInputChange)),t("input:not([type=hidden]):not(.ace_search_field), textarea:not(.ace_text-input)",this.$el).each((function(){t(this).data("oldval.oc.changeMonitor",t(this).val())})),t(window).on("beforeunload",this.proxy(this.onBeforeUnload)),addEventListener("page:before-visit",this.proxy(this.onBeforeUnloadTurbo)),this.$el.one("dispose-control",this.proxy(this.dispose)),this.$el.trigger("ready.oc.changeMonitor")},i.prototype.dispose=function(){null!==this.$el&&(this.unregisterHandlers(),this.$el.removeData("oc.changeMonitor"),this.$el=null,this.options=null,o.dispose.call(this))},i.globallyDisabled=!1,i.disable=function(){i.globallyDisabled=!0},i.enable=function(){i.globallyDisabled=!1},i.prototype.unregisterHandlers=function(){this.$el.off("change",this.proxy(this.change)),this.$el.off("unchange.oc.changeMonitor",this.proxy(this.unchange)),this.$el.off("click ajaxSuccess","[data-change-monitor-commit]",this.proxy(this.unchange)),this.$el.off("pause.oc.changeMonitor ",this.proxy(this.pause)),this.$el.off("resume.oc.changeMonitor ",this.proxy(this.resume)),this.$el.off("keyup input paste","input:not(.ace_search_field), textarea:not(.ace_text-input)",this.proxy(this.onInputChange)),this.$el.off("dispose-control",this.proxy(this.dispose)),t(window).off("beforeunload",this.proxy(this.onBeforeUnload)),removeEventListener("page:before-visit",this.proxy(this.onBeforeUnloadTurbo))},i.prototype.change=function(e,o){if(!this.paused&&!i.globallyDisabled&&"ace_search_field"!==e.target.className){if(!o){var n=t(e.target).attr("type");if("text"===n||"password"===n)return}this.$el.hasClass("oc-data-changed")||(this.$el.trigger("changed.oc.changeMonitor"),this.$el.addClass("oc-data-changed"))}},i.prototype.unchange=function(){this.paused||i.globallyDisabled||this.$el.hasClass("oc-data-changed")&&(this.$el.trigger("unchanged.oc.changeMonitor"),this.$el.removeClass("oc-data-changed"))},i.prototype.onInputChange=function(e){if(!this.paused&&!i.globallyDisabled){var o=t(e.target);o.data("oldval.oc.changeMonitor")!==o.val()&&(o.data("oldval.oc.changeMonitor",o.val()),this.change(e,!0))}},i.prototype.pause=function(){this.paused=!0},i.prototype.resume=function(){this.paused=!1},i.prototype.pauseUnloadListener=function(){this.unloadListenerPaused=!0},i.prototype.resumeUnloadListener=function(){this.unloadListenerPaused=!1},i.prototype.shouldWarn=function(){return t.contains(document.documentElement,this.$el.get(0))&&this.$el.hasClass("oc-data-changed")&&!this.unloadListenerPaused},i.prototype.onBeforeUnload=function(t){if(this.shouldWarn())return t.preventDefault(),t.returnValue=""},i.prototype.onBeforeUnloadTurbo=function(t){const{url:e,action:o}=t.detail;this.shouldWarn()&&"advance"===o&&(t.preventDefault(),location.assign(e))},i.DEFAULTS={};var n=t.fn.changeMonitor;t.fn.changeMonitor=function(e){return this.each((function(){var o=t(this),n=o.data("oc.changeMonitor"),r=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);n||o.data("oc.changeMonitor",n=new i(this,r))}))},t.fn.changeMonitor.Constructor=i,t.fn.changeMonitor.noConflict=function(){return t.fn.changeMonitor=n,this},t(document).render((function(){t("[data-change-monitor]").changeMonitor()})),oc.changeMonitor=i}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){if(!i.hotkey)throw new Error("No hotkey has been defined.");this.$el=t(o),this.$target=t(i.hotkeyTarget),this.options=i||{},this.keyConditions=[],this.keyMap=null,t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.initKeyMap(),this.initKeyConditions(),this.$target.on("keydown",this.proxy(this.onKeyDown)),this.$el.one("dispose-control",this.proxy(this.dispose))};(i.prototype=Object.create(o)).constructor=i,i.prototype.dispose=function(){this.$el&&(this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.hotkey")),this.$target&&this.$target.off("keydown",this.proxy(this.onKeyDown)),this.$target=null,this.$el=null,this.keyConditions=null,this.keyMap=null,this.options=null,o.dispose.call(this)},i.prototype.initKeyConditions=function(){for(var t=this.options.hotkey.toLowerCase().split(","),e=0,o=t.length;e<o;e++){var i=this.trim(t[e]);this.keyConditions.push(this.makeCondition(i))}},i.prototype.makeCondition=function(t){for(var e={shift:!1,ctrl:!1,cmd:!1,alt:!1,specific:-1},o=t.split("+"),i=0,n=o.length;i<n;i++)switch(o[i]){case"shift":e.shift=!0;break;case"ctrl":e.ctrl=!0;break;case"command":case"cmd":case"meta":e.cmd=!0;break;case"alt":case"option":e.alt=!0}return e.specific=this.keyMap[o[o.length-1]],void 0===e.specific&&(e.specific=o[o.length-1].toUpperCase().charCodeAt()),e},i.prototype.initKeyMap=function(){this.keyMap={esc:27,tab:9,space:32,return:13,enter:13,backspace:8,scroll:145,capslock:20,numlock:144,pause:19,break:19,insert:45,home:36,delete:46,suppr:46,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}},i.prototype.trim=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},i.prototype.testConditions=function(t){for(var e=0,o=this.keyConditions.length;e<o;e++){var i=this.keyConditions[e];if(t.which===i.specific&&t.originalEvent.shiftKey===i.shift&&t.originalEvent.ctrlKey===i.ctrl&&t.originalEvent.metaKey===i.cmd&&t.originalEvent.altKey===i.alt)return!0}return!1},i.prototype.onKeyDown=function(t){if(this.testConditions(t)){if(this.options.hotkeyVisible&&!this.$el.is(":visible"))return;if(this.options.callback)return this.options.callback(this.$el.get(0),t.currentTarget,t)}},i.DEFAULTS={hotkey:null,hotkeyTarget:"html",hotkeyVisible:!0,callback:function(t){return t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),!1}};var n=t.fn.hotKey;t.fn.hotKey=function(e){var o=arguments;return this.each((function(){var n=t(this),r=n.data("oc.hotkey"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);r||n.data("oc.hotkey",r=new i(this,s)),"string"==typeof e&&r[e].apply(r,o)}))},t.fn.hotKey.Constructor=i,t.fn.hotKey.noConflict=function(){return t.fn.hotKey=n,this},t(document).render((function(){t("[data-hotkey]").hotKey()}))}(window.jQuery),function(t){"use strict";t.oc.presetEngine=new function(){var e={de:{"Ä":"AE","Ö":"OE","Ü":"UE","ä":"ae","ö":"oe","ü":"ue"}},o=[{"Á":"A","À":"A","Ã":"A","Ả":"A","Ạ":"A","Ắ":"A","Ằ":"A","Ẵ":"A","Ẳ":"A","Ặ":"A","Ấ":"A","Ầ":"A","Ẫ":"A","Ẩ":"A","Ậ":"A","Đ":"D","É":"E","È":"E","Ẽ":"E","Ẻ":"E","Ẹ":"E","Ế":"E","Ề":"E","Ễ":"E","Ể":"E","Ệ":"E","Ó":"O","Ò":"O","Ỏ":"O","Õ":"O","Ọ":"O","Ố":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ơ":"O","Ớ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ợ":"O","Í":"I","Ì":"I","Ỉ":"I","Ĩ":"I","Ị":"I","Ú":"U","Ù":"U","Ủ":"U","Ũ":"U","Ụ":"U","Ư":"U","Ứ":"U","Ừ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","Ỳ":"Y","Ỷ":"Y","Ỹ":"Y","Ỵ":"Y","á":"a","à":"a","ã":"a","ả":"a","ạ":"a","ắ":"a","ằ":"a","ẵ":"a","ẳ":"a","ặ":"a","ấ":"a","ầ":"a","ẫ":"a","ẩ":"a","ậ":"a","đ":"d","é":"e","è":"e","ẽ":"e","ẻ":"e","ẹ":"e","ế":"e","ề":"e","ễ":"e","ể":"e","ệ":"e","ó":"o","ò":"o","ỏ":"o","õ":"o","ọ":"o","ố":"o","ồ":"o","ổ":"o","ỗ":"o","ộ":"o","ơ":"o","ớ":"o","ờ":"o","ở":"o","ỡ":"o","ợ":"o","í":"i","ì":"i","ỉ":"i","ĩ":"i","ị":"i","ú":"u","ù":"u","ủ":"u","ũ":"u","ụ":"u","ư":"u","ứ":"u","ừ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ỳ":"y","ỷ":"y","ỹ":"y","ỵ":"y"},{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","Ÿ":"Y","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ō":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y"},{"©":"(c)"},{"α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y"},{"ş":"s","Ş":"S","ı":"i","İ":"I","ç":"c","Ç":"C","ü":"u","Ü":"U","ö":"o","Ö":"O","ğ":"g","Ğ":"G"},{"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"shch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Shch","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya"},{"Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g"},{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"I","Ķ":"K","Ļ":"L","Ņ":"N","Š":"S","Ū":"U","Ž":"Z"},{"أ":"a","ب":"b","ت":"t","ث":"th","ج":"g","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"th","ع":"aa","غ":"gh","ف":"f","ق":"k","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"o","ي":"y"},{"آ":"a","ا":"a","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"gh","ی":"y"},{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U","Ž":"Z"},{"ђ":"dj","ј":"j","љ":"lj","њ":"nj","ћ":"c","џ":"dz","đ":"d","Ђ":"Dj","Ј":"j","Љ":"Lj","Њ":"Nj","Ћ":"C","Џ":"Dz","Đ":"D"},{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},{"ă":"a","â":"a","î":"i","ș":"s","ț":"t","Ă":"A","Â":"A","Î":"I","Ș":"S","Ț":"T"},{"ў":"w","Ў":"W"}],i=["a","an","as","at","before","but","by","for","from","is","in","into","like","of","off","on","onto","per","since","than","the","this","that","to","up","via","with"],n=t('meta[name="backend-locale"]').attr("content"),r={Initialize:function(){if(!r.map){r.map={},r.chars=[],"object"==typeof e[n]&&o.push(e[n]);for(var t=0;t<o.length;t++){var i=o[t];for(var s in i)i.hasOwnProperty(s)&&(r.map[s]=i[s])}for(var a in r.map)r.map.hasOwnProperty(a)&&r.chars.push(a);r.regex=new RegExp(r.chars.join("|"),"g")}}};function s(t,e){if(n&&!n.startsWith("en"))return t;if(e.inputPresetRemoveWords){var o=new RegExp("\\b("+i.join("|")+")\\b","gi");t=t.replace(o,"")}return t}function a(t,e,o){return r.Initialize(),(t=(t=(t=(t=(t=(t=(t=(t=(t=s(t=t.replace(r.regex,(function(t){return r.map[t]})),o)).toLowerCase()).replace(/(\b|-)\w/g,(function(t){return t.toUpperCase()}))).replaceAll("\\"," ")).replaceAll("/"," ")).replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"")).substr(0,1).toLowerCase()+t.substr(1)).substring(0,e)}this.formatValue=function(t,e){var o;return void 0===e?"":"exact"==t.inputPresetType?e:"namespace"==t.inputPresetType?function(t,e){var o=a(t,void 0,e);return o.substr(0,1).toUpperCase()+o.substr(1)}(e,t):(o="camel"==t.inputPresetType?a(e,void 0,t):function(t,e,o){return r.Initialize(),(t=(t=(t=(t=(t=(t=(t=s(t=t.replace(r.regex,(function(t){return r.map[t]})),o)).replaceAll("\\"," ")).replaceAll("/"," ")).replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"-")).toLowerCase()).substring(0,e)}(e,void 0,t),"url"==t.inputPresetType&&(o="/"+o),o.replace(/\s/gi,"-"))}}}(window.jQuery),function(t){"use strict";var e=function(e,o){var i=this.$el=t(e);this.options=o||{},this.cancelled=!1;var n=void 0!==o.inputPresetClosestParent?i.closest(o.inputPresetClosestParent):void 0,r=this,s="";void 0!==o.inputPresetPrefixInput&&(s=t(o.inputPresetPrefixInput,n).val()),void 0===s&&(s=""),i.val().length&&i.val()!=s||(i.val(s).trigger("oc.inputPreset.afterUpdate"),this.$src=t(o.inputPreset,n),this.$src.on("input paste",(function(e){if(!r.cancelled){var n="paste"===e.type?100:0,a=function(e,i,n){!1!==i.data("update")&&i.val(n+t.oc.presetEngine.formatValue(o,e.$src.val())).trigger("oc.inputPreset.afterUpdate")},l=t(this);setTimeout((function(){i.trigger("oc.inputPreset.beforeUpdate",[l]),setTimeout(a,100,r,i,s)}),n)}})),this.$el.on("change",(function(){r.cancelled=!0})))};e.DEFAULTS={inputPreset:"",inputPresetType:"slug",inputPresetClosestParent:void 0,inputPresetPrefixInput:void 0,inputPresetRemoveWords:!0};var o=t.fn.inputPreset;t.fn.inputPreset=function(o){return this.each((function(){var i=t(this),n=i.data("oc.inputPreset"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.inputPreset",n=new e(this,r))}))},t.fn.inputPreset.Constructor=e,t.fn.inputPreset.noConflict=function(){return t.fn.inputPreset=o,this},t(document).render((function(){t("[data-input-preset]").inputPreset()}))}(window.jQuery),function(t){"use strict";var e;oc.registerControl("input-trigger",class extends oc.ControlBase{init(){if(!1===this.config.triggerCondition)throw new Error("Trigger condition is not specified.");if(!1===this.config.trigger)throw new Error("Trigger selector is not specified.");if(!1===this.config.triggerAction)throw new Error("Trigger action is not specified.");if(this.triggerSelector=this.config.trigger,this.triggerAction=this.config.triggerAction,this.triggerCondition=this.config.triggerCondition,0==this.config.triggerCondition.indexOf("value")){var t=this.config.triggerCondition.match(/[^[\]]+(?=])/g);this.triggerCondition="value",this.triggerConditionValue=t||[""]}this.conditionValid="checked"==this.triggerCondition||"unchecked"==this.triggerCondition||"value"==this.triggerCondition}connect(){this.$el=t(this.element),this.initTriggerParent(),this.initState(),this.$el.on("oc.triggerOn.update",this.proxy(this.onUpdatedExternally)),this.conditionValid&&t(document).on("change",this.triggerSelector,this.proxy(this.onConditionChangedDebounce))}disconnect(){this.$el.off("oc.triggerOn.update",this.proxy(this.onUpdatedExternally)),this.conditionValid&&t(document).off("change",this.triggerSelector,this.proxy(this.onConditionChangedDebounce)),this.$el=null,this.triggerParent=null,null!==this.changeDebounceTimeoutId&&clearTimeout(this.changeDebounceTimeoutId)}initState(){this.changeDebounceTimeoutId=null,oc.changeMonitor&&oc.changeMonitor.disable(),this.onConditionChanged(),oc.changeMonitor&&oc.changeMonitor.enable()}initTriggerParent(){if(this.triggerParent=void 0,void 0!==this.config.triggerClosestParent)for(var t=this.config.triggerClosestParent.split(","),e=0;e<t.length;e++){var o=this.$el.closest(t[e]);if(o.length){this.triggerParent=o;break}}}onUpdatedExternally(t){t.stopPropagation(),this.onConditionChanged()}onConditionChangedDebounce(){null!==this.changeDebounceTimeoutId&&clearTimeout(this.changeDebounceTimeoutId),this.changeDebounceTimeoutId=setTimeout((()=>this.onConditionChanged()),30)}onConditionChanged(){if("checked"==this.triggerCondition)this.updateTarget(!!t(this.triggerSelector+":checked",this.triggerParent).length);else if("unchecked"==this.triggerCondition)this.updateTarget(!t(this.triggerSelector+":checked",this.triggerParent).length);else if("value"==this.triggerCondition){var e,o=!1;(e=t(this.triggerSelector,this.triggerParent).not("input[type=checkbox], input[type=radio], input[type=button], input[type=submit]")).length||(e=t(this.triggerSelector,this.triggerParent).not(":not(input[type=checkbox]:checked, input[type=radio]:checked)"));var i=this;e.each((function(){var e=t(this).val();return t.each(t.isArray(e)?e:[e],(function(t,e){return!(o=i.matchWildcardConditions(e,i.triggerConditionValue))})),!o})),this.updateTarget(o)}}matchWildcardConditions(t,e){var o=!1;return e.forEach((e=>{!o&&this.matchWildcardString(t,e)&&(o=!0)})),o}matchWildcardString(t,e){return new RegExp("^"+e.split("*").map((t=>t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))).join(".*")+"$").test(t)}updateTarget(e){var o=this.triggerAction.split("|");t.each(o,((t,o)=>{this.updateTargetAction(o,e)})),this.$el.trigger("oc.triggerOn.afterUpdate",e),oc.Events.dispatch("trigger:after-update",{target:this.$el.get(0),status:e}),this.finishUpdate()}finishUpdate(){void 0!==e&&window.clearTimeout(e),e=setTimeout((function(){oc.Events.dispatch("trigger:complete"),t(window).trigger("resize")}),1)}updateTargetAction(t,e){if("show"==t)this.$el.toggleClass("oc-hide",!e).trigger("hide.oc.triggerapi",[!e]),oc.Events.dispatch("trigger:hide",{target:this.$el.get(0),status:!e});else if("hide"==t)this.$el.toggleClass("oc-hide",e).trigger("hide.oc.triggerapi",[e]),oc.Events.dispatch("trigger:hide",{target:this.$el.get(0),detail:{status:e}});else if("enable"==t)this.$el.prop("disabled",!e).toggleClass("control-disabled",!e).trigger("disable.oc.triggerapi",[!e]),oc.Events.dispatch("trigger:disable",{target:this.$el.get(0),detail:{status:!e}});else if("disable"==t)this.$el.prop("disabled",e).toggleClass("control-disabled",e).trigger("disable.oc.triggerapi",[e]),oc.Events.dispatch("trigger:disable",{target:this.$el.get(0),detail:{status:e}});else if(0==t.indexOf("fill")&&e){var o=t.match(/[^[\]]+(?=])/g),i=o?o[0]:"1";this.$el.not("input[type=checkbox], input[type=radio], input[type=button], input[type=submit]").val(i),this.$el.not(":not(input[type=checkbox], input[type=radio])").prop("checked",!0),this.$el.trigger("fill.oc.triggerapi").trigger("change"),oc.Events.dispatch("trigger:fill",{target:this.$el.get(0),detail:{fillValue:i}})}else"empty"==t&&e&&(this.$el.not("input[type=checkbox], input[type=radio], input[type=button], input[type=submit]").val(""),this.$el.not(":not(input[type=checkbox], input[type=radio])").prop("checked",!1),this.$el.trigger("empty.oc.triggerapi").trigger("change"),oc.Events.dispatch("trigger:empty",{target:this.$el.get(0)}));"show"!=t&&"hide"!=t||this.fixButtonClasses()}fixButtonClasses(){this.$el.closest(".btn-group").length>0&&this.$el.is(":last-child")&&this.$el.prev().toggleClass("last",this.$el.hasClass("oc-hide"))}}),addEventListener("render",(()=>{document.querySelectorAll('[data-trigger]:not([data-control~="input-trigger"])').forEach((t=>{t.dataset.control?t.dataset.control=t.dataset.control+" input-trigger":t.dataset.control="input-trigger"}))})),t.fn.triggerOn=function(t){this.each(((e,o)=>{t=t||{};for(const e in t)e.startsWith("trigger")&&(o.dataset[e]=t[e])}))}}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$el=t(e),this.init()};e.DEFAULTS={dragClick:!1},e.prototype.init=function(){this.$el.prop("draggable",!0),this.textValue=this.$el.data("textValue"),this.$el.on("dragstart",t.proxy(this.handleDragStart,this)),this.$el.on("drop",t.proxy(this.handleDrop,this)),this.$el.on("dragend",t.proxy(this.handleDragEnd,this)),this.options.dragClick&&(this.$el.on("click",t.proxy(this.handleClick,this)),this.$el.on("mouseover",t.proxy(this.handleMouseOver,this)))},e.prototype.handleDragStart=function(t){var e=t.originalEvent;e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain",this.textValue),this.$el.css({opacity:.5}).addClass("dragvalue-dragging")},e.prototype.handleDrop=function(t){return t.stopPropagation(),!1},e.prototype.handleDragEnd=function(t){this.$el.css({opacity:1}).removeClass("dragvalue-dragging")},e.prototype.handleMouseOver=function(t){var e=document.activeElement;e&&(e.isContentEditable||"input"==e.tagName.toLowerCase()&&"text"==e.type||"textarea"==e.tagName.toLowerCase())&&(this.lastElement=e)},e.prototype.handleClick=function(e){if(this.lastElement){var o=t(this.lastElement);return o.hasClass("ace_text-input")?this.handleClickCodeEditor(e,o):this.lastElement.isContentEditable?this.handleClickContentEditable():void this.insertAtCaret(this.lastElement,this.textValue)}},e.prototype.handleClickCodeEditor=function(t,e){var o=e.closest("[data-control=codeeditor]");o.length&&o.codeEditor("getEditorObject").insert(this.textValue)},e.prototype.handleClickContentEditable=function(){var t,e;window.getSelection?(t=window.getSelection()).getRangeAt&&t.rangeCount&&((e=t.getRangeAt(0)).deleteContents(),e.insertNode(document.createTextNode(this.textValue))):document.selection&&document.selection.createRange&&(document.selection.createRange().text=this.textValue)},e.prototype.insertAtCaret=function(t,e){if(document.selection)t.focus(),document.selection.createRange().text=e,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var o=t.selectionStart,i=t.selectionEnd,n=t.scrollTop;t.value=t.value.substring(0,o)+e+t.value.substring(i,t.value.length),t.focus(),t.selectionStart=o+e.length,t.selectionEnd=o+e.length,t.scrollTop=n}else t.value+=e,t.focus()};var o=t.fn.dragValue;t.fn.dragValue=function(o){var i,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=t(this),s=r.data("oc.dragvalue"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof o&&o);if(s||r.data("oc.dragvalue",s=new e(this,a)),"string"==typeof o&&(i=s[o].apply(s,n)),void 0!==i)return!1})),i||this},t.fn.dragValue.Constructor=e,t.fn.dragValue.noConflict=function(){return t.fn.dragValue=o,this},t(document).render((function(){t('[data-control="dragvalue"]').dragValue()}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.options=i||{},this.cursorAdjustment=null,t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.init=function(){this.$el.one("dispose-control",this.proxy(this.dispose));var e=this,o={},i={onDragStart:this.proxy(this.onDragStart),onDrag:this.proxy(this.onDrag),onDrop:this.proxy(this.onDrop)};this.options.onDragStart&&(o.onDragStart=function(t,o,n,r){e.options.onDragStart(t,o,i.onDragStart,r)}),this.options.onDrag&&(o.onDrag=function(t,o,n,r){e.options.onDrag(t,o,i.onDrag,r)}),this.options.onDrop&&(o.onDrop=function(t,o,n,r){e.options.onDrop(t,o,i.onDrop,r)}),this.$el.jqSortable(t.extend({},i,this.options,o))},i.prototype.dispose=function(){this.$el.jqSortable("destroy"),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.sortable"),this.$el=null,this.options=null,this.cursorAdjustment=null,o.dispose.call(this)},i.prototype.onDragStart=function(e,o,i,n){var r=e.offset(),s=o.rootGroup.pointer;this.cursorAdjustment=s?{left:s.left-r.left,top:s.top-r.top}:null,this.options.tweakCursorAdjustment&&(this.cursorAdjustment=this.options.tweakCursorAdjustment(this.cursorAdjustment)),e.css({height:e.height(),width:e.width()}),e.addClass("dragged"),t("body").addClass("dragging"),this.$el.addClass("dragging"),this.options.useAnimation&&e.data("oc.animated",!0),this.options.usePlaceholderClone&&t(o.rootGroup.placeholder).html(e.html()),this.options.useDraggingClone||e.hide()},i.prototype.onDrag=function(t,e,o,i){this.cursorAdjustment?t.css({left:e.left-this.cursorAdjustment.left,top:e.top-this.cursorAdjustment.top}):t.css(e)},i.prototype.onDrop=function(e,o,i,n){e.removeClass("dragged").removeAttr("style"),t("body").removeClass("dragging"),this.$el.removeClass("dragging"),e.data("oc.animated")&&e.hide().slideDown(200)},i.prototype.enable=function(){this.$el.jqSortable("enable")},i.prototype.disable=function(){this.$el.jqSortable("disable")},i.prototype.refresh=function(){this.$el.jqSortable("refresh")},i.prototype.serialize=function(){this.$el.jqSortable("serialize")},i.prototype.destroy=function(){this.dispose()},i.prototype.destroyGroup=function(){var t=this.$el.data("jqSortable");t.group&&t.group._destroy()},i.DEFAULTS={useAnimation:!1,usePlaceholderClone:!1,useDraggingClone:!0,tweakCursorAdjustment:null};var n=t.fn.sortable;t.fn.sortable=function(e){var o=arguments;return this.each((function(){var n=t(this),r=n.data("oc.sortable"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);r||n.data("oc.sortable",r=new i(this,s)),"string"==typeof e&&r[e].apply(r,o)}))},t.fn.sortable.Constructor=i,t.fn.sortable.noConflict=function(){return t.fn.sortable=n,this}}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,n){this.options=t.extend({},i.DEFAULTS,n),this.touchDragStarted=!1,this.onTouchMove=function(t){if(!p.touchDragStarted)return;f(t.touches[0]),d||t.preventDefault()};var r=t(o),s=r.get(0),a=0,l=0,p=this,c=!1,u=this.options.vertical?"pageY":"pageX",d=this.options.useNative&&t("html").hasClass("mobile");function h(e){p.paused||(a=e[u],l=p.options.vertical?r.scrollTop():r.scrollLeft(),Modernizr.touchevents&&t(window).on("touchend.dragScroll",(function(t){g()})),t(window).on("mousemove.dragScroll",(function(t){return f(t),!1})),t(window).on("mouseup.dragScroll",(function(t){return g(e.pageX==t.pageX&&e.pageY==t.pageY),!1})))}function f(e){var o=e[u],i=a-o;Math.abs(i)>3&&(c||(c=!0,r.trigger("start.oc.dragScroll"),p.options.start(),t(document.body).addClass(p.options.dragClass)),d||(p.options.vertical?r.scrollTop(l+i):r.scrollLeft(l+i)),p.fixScrollClasses(!0),r.trigger("drag.oc.dragScroll"),p.options.drag())}function g(e){t(window).off(".dragScroll"),p.touchDragStarted=!1,c=!1,e?t(document.body).removeClass(p.options.dragClass):p.fixScrollClasses(),window.setTimeout((function(){e||(t(document.body).removeClass(p.options.dragClass),r.trigger("stop.oc.dragScroll"),p.options.stop(),p.fixScrollClasses())}),100)}this.el=r,this.scrollClassContainer=this.options.scrollClassContainer?t(this.options.scrollClassContainer):r,this.isScrollable=!0,e.call(this),this.options.scrollMarkerContainer&&t(this.options.scrollMarkerContainer).append(t('<span class="before scroll-marker"></span><span class="after scroll-marker"></span>')),(this.options.scrollSelector?t(this.options.scrollSelector,r):r).mousewheel((function(t){if(p.options.useScroll&&!p.paused){var e=t.deltaFactor*t.deltaX,o=t.deltaFactor*t.deltaY,i=function(t){if(p.paused)return;l=p.options.vertical?s.scrollTop:s.scrollLeft,p.options.vertical?r.scrollTop(l+t):r.scrollLeft(l+t);var e=p.options.vertical?s.scrollTop!=l:s.scrollLeft!=l;r.trigger("drag.oc.dragScroll"),p.options.drag(),e&&(void 0!==p.wheelUpdateTimer&&!1!==p.wheelUpdateTimer&&window.clearInterval(p.wheelUpdateTimer),p.wheelUpdateTimer=window.setTimeout((function(){p.wheelUpdateTimer=!1,p.fixScrollClasses()}),100));return e}(!e&&p.options.useComboScroll?-1*o:!o&&p.options.useComboScroll?e:p.options.vertical?-1*o:e);return!i&&p.options.noOverScroll&&(t.preventDefault(),t.stopPropagation()),!i}})),this.options.useDrag&&r.on("mousedown.dragScroll",this.options.dragSelector,(function(t){if(!p.paused&&(!t.target||"INPUT"!==t.target.tagName)&&p.isScrollable)return h(t),!1})),Modernizr.touchevents&&(r.on("touchstart.dragScroll",this.options.dragSelector,(function(t){if(!p.paused){var e=t.originalEvent;1==e.touches.length&&(h(e.touches[0]),p.touchDragStarted=!0,t.stopPropagation())}})),window.addEventListener("touchmove",p.onTouchMove,{passive:!1})),r.on("click.dragScroll",(function(){if(t(document.body).hasClass(p.options.dragClass))return!1})),this.options.noScrollClasses||(t(document).on("ready",this.proxy(this.fixScrollClasses)),t(window).on("resize",this.proxy(this.fixScrollClasses)),this.el.on("scroll",this.proxy(this.fixScrollClasses))),this.fixScrollClasses()};i.prototype.dispose=function(){clearTimeout(this.fixScrollClassesIntervalId),this.scrollClassContainer=null,this.options.noScrollClasses||(t(document).off("ready",this.proxy(this.fixScrollClasses)),t(window).off("resize",this.proxy(this.fixScrollClasses)),this.el.off("scroll",this.proxy(this.fixScrollClasses))),this.el.off(".dragScroll"),this.el.removeData("oc.dragScroll"),window.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.el=null,o.dispose.call(this)},i.prototype=Object.create(o),i.prototype.constructor=i,i.DEFAULTS={vertical:!1,useDrag:!0,useScroll:!0,useNative:!1,useComboScroll:!0,scrollClassContainer:!1,scrollMarkerContainer:!1,scrollSelector:null,dragSelector:null,noOverScroll:!1,dragClass:"drag",start:function(){},drag:function(){},stop:function(){}},i.prototype.fixScrollClasses=function(t){if(!this.options.noScrollClasses){if(this.fixScrollClassesIntervalId){if(t)return;clearTimeout(this.fixScrollClassesIntervalId),this.fixScrollClassesIntervalId=null}var e=this;this.fixScrollClassesIntervalId=window.setTimeout((function(){e.fixScrollClassesIntervalId=null;var t=e.isStart(),o=e.isEnd();e.scrollClassContainer.toggleClass("scroll-before",!t),e.scrollClassContainer.toggleClass("scroll-after",!o),e.scrollClassContainer.toggleClass("scroll-active-before",e.isActiveBefore()),e.scrollClassContainer.toggleClass("scroll-active-after",e.isActiveAfter()),e.isScrollable=!t||!o}),30)}},i.prototype.isStart=function(){return this.options.vertical?this.el.scrollTop()<=0:this.el.scrollLeft()<=0},i.prototype.isEnd=function(){return this.options.vertical?this.el[0].scrollHeight-(this.el.scrollTop()+this.el.outerHeight())-1<=0:this.el[0].scrollWidth-(this.el.scrollLeft()+this.el.outerWidth())-1<=0},i.prototype.goToStart=function(){return this.options.vertical?this.el.scrollTop(0):this.el.scrollLeft(0)},i.prototype.isActiveAfter=function(){var e=t(".active",this.el);return 0!=e.length&&(this.options.vertical?e.get(0).offsetTop>this.el.scrollTop()+this.el.height():e.get(0).offsetLeft>this.el.scrollLeft()+this.el.width())},i.prototype.isActiveBefore=function(){var e=t(".active",this.el);return 0!=e.length&&(this.options.vertical?e.get(0).offsetTop+e.height()<this.el.scrollTop():e.get(0).offsetLeft+e.width()<this.el.scrollLeft())},i.prototype.goToElement=function(e,o,i){var n=t(e);if(n.length){var r=this,s={duration:300,queue:!1,complete:function(){r.fixScrollClasses(),void 0!==o&&o()}};s=t.extend(s,i||{});var a=!1;if(this.options.vertical)if(n.get(0).offsetTop-this.el.scrollTop()<0)this.el.animate({scrollTop:n.get(0).offsetTop},s),a=!0;else{var l=0;s.alignBottom&&(l=n.height()),n.get(0).offsetTop+l-(this.el.scrollTop()+this.el.height())>0&&(this.el.animate({scrollTop:n.get(0).offsetTop+n.height()-this.el.height()+l},s),a=!0)}else n.get(0).offsetLeft-this.el.scrollLeft()<0?(this.el.animate({scrollLeft:n.get(0).offsetLeft},s),a=!0):n.get(0).offsetLeft+n.width()-(this.el.scrollLeft()+this.el.width())>0&&(this.el.animate({scrollLeft:n.get(0).offsetLeft+n.width()-this.el.width()},s),a=!0);a||void 0===o||o()}},i.prototype.pause=function(){this.paused=!0},i.prototype.resume=function(){this.paused=!1};var n=t.fn.dragScroll;t.fn.dragScroll=function(e){var o=arguments;return this.each((function(){var n=t(this),r=n.data("oc.dragScroll"),s="object"==typeof e&&e;if(r||n.data("oc.dragScroll",r=new i(this,s)),"string"==typeof e){for(var a=[],l=1;l<o.length;l++)a.push(o[l]);r[e].apply(r,a)}}))},t.fn.dragScroll.Constructor=i,t.fn.dragScroll.noConflict=function(){return t.fn.dragScroll=n,this}}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$el=t(e),("TR"==this.$el.prop("tagName")?this.$el:this.$el.find("tr:has(td)")).each((function(){var e=t(this).find(o.target).filter((function(){return!t(this).closest("td").hasClass(o.excludeClass)&&!t(this).hasClass(o.excludeClass)})).first();if(e.length){var i=e.attr("href"),n="function"==typeof e.get(0).onclick?e.get(0).onclick:null,r=e.is("[data-control=popup]"),s=e.is("[data-request]"),a=!1,l=t(this).not("."+o.excludeClass);l.on("click","td:not(."+o.excludeClass+") > ."+o.excludeClass,(function(t){a=!0})),l.on("click","td:not(."+o.excludeClass+")",(function(t){p(t)})),l.on("mousedown","td:not(."+o.excludeClass+")",(function(t){2==t.which&&window.open(i)})),l.on("keypress",(function(t){if("(Space character)"===t.key||"Spacebar"===t.key||" "===t.key)return p(t),!1})),t(this).addClass(o.linkedClass),e.hide().after(e.contents())}function p(o){a?a=!1:t(document.body).hasClass("drag")||(n?n.apply(e.get(0)):s?e.request():r?e.popup():o.ctrlKey||o.metaKey?window.open(i):oc.useTurbo()?oc.visit(i):location.assign(i))}})),t("tr.rowlink").attr("tabindex",0)};e.DEFAULTS={target:"a",excludeClass:"nolink",linkedClass:"rowlink"};var o=t.fn.rowLink;t.fn.rowLink=function(o){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),r=n.data("oc.rowlink"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o);r?"string"==typeof o&&r[o].apply(r,i):n.data("oc.rowlink",r=new e(this,s))}))},t.fn.rowLink.Constructor=e,t.fn.rowLink.noConflict=function(){return t.fn.rowLink=o,this},t(document).render((function(){t('[data-control="rowlink"]').rowLink()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.$element=t(e),this.options=t.extend({},t.fn.autocomplete.defaults,o),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=this.options.bodyContainer?this.$element.offset():this.$element.position(),o=t.extend({},e,{height:this.$element[0].offsetHeight}),i={top:o.top+o.height,left:o.left};return this.options.matchWidth&&(i.width=this.$element[0].offsetWidth),this.$menu.css(i),this.options.bodyContainer?t(document.body).append(this.$menu):this.$menu.insertAfter(this.$element),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var o;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(o=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source)?this.process(o):this},itemValue:function(t){return"object"==typeof t?t.value:t},itemLabel:function(t){return"object"==typeof t?t.label:t},itemsToArray:function(e){var o=[];return t.each(e,(function(t,e){o.push({label:e,value:t})})),o},process:function(e){var o=this;return"object"==typeof e&&(e=this.itemsToArray(e)),e=t.grep(e,(function(t){return o.matcher(t)})),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~this.itemValue(t).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,o,i=[],n=[],r=[];e=t.shift();)(o=this.itemValue(e)).toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?n.push(e):r.push(e):i.push(e);return i.concat(n,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),(function(t,e){return"<strong>"+e+"</strong>"}))},render:function(e){var o=this;return(e=t(e).map((function(e,i){return(e=t(o.options.item).attr("data-value",o.itemValue(i))).find("a").html(o.highlighter(o.itemLabel(i))),e[0]}))).first().addClass("active"),this.$menu.html(e),this},next:function(e){var o=this.$menu.find(".active").removeClass("active").next();o.length||(o=t(this.$menu.find("li")[0])),o.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus.autocomplete",t.proxy(this.focus,this)).on("blur.autocomplete",t.proxy(this.blur,this)).on("keypress.autocomplete",t.proxy(this.keypress,this)).on("keyup.autocomplete",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown.autocomplete",t.proxy(this.keydown,this)),this.$menu.on("click.autocomplete",t.proxy(this.click,this)).on("mouseenter.autocomplete","li",t.proxy(this.mouseenter,this)).on("mouseleave.autocomplete","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.key){case"Tab":case"Enter":case"Escape":t.preventDefault();break;case"ArrowUp":t.preventDefault(),this.prev();break;case"ArrowDown":t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.key,["ArrowDown","ArrowUp","Tab","Enter","Escape"]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},destroy:function(){this.hide(),this.$element.removeData("autocomplete"),this.$menu.remove(),this.$element.off(".autocomplete"),this.$menu.off(".autocomplete"),this.$element=null,this.$menu=null}};var o=t.fn.autocomplete;t.fn.autocomplete=function(o){return this.each((function(){var i=t(this),n=i.data("autocomplete"),r="object"==typeof o&&o;n||i.data("autocomplete",n=new e(this,r)),"string"==typeof o&&n[o]()}))},t.fn.autocomplete.defaults={source:[],items:8,menu:'<ul class="autocomplete dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,bodyContainer:!1},t.fn.autocomplete.Constructor=e,t.fn.autocomplete.noConflict=function(){return t.fn.autocomplete=o,this},t(document).on("focus.autocomplete.data-api",'[data-control="autocomplete"]',(function(e){var o=t(this);if(!o.data("autocomplete")){var i=o.data();i.source&&(i.source=function(t,e){if(void 0===e&&(e=""),"object"==typeof e)return e;try{return oc.parseJSON("{"+e+"}")}catch(e){throw new Error("Error parsing the "+t+" attribute value. "+e)}}("data-source",i.source)),o.autocomplete(i)}}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.$el=t(e),this.$field=t("input",this.$el),this.options=o||{};var i=this;t("li",this.$el).click((function(){i.$el.hasClass("control-disabled")||(t("li",i.$el).removeClass("active"),t(this).addClass("active"),i.$field.val(t(this).data("value")).trigger("change"))})),oc.Events.on(this.$el.get(0),"trigger:empty",(function(){t("li",i.$el).removeClass("active"),i.$field.val("").trigger("change")})),oc.Events.on(this.$el.get(0),"trigger:fill",(function(e){var o=e.detail.fillValue;t("li",i.$el).removeClass("active"),t('li[data-value="'+o+'"]',i.$el).addClass("active"),i.$field.val(o).trigger("change")})),oc.Events.on(this.$el.get(0),"trigger:disable",(function(t){var e=t.detail.status;i.$field.prop("disabled",e)}))};e.DEFAULTS={};var o=t.fn.balloonSelector;t.fn.balloonSelector=function(o){return this.each((function(){var i=t(this),n=i.data("oc.balloon-selector"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.balloon-selector",n=new e(this,r))}))},t.fn.balloonSelector.Constructor=e,t.fn.balloonSelector.noConflict=function(){return t.fn.balloonSelector=o,this},t(document).on("render",(function(){t("div[data-control=balloon-selector]").balloonSelector()}))}(window.jQuery),function(t){"use strict";var e='[data-dismiss="callout"]',o=function(o){t(o).on("click",e,this.close)};o.prototype.close=function(e){var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"));var n=t(i);function r(){n.trigger("closed.oc.callout").remove()}e&&e.preventDefault(),n.length||(n=o.hasClass("callout")?o:o.parent()),n.trigger(e=t.Event("close.oc.callout")),e.isDefaultPrevented()||(n.removeClass("show"),n.hasClass("fade")?n.one("transitionend",r):r())};var i=t.fn.callout;t.fn.callout=function(e){return this.each((function(){var i=t(this),n=i.data("oc.callout");n||i.data("oc.callout",n=new o(this)),"string"==typeof e&&n[e].call(i)}))},t.fn.callout.Constructor=o,t.fn.callout.noConflict=function(){return t.fn.callout=i,this},t(document).on("click.oc.callout.data-api",e,o.prototype.close)}(jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.$menu=t("<menu />").addClass("control-contextmenu"),t(document.body).append(this.$menu),i.show&&this.openContextMenu(i.pageX,i.pageY,i.items)};(i.prototype=Object.create(o)).constructor=i,i.DEFAULTS={show:!1,pageX:0,pageY:0,items:[]},i.prototype.openMenu=function(e){var o=this;const i=this.isOpen()?100:0;this.hide(),setTimeout((function(){e.items&&o.buildOptions(e.items),o.show(e.pageX,e.pageY)}),i),t(document).on("click",t.proxy(this.hideContextMenu,this))},i.prototype.closeMenu=function(){t(document).off("click",t.proxy(this.hideContextMenu,this)),this.hide()},i.prototype.buildOptions=function(e){var o=this;this.$menu.empty(),t.each(e,(function(t,e){o.buildOption(e)}))},i.prototype.buildOption=function(e){var o,i=t("<li />").addClass("contextmenu-item");if(e.action){var n=t("<span />").addClass("contextmenu-text").html(e.name);(o=t("<button />").addClass("contextmenu-btn")).append(n),i.on("click",e.action),i.append(o)}else o=t("<span />").addClass("contextmenu-title").html(e.name),i.append(o);if(e.icon){var r=t("<i />").addClass("contextmenu-icon").addClass("icon-"+e.icon);o.prepend(r)}if(e.label){var s=t("<span />").addClass("contextmenu-label").html(e.label);o.append(s)}this.$menu.append(i)},i.prototype.show=function(t,e){const o=window.innerWidth,i=window.innerHeight,n=this.$menu.get(0).offsetWidth,r=this.$menu.get(0).offsetHeight;t+n>o&&(t-=n),e+r>i&&(e-=r),this.$menu.css("left",t+"px"),this.$menu.css("top",e+"px"),this.$menu.addClass("is-visible")},i.prototype.hide=function(){this.$menu.removeClass("is-visible")},i.prototype.isOpen=function(){return this.$menu.hasClass("is-visible")},i.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.contextmenu"),this.$menu=null,this.$el=null,this.options=null,o.dispose.call(this)};var n=t.fn.contextMenu;t.fn.contextMenu=function(e){var o,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=t(this),s=r.data("oc.contextmenu"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);if(s||r.data("oc.contextmenu",s=new i(this,a)),"string"==typeof e&&(o=s[e].apply(s,n)),void 0!==o)return!1})),o||this},t.fn.contextMenu.Constructor=i,t.fn.contextMenu.noConflict=function(){return t.fn.contextMenu=n,this}}(jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.options=i||{},t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.init=function(){oc.changeMonitor&&oc.changeMonitor.disable(),this.dbDateTimeFormat="YYYY-MM-DD HH:mm:ss",this.dbDateFormat="YYYY-MM-DD",this.dbTimeFormat="HH:mm:ss",this.$dataLocker=t("[data-datetime-value]",this.$el),this.$datePicker=t("[data-datepicker]",this.$el),this.$timePicker=t("[data-timepicker]",this.$el),this.hasDate=!!this.$datePicker.length,this.hasTime=!!this.$timePicker.length,this.ignoreTimezone=!!this.$el.get(0).hasAttribute("data-ignore-timezone"),this.defaultTimeMidnight=!!this.$el.get(0).hasAttribute("data-default-time-midnight"),this.disabledDays=this.options.disableDays||[],this.initRegion(),this.hasDate&&this.initDatePicker(),this.hasTime&&this.initTimePicker(),oc.changeMonitor&&oc.changeMonitor.enable(),this.$timePicker.on("change.oc.datepicker",this.proxy(this.onChangePicker)),this.$datePicker.on("change.oc.datepicker",this.proxy(this.onChangePicker)),oc.Events.on(this.$el.get(0),"trigger:disable",this.proxy(this.checkPickerStates)),this.checkPickerStates(),this.$el.one("dispose-control",this.proxy(this.dispose))},i.prototype.dispose=function(){this.$timePicker.off("change.oc.datepicker",this.proxy(this.onChangePicker)),this.$datePicker.off("change.oc.datepicker",this.proxy(this.onChangePicker)),oc.Events.off(this.$el.get(0),"trigger:disable",this.proxy(this.checkPickerStates)),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.datePicker"),this.$el=null,this.options=null,o.dispose.call(this)},i.prototype.onChangePicker=function(e){t.trim(t(e.target).val())?this.onSetLockerValue():this.emptyValues()},i.prototype.checkPickerStates=function(){this.dateIsEnabled=!this.$datePicker.attr("readonly")&&!this.$datePicker.attr("disabled"),this.timeIsEnabled=!this.$timePicker.attr("readonly")&&!this.$timePicker.attr("disabled");var t=!!this.$datePicker.data("pickerBound"),e=!!this.$timePicker.data("pickerBound");!this.dateIsEnabled&&t?(this.$datePicker.pikaday("destroy"),this.$datePicker.data("pickerBound",!1)):this.dateIsEnabled&&!t&&this.initDatePicker(),!this.timeIsEnabled&&e?(this.$timePicker.clockpicker("remove"),this.$timePicker.data("pickerBound",!1)):this.timeIsEnabled&&!e&&this.initTimePicker()},i.prototype.onSetLockerValue=function(){var t=this.getDatePickerValue(),e=this.getTimePickerValue(),o=moment.tz(t+" "+e,this.dbDateTimeFormat,this.timezone).tz(this.appTimezone).format(this.dbDateTimeFormat);this.$dataLocker.val(o)},i.prototype.initDatePicker=function(){var e=this.getDateFormat(),o=moment().tz(this.timezone).format(e),i={yearRange:this.options.yearRange,firstDay:this.options.firstDay,showWeekNumber:this.options.showWeekNumber,format:e,setDefaultDate:o,keyboardInput:!1,disableDayFn:t=>this.isDateDisabled(t),onOpen:function(){var e=t(this._o.trigger);t(this.el).css({left:"auto",right:t(window).width()-e.offset().left-e.outerWidth()})}},n=this.getLang("datepicker",!1);n&&(i.i18n=n),this.$datePicker.val(this.getDataLockerValue(e)),this.options.minDate&&(i.minDate=new Date(this.options.minDate)),this.options.maxDate&&(i.maxDate=new Date(this.options.maxDate)),this.$datePicker.pikaday(i),this.$datePicker.data("pickerBound",!0)},i.prototype.isDateDisabled=function(t){if(!Array.isArray(this.disabledDays))return!1;const e=moment(t,this.getDateFormat()),o=e.format("YYYY-MM-DD");for(const t of this.disabledDays){if(e.day()===t)return!0;if(t===o)return!0}return!1},i.prototype.getDatePickerValue=function(){var t=this.$datePicker.val();return this.hasDate&&t?moment(t,this.getDateFormat()).format(this.dbDateFormat):moment.tz(this.appTimezone).tz(this.timezone).format(this.dbDateFormat)},i.prototype.getDateFormat=function(){var t="YYYY-MM-DD";return this.options.format?t=this.options.format:this.locale&&(t=moment().locale(this.locale).localeData().longDateFormat("l")),t},i.prototype.initTimePicker=function(){this.$timePicker.clockpicker({autoclose:"true",placement:"auto",align:"right",twelvehour:this.isTimeTwelveHour(),afterDone:this.proxy(this.onChangeTimePicker)}),this.$timePicker.val(this.getDataLockerValue(this.getTimeFormat())),this.$timePicker.data("pickerBound",!0)},i.prototype.onChangeTimePicker=function(){this.$timePicker.trigger("change")},i.prototype.getTimePickerValue=function(){var t=this.$timePicker.val();return this.hasTime&&t?moment(t,this.getTimeFormat()).format(this.dbTimeFormat):this.defaultTimeMidnight?"00:00:00":moment.tz(this.appTimezone).tz(this.timezone).format(this.dbTimeFormat)},i.prototype.getTimeFormat=function(){return this.isTimeTwelveHour()?"hh:mm A":"HH:mm"},i.prototype.isTimeTwelveHour=function(){return this.options.twelveHour},i.prototype.emptyValues=function(){this.$dataLocker.val(""),this.$datePicker.val(""),this.$timePicker.val("")},i.prototype.getDataLockerValue=function(t){var e=this.$dataLocker.val();return e?this.getMomentLoadValue(e,t):null},i.prototype.getMomentLoadValue=function(t,e){var o=moment.tz(t,this.appTimezone);return this.locale&&(o=o.locale(this.locale)),(o=o.tz(this.timezone)).format(e)},i.prototype.initRegion=function(){this.locale=t('meta[name="backend-locale"]').attr("content"),this.timezone=t('meta[name="backend-timezone"]').attr("content"),this.appTimezone=t('meta[name="app-timezone"]').attr("content"),this.appTimezone||(this.appTimezone="UTC"),this.timezone||(this.timezone="UTC"),this.ignoreTimezone&&(this.appTimezone="UTC",this.timezone="UTC")},i.prototype.getLang=function(e,o){return void 0===t.oc||void 0===t.oc.lang?o:t.oc.lang.get(e,o)},i.DEFAULTS={minDate:null,maxDate:null,format:null,yearRange:10,disableDays:null,firstDay:0,twelveHour:!1,showWeekNumber:!1};var n=t.fn.datePicker;t.fn.datePicker=function(e){var o,n,r=Array.prototype.slice.call(arguments,1);return o=this.each((function(){var o=t(this),s=o.data("oc.datePicker"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);if(s||o.data("oc.datePicker",s=new i(this,a)),"string"==typeof e&&(n=s[e].apply(s,r)),void 0!==n)return!1})),n||o},t.fn.datePicker.Constructor=i,t.fn.datePicker.noConflict=function(){return t.fn.datePicker=n,this},t(document).on("render",(function(){t('[data-control="datepicker"]').datePicker()}))}(window.jQuery),function(t){"use strict";var e,o,i;function n(){var n=o.offset(),r=n.top-t(window).scrollTop()+i.outerHeight()+1,s=n.left;e.css({position:"fixed",inset:"0px auto auto 0px",transform:"translate("+s+"px, "+r+"px)"})}t(document).on("shown.bs.dropdown",".dropdown",(function(e){t(document.body).addClass("dropdown-open");var o=t(e.relatedTarget).siblings(".dropdown-menu"),i=t(this).data("dropdown-container");if(0===o.length&&(o=t(".dropdown-menu",this)),o.hasClass("control-dropdown")||(t("li > a",o).addClass("dropdown-item"),t("li:first-child",o).addClass("first-item"),t("li:last-child",o).addClass("last-item"),o.addClass("control-dropdown")),void 0!==i&&"body"==i){t(this).data("oc.dropdown",o),t(document.body).append(o),o.css({visibility:"hidden",left:0,top:0,display:"block"});var n=t(this).offset(),r=t(this).height(),s=t(this).width(),a={x:n.left,y:n.top+r},l=s<30?-16:0,p=t(document).height(),c=o.height();c+a.y>p?(a.y=n.top-c-12,o.addClass("top")):o.removeClass("top"),o.css({left:a.x+l,top:a.y,visibility:"visible"})}0==t(".dropdown-overlay",document.body).length&&t(document.body).prepend(t("<div/>").addClass("dropdown-overlay"))})),t(document).on("hidden.bs.dropdown",".dropdown",(function(){var e=t(this).data("oc.dropdown");void 0!==e&&(e.css("display","none"),t(this).append(e)),t(document.body).removeClass("dropdown-open")})),t(document).on("shown.bs.dropdown",".dropdown.dropdown-fixed",(function(r){o=t(this),e=t(".dropdown-menu",o),i=t(r.relatedTarget),e.addClass("is-fixed"),t(window).on("scroll.oc.dropdown, resize.oc.dropdown",n),setTimeout(n,0),n()})),t(document).on("hidden.bs.dropdown",".dropdown.dropdown-fixed",(function(){t(window).off("scroll.oc.dropdown, resize.oc.dropdown",n)}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.$el=t(e),this.options=o||{},this.arrowSize=15,this.docClickHandler=null,this.show()};e.prototype.hide=function(){var e=t.Event("hiding.oc.popover",{relatedTarget:this.$el});this.$el.trigger(e,this),e.isDefaultPrevented()||(this.$container.removeClass("show"),this.options.modal&&this.$overlay.removeClass("show"),this.disposeControls(),this.$container.hasClass("fade")?this.$container.one("transitionend",t.proxy(this.hidePopover,this)):this.hidePopover())},e.prototype.disposeControls=function(){this.$container&&t.oc.foundation.controlUtils.disposeControls(this.$container.get(0))},e.prototype.hidePopover=function(){this.$container.remove(),this.$overlay&&this.$overlay.remove(),this.$el.removeClass("popover-highlight"),this.$el.trigger("hide.oc.popover"),this.$overlay=!1,this.$container=!1,this.$el.data("oc.popover",null),t(document.body).removeClass("popover-open"),t(document).unbind("mousedown",this.docClickHandler),t(document).off(".oc.popover"),this.docClickHandler=null,this.options.onCheckDocumentClickTarget=null},e.prototype.show=function(e){var o=this,i=t.Event("showing.oc.popover",{relatedTarget:this.$el});if(this.$el.trigger(i,this),!i.isDefaultPrevented()){this.$container=t("<div />").addClass("control-popover"),this.options.containerClass&&this.$container.addClass(this.options.containerClass),this.options.useAnimation&&this.$container.addClass("fade");var n=t("<div />").html(this.getContent());this.$container.append(n),this.options.width&&this.$container.width(this.options.width),this.$overlay=t("<div />").addClass("popover-overlay"),t(document.body).append(this.$overlay),this.options.highlightModalTarget&&(this.$el.addClass("popover-highlight"),this.$el.blur()),this.options.container?t(this.options.container).append(this.$container):t(document.body).append(this.$container),this.reposition(),t(window).on("resize",(function(){o.$container&&o.reposition()})),this.$container.addClass("show"),this.options.modal&&this.$overlay.addClass("show"),t(document.body).addClass("popover-open");var r=jQuery.Event("show.oc.popover",{relatedTarget:this.$container.get(0)});this.$el.trigger(r),t("[data-popover-autofocus]:first",this.$container).focus(),this.$container.on("close.oc.popover",(function(t){o.hide()})),this.$container.on("click","[data-dismiss=popover]",(function(t){return o.hide(),!1})),this.docClickHandler=t.proxy(this.onDocumentClick,this),t(document).bind("mousedown",this.docClickHandler),this.options.closeOnEsc&&t(document).on("keyup.oc.popover",(function(e){return!t(e.target).hasClass("select2-offscreen")&&(!!o.options.closeOnEsc&&("Escape"===e.key?(o.hide(),!1):void 0))}))}},e.prototype.reposition=function(){var t=this.calcPlacement(),e=this.calcPosition(t);this.$container.removeClass("placement-center placement-bottom placement-top placement-left placement-right"),this.$container.css({left:e.x,top:e.y}).addClass("placement-"+t)},e.prototype.getContainer=function(){return this.$container.get(0)},e.prototype.getContent=function(){return this.options.contentFrom?t(this.options.contentFrom).html():"function"==typeof this.options.content?this.options.content.call(this.$el[0],this):this.options.content},e.prototype.calcDimensions=function(){var e=t(document).width(),o=t(document).height(),i=this.$el.offset(),n=this.$el.outerWidth(),r=this.$el.outerHeight();return{containerWidth:this.$container.outerWidth()+this.arrowSize,containerHeight:this.$container.outerHeight()+this.arrowSize,targetOffset:i,targetHeight:r,targetWidth:n,spaceLeft:i.left,spaceRight:e-(n+i.left),spaceTop:i.top,spaceBottom:o-(r+i.top),spaceHorizontalBottom:o-i.top,spaceVerticalRight:e-i.left,documentWidth:e}},e.prototype.fitsLeft=function(t){return t.spaceLeft>=t.containerWidth&&t.spaceHorizontalBottom>=t.containerHeight},e.prototype.fitsRight=function(t){return t.spaceRight>=t.containerWidth&&t.spaceHorizontalBottom>=t.containerHeight},e.prototype.fitsBottom=function(t){return t.spaceBottom>=t.containerHeight&&t.spaceVerticalRight>=t.containerWidth},e.prototype.fitsTop=function(t){return t.spaceTop>=t.containerHeight&&t.spaceVerticalRight>=t.containerWidth},e.prototype.calcPlacement=function(){var t=this.options.placement,e=this.calcDimensions();if("center"==t)return t;"bottom"!=t&&"top"!=t&&"left"!=t&&"right"!=t&&(t="bottom");var o={top:this.fitsTop,bottom:this.fitsBottom,left:this.fitsLeft,right:this.fitsRight};if(o[t](e))return t;for(var i in o)if(o[i](e))return i;return this.options.fallbackPlacement},e.prototype.calcPosition=function(e){var o,i=this.calcDimensions();switch(e){case"left":var n=void 0===this.options.offsetY?this.options.offset:this.options.offsetY;o={x:i.targetOffset.left-i.containerWidth,y:i.targetOffset.top+n};break;case"top":n=void 0===this.options.offsetX?this.options.offset:this.options.offsetX;o={x:i.targetOffset.left+n,y:i.targetOffset.top-i.containerHeight};break;case"bottom":n=void 0===this.options.offsetX?this.options.offset:this.options.offsetX;o={x:i.targetOffset.left+n,y:i.targetOffset.top+i.targetHeight+this.arrowSize};break;case"right":n=void 0===this.options.offsetY?this.options.offset:this.options.offsetY;o={x:i.targetOffset.left+i.targetWidth+this.arrowSize,y:i.targetOffset.top+n};break;case"center":var r=t(window).height();(o={x:i.documentWidth/2-i.containerWidth/2,y:r/2-i.containerHeight/2}).y<40&&(o.y=40)}if(!this.options.container)return o;var s=t(this.options.container).offset();return o.x-=s.left,o.y-=s.top,o},e.prototype.onDocumentClick=function(e){this.options.closeOnPageClick&&(this.options.onCheckDocumentClickTarget&&this.options.onCheckDocumentClickTarget(e.target)||t.contains(this.$container.get(0),e.target)||this.hide())},e.DEFAULTS={placement:"bottom",fallbackPlacement:"bottom",content:"<p>Popover content<p>",contentFrom:null,width:!1,modal:!1,highlightModalTarget:!1,closeOnPageClick:!0,closeOnEsc:!0,container:!1,containerClass:null,offset:15,useAnimation:!1,onCheckDocumentClickTarget:null};var o=t.fn.ocPopover;t.fn.ocPopover=function(o){var i,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=t(this),s=r.data("oc.popover"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof o&&o);if(s||r.data("oc.popover",s=new e(this,a)),"string"==typeof o&&(i=s[o].apply(s,n)),void 0!==i)return!1})),i||this},t.fn.ocPopover.Constructor=e,t.fn.ocPopover.noConflict=function(){return t.fn.ocPopover=o,this},t(document).on("click","[data-control=popover]",(function(e){return t(this).ocPopover(),!1}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.options=i,this.$el=t(o),this.$container=null,this.$modal=null,this.$backdrop=null,this.isOpen=!1,this.isLoading=!1,this.firstDiv=null,this.allowHide=!0,this.$container=this.createPopupContainer(),this.$content=t(".modal-content:first",this.$container),this.$dialog=t(".modal-dialog:first",this.$container),this.$modal=this.$container.modal({show:!1,backdrop:!1,keyboard:this.options.keyboard,focus:!1}),t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.initEvents(),this.init()};(i.prototype=Object.create(o)).constructor=i,i.DEFAULTS={ajax:null,handler:null,keyboard:!0,extraData:{},content:null,size:null,adaptiveHeight:!1,zIndex:null},i.prototype.init=function(){var e=this;if(!e.isOpen)if(this.setBackdrop(!0),this.options.content||this.setLoading(!0),this.options.handler)this.$el.request(this.options.handler,{data:r("data-extra-data",this.options.extraData),success:function(o,i,n){if(o instanceof Blob)return e.isLoading?e.hideLoading():e.hide(),e.triggerEvent("popup:download"),void this.success(o,i,n);this.success(o,i,n).done((function(){e.setContent(o.result),t(window).trigger("ajaxUpdateComplete",[this,o,i,n]),e.triggerEvent("popupComplete"),e.triggerEvent("complete.oc.popup")}))},error:function(t,o,i){this.error(t,o,i).done((function(){e.isLoading?e.hideLoading():e.hide(),e.triggerEvent("popupError"),e.triggerEvent("error.oc.popup")}))},cancel:function(){e.isLoading?e.hideLoading():e.hide()}});else if(this.options.ajax)t.ajax({url:this.options.ajax,data:r("data-extra-data",this.options.extraData),success:function(t){e.setContent(t)},cache:!1});else if(this.options.content){var o="function"==typeof this.options.content?this.options.content.call(this.$el[0],this):this.options.content;this.setContent(o)}},i.prototype.initEvents=function(){var e=this;this.$container.data("oc.popup",this),this.$modal.on("hide.bs.modal",(function(){e.triggerEvent("hide.oc.popup"),e.isOpen=!1,e.setBackdrop(!1)})),this.$modal.on("hidden.bs.modal",(function(){e.triggerEvent("hidden.oc.popup"),t.oc.foundation.controlUtils.disposeControls(e.$container.get(0)),e.$container.remove(),t(document.body).removeClass("modal-open"),e.dispose()})),this.$modal.on("show.bs.modal",(function(){e.isOpen=!0,e.setBackdrop(!0),t(document.body).addClass("modal-open")})),this.$modal.on("shown.bs.modal",(function(){e.triggerEvent("shown.oc.popup")})),this.$modal.on("close.oc.popup",(function(){return e.hide(),!1})),oc.Events.dispatch("popup:show")},i.prototype.dispose=function(){this.$modal.off("hide.bs.modal"),this.$modal.off("hidden.bs.modal"),this.$modal.off("show.bs.modal"),this.$modal.off("shown.bs.modal"),this.$modal.off("close.oc.popup"),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.popup"),this.$container.removeData("oc.popup"),this.$container=null,this.$content=null,this.$dialog=null,this.$modal=null,this.$el=null,this.options=null,o.dispose.call(this)},i.prototype.createPopupContainer=function(){var e=t("<div />").prop({class:"control-popup modal fade",role:"dialog",tabindex:-1}),o=t("<div />").addClass("modal-dialog"),i=t("<div />").addClass("modal-content");return this.options.size&&o.addClass("size-"+this.options.size),this.options.adaptiveHeight&&o.addClass("adaptive-height"),null!==this.options.zIndex&&e.css("z-index",this.options.zIndex+20),e.append(o.append(i))},i.prototype.setContent=function(e){this.setLoading(!1),this.$modal.modal("show"),this.$content.html(e),this.triggerShowEvent(),this.firstDiv=this.$content.find(">div:first"),this.firstDiv.length>0&&this.firstDiv.data("oc.popup",this);var o=t("[default-focus]",this.$content);o.is(":visible")&&window.setTimeout((function(){o.focus(),o=null}),300)},i.prototype.setBackdrop=function(e){e&&!this.$backdrop?(this.$backdrop=t('<div class="popup-backdrop fade" />'),null!==this.options.zIndex&&this.$backdrop.css("z-index",this.options.zIndex),this.$backdrop.appendTo(document.body),this.$backdrop.addClass("show"),this.$backdrop.append(t('<div class="modal-content popup-loading-indicator" />'))):!e&&this.$backdrop&&(this.$backdrop.remove(),this.$backdrop=null)},i.prototype.setLoading=function(t){if(this.$backdrop){this.isLoading=t;var e=this;t?setTimeout((function(){e.$backdrop.addClass("loading")}),100):setTimeout((function(){e.$backdrop.removeClass("loading")}),100)}},i.prototype.setShake=function(){var t=this;this.$content.addClass("popup-shaking"),setTimeout((function(){t.$content.removeClass("popup-shaking")}),1e3)},i.prototype.hideLoading=function(t){this.setLoading(!1);var e=this;setTimeout((function(){e.setBackdrop(!1)}),250),setTimeout((function(){e.hide()}),500)},i.prototype.triggerEvent=function(t,e){e||(e=[this.$el,this.$modal]);var o=jQuery.Event(t,{relatedTarget:this.$container.get(0)});this.$el.trigger(o,e),this.firstDiv&&this.firstDiv.trigger(o,e)},i.prototype.reload=function(){this.init()},i.prototype.show=function(){this.$modal.modal("show"),this.triggerShowEvent()},i.prototype.triggerShowEvent=function(){this.$modal.on("click.dismiss.popup",'[data-dismiss="popup"]',t.proxy(this.hide,this)),this.triggerEvent("popupShow"),this.triggerEvent("show.oc.popup"),this.$dialog.css("transform","inherit")},i.prototype.hide=function(){this.isOpen&&(this.triggerEvent("popupHide"),this.triggerEvent("hide.oc.popup"),this.allowHide&&this.$modal.modal("hide"),this.$dialog.css("transform",""))},i.prototype.visible=function(t){t?this.$modal.addClass("show"):this.$modal.removeClass("show"),this.setBackdrop(t)},i.prototype.toggle=function(){this.triggerEvent("toggle.oc.popup",[this.$modal]),this.$modal.modal("toggle")},i.prototype.lock=function(t){this.allowHide=!t};var n=t.fn.popup;function r(t,e){if(void 0===e&&(e=""),"object"==typeof e)return e;try{return oc.parseJSON("{"+e+"}")}catch(e){throw new Error("Error parsing the "+t+" attribute value. "+e)}}t.fn.popup=function(e){var o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),r=n.data("oc.popup"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);r?"string"==typeof e?r[e].apply(r,o):r.reload():n.data("oc.popup",r=new i(this,s))}))},t.fn.popup.Constructor=i,t.popup=function(e){return t("<a />").popup(e)},t.fn.popup.noConflict=function(){return t.fn.popup=n,this},t(document).on("click.oc.popup",'[data-control~="popup"]',(function(e){e.preventDefault(),t(this).popup()})),t(document).on("ajax:before-request","[data-popup-load-indicator]",(function(e){t(this).data("request")===e.detail.context.handler&&(t(this).closest(".control-popup").hasClass("show")||e.preventDefault())})).on("ajax:promise","[data-popup-load-indicator]",(function(e){t(this).data("request")===e.detail.context.handler&&t(this).closest(".control-popup").removeClass("show").popup("setLoading",!0)})).on("ajax:fail","[data-popup-load-indicator]",(function(e){t(this).data("request")===e.detail.context.handler&&t(this).closest(".control-popup").addClass("show").popup("setLoading",!1).popup("setShake")})).on("ajax:done","[data-popup-load-indicator]",(function(e){t(this).data("request")===e.detail.context.handler&&t(this).closest(".control-popup").popup("hideLoading")}))}(window.jQuery),function(t){"use strict";new class{constructor(){t(document).on("hidden.bs.modal",(t=>this.onPopupHidden(t))),t(document).on("shown.bs.modal",(t=>this.onPopupShown(t))),oc.Events.on(document,"popup:show",(t=>this.onPopupShowing(t)))}onPopupHidden(t){this.redrawStack(),this.pullForward()}onPopupShowing(t){document.activeElement&&document.activeElement.blur(),this.redrawStack(!0)}onPopupShown(t){var e=t.target;e.dataset.popupStackId||(e.dataset.popupStackId=this.generateUniqueId()),this.redrawStack()}pullForward(){const t=this.getFirstPopup();if(!t)return;const e=t.querySelector(".modal-content");e&&(e.style.transform=null,e.style.transformOrigin=null,t.style.zIndex=null,setTimeout((()=>{e&&(e.style.transition=null)}),350));const o=t.previousElementSibling;o&&o.classList.contains("popup-backdrop")&&(o.style.zIndex=null)}redrawStack(t){let e=0;this.getAllPopups().forEach((o=>{e++;let i=e;if(!t&&(i--,1===e))return;const n=o.querySelector(".modal-content");n&&!n.classList.contains("popup-loading-indicator")&&(n.style.transform=`scale(.9) translate(-${2*i}rem, -${50*i}px)`,n.style.transformOrigin="top left",n.style.transition="all .3s",o.style.zIndex=490-i);const r=o.previousElementSibling;r&&r.classList.contains("popup-backdrop")&&(r.style.zIndex=490-i)}))}getFirstPopup(){return this.getAllPopups()[0]}getAllPopups(){return Array.from(document.querySelectorAll(".modal[data-popup-stack-id]")).reverse()}generateUniqueId(){return"popupid-"+Math.floor(Math.random()*(new Date).getTime())}}}($),function(t){"use strict";var e=function(e,o){var i=this.$el=t(e);this.options=o||{},this.$tabsContainer=t(".nav-tabs:first",i),this.$pagesContainer=t(".tab-content:first",i),this.tabId="tabs"+i.parents().length+Math.round(1e3*Math.random()),this.options.closable&&i.attr("data-closable",""),""===this.options.linkable&&(this.options.linkable=!0),this.init()};e.DEFAULTS={closable:null,linkable:null,paneClasses:null,titleAsFileNames:null,maxTitleSymbols:null,closeConfirmation:null},e.prototype.init=function(){var e=this;if(t("> li",this.$tabsContainer).each((function(t){e.initTab(this)})),this.$el.on("close.oc.tab",(function(o,i){o.preventDefault();var n=void 0!==i&&void 0!==i.force&&i.force;e.closeTab(t(o.target).closest("ul.nav-tabs > li, div.tab-content > div"),n)})),this.$el.on("mousedown","li[data-tab-id]",(function(e){"2"===e.key&&t(e.target).trigger("close.oc.tab")})),this.$el.on("toggleCollapse.oc.tab",(function(e,o){e.preventDefault(),t(e.target).closest("div.tab-content > div").toggleClass("collapsed")})),this.$el.on("modified.oc.tab",(function(o){o.preventDefault(),e.modifyTab(t(o.target).closest("ul.nav-tabs > li, div.tab-content > div"))})),this.$el.on("unmodified.oc.tab",(function(o){o.preventDefault(),e.unmodifyTab(t(o.target).closest("ul.nav-tabs > li, div.tab-content > div"))})),this.$tabsContainer.on("shown.bs.tab","li",(function(){t(window).trigger("oc.updateUi");var o=t("> a",this);t(this).addClass("active").siblings(".active").removeClass("active"),t(o.data("bs-target")).siblings(".active").removeClass("active");var i=o.data("tabUrl");!i&&e.options.linkable&&(i=o.attr("href")),i&&(oc.useTurbo()?oc.visit(i,{action:"swap",scroll:!1}):window.history.replaceState({},"Tab link reference",i))})),this.$tabsContainer.toolbar({scrollClassContainer:this.$el}),this.updateClasses(),location.hash&&this.options.linkable){var o=t('li > a[href="'+location.hash+'"]',this.$tabsContainer);o.tab("show"),setTimeout((function(){o.trigger("shownLinkable.oc.tab")}),1)}},e.prototype.initTab=function(e){var o=t("> li",this.$tabsContainer).index(e),i=(new Date).getTime(),n=t("a",e),r=t("> .tab-pane",this.$pagesContainer).eq(o),s=this.tabId+"-tab-"+o+i;if(n.data("target","#"+s).attr("data-bs-target","#"+s).attr("data-bs-toggle","tab"),n.find("> span.title > span").length<1){var a=n.html();n.html("").append(t('<span class="title"></span>').append(t("<span></span>").html(a)))}r.attr("id",s),t("span.tab-close",e).length||t(e).append(t('<span class="tab-close"><i>&times;</i></span>').click((function(){return t(this).trigger("close.oc.tab"),!1}))),r.data("tab",e),this.$el.trigger("initTab.oc.tab",[{pane:r,tab:e}])},e.prototype.addTab=function(e,o,i,n){var r=this.generateTitleText(e,-1),s=t("<a/>").attr("href","javascript:;").text(r),a=t("<li/>"),l=t("<div>").html(o).addClass("tab-pane");s.attr("title",e),a.append(s),this.$tabsContainer.append(a),this.$pagesContainer.append(l),void 0!==n&&s.addClass(n),void 0!==i&&a.attr("data-tab-id",i),this.options.paneClasses&&l.addClass(this.options.paneClasses),this.initTab(a),s.tab("show"),t(window).trigger("resize"),this.$tabsContainer.dragScroll("goToElement",a);var p=t("[default-focus]",l);p.is(":visible")&&p.focus(),this.updateClasses()},e.prototype.updateTab=function(e,o,i){var n=this.findTabIndex(e);if(-1!=n){var r=this.generateTitleText(o,-1),s=t("> li",this.$tabsContainer).eq(n),a=t("> div",this.$pagesContainer).eq(n);t("a",s).text(r).attr("title",o),a.html(i),this.initTab(s),this.updateClasses()}},e.prototype.generateTitleText=function(t,e){var o=t;return this.options.titleAsFileNames&&(o=t.replace(/^.*[\\\/]/,"")),this.options.maxTitleSymbols&&o.length>this.options.maxTitleSymbols&&(o="..."+o.substring(o.length-this.options.maxTitleSymbols)),o},e.prototype.closeTab=function(e,o){var i=this.findTabIndex(e);if(-1!=i){var n=t("> li",this.$tabsContainer).eq(i),r=t("> div",this.$pagesContainer).eq(i),s=n.hasClass("active");if(!(void 0!==n.attr("data-modified"))||!this.options.closeConfirmation||!0===o||confirm(this.options.closeConfirmation)){var a=t.Event("beforeClose.oc.tab",{relatedTarget:r});this.$el.trigger(a),a.isDefaultPrevented()||(t.oc.foundation.controlUtils.disposeControls(r.get(0)),r.remove(),n.remove(),s&&t("> li > a",this.$tabsContainer).eq(i-1).tab("show"),0==t("> li > a",this.$tabsContainer).length&&this.$el.trigger("afterAllClosed.oc.tab"),this.$el.trigger("closed.oc.tab",[n,r]),t(window).trigger("resize"),this.updateClasses())}}},e.prototype.updateClasses=function(){this.$tabsContainer.children().length>0?this.$el.addClass("has-tabs"):this.$el.removeClass("has-tabs")},e.prototype.modifyTab=function(e){var o=this.findTabIndex(e);-1!=o&&(t("> li",this.$tabsContainer).eq(o).attr("data-modified",""),t("> div",this.$pagesContainer).eq(o).attr("data-modified",""))},e.prototype.unmodifyTab=function(e){var o=this.findTabIndex(e);-1!=o&&(t("> li",this.$tabsContainer).eq(o).removeAttr("data-modified"),t("> div",this.$pagesContainer).eq(o).removeAttr("data-modified"))},e.prototype.findTabIndex=function(e){var o=e;void 0===e&&(o=t("li.active",this.$tabsContainer));var i=this.$pagesContainer;return t(o).parent().hasClass("nav-tabs")&&(i=this.$tabsContainer),i.children().index(t(o))},e.prototype.findTabFromPane=function(e){var o="#"+t(e).attr("id");return t('[data-target="'+o+'"]',this.$tabsContainer)},e.prototype.findPaneFromTab=function(e){var o=t(e).find("> a").data("target");return this.$pagesContainer.find(o)},e.prototype.goTo=function(e){var o=t('[data-tab-id="'+e+'" ]',this.$tabsContainer);if(0==o.length)return!1;var i=this.findTabIndex(o);return-1!=i&&(this.goToIndex(i),this.$tabsContainer.dragScroll("goToElement",o),!0)},e.prototype.goToPane=function(e){var o=t(e),i=this.findTabFromPane(o);if(0!=o.length){o.removeClass("collapsed");var n=this.findTabIndex(o);return-1!=n&&(this.goToIndex(n),i.length>0&&this.$tabsContainer.dragScroll("goToElement",i),!0)}},e.prototype.goToElement=function(t){return this.goToPane(t.closest(".tab-pane"))},e.prototype.findByIdentifier=function(e){return t('[data-tab-id="'+e+'" ]',this.$tabsContainer)},e.prototype.updateIdentifier=function(e,o){var i=this.findTabIndex(e);-1!=i&&t("> li",this.$tabsContainer).eq(i).attr("data-tab-id",o)},e.prototype.updateTitle=function(e,o){var i=this.findTabIndex(e);if(-1!=i){var n=this.generateTitleText(o,i),r=t("> li > a span.title",this.$tabsContainer).eq(i);r.attr("title",o),r.text(n)}},e.prototype.goToIndex=function(e){t("> li > a",this.$tabsContainer).eq(e).tab("show")},e.prototype.prev=function(){var t=this.findTabIndex();t<=0||this.goToIndex(t-1)},e.prototype.next=function(){var t=this.findTabIndex();-1!=t&&this.goToIndex(t+1)};var o=t.fn.ocTab;t.fn.ocTab=function(o){var i=arguments;return this.each((function(){var n=t(this),r=n.data("oc.tab"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o);if(r||n.data("oc.tab",r=new e(this,s)),"string"==typeof o){for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[o].apply(r,a)}}))},t.fn.ocTab.Constructor=e,t.fn.ocTab.noConflict=function(){return t.fn.ocTab=o,this},t(document).render((function(){t("[data-control=tab]").ocTab()})),t(window).on("ajaxInvalidField",(function(e,o,i,n,r){if(r){e.preventDefault();var s=t(o);s.closest("[data-control=tab]").ocTab("goToElement",s),s.focus()}}))}(window.jQuery),oc.registerControl("searchinput",class extends oc.ControlBase{init(){this.$form=this.element.closest("form"),this.$triggerEl=this.$form?this.$form:this.element,this.$input=this.element.querySelector("[data-search-input]"),this.$clearBtn=this.element.querySelector("[data-search-clear]"),this.extraData=null}connect(){this.element.classList.add("control-search"),this.element.classList.add("size-input-text"),this.element.classList.add("loading-indicator-container"),this.listen("ajax:setup",this.linkToListWidget),this.listen("ajax:request-complete",this.$triggerEl,this.toggleClearButton),this.listen("input",this.$input,this.toggleClearButton),this.listen("click",this.$clearBtn,this.clearInput),this.toggleClearButton()}disconnect(){this.element.classList.remove("control-search"),this.element.classList.remove("size-input-text"),this.element.classList.remove("loading-indicator-container")}clearInput(){this.$input.value="",this.toggleClearButton(),this.$input.dataset.request&&oc.request(this.$input)}toggleClearButton(){this.$input.value?this.$clearBtn.style.display="block":this.$clearBtn.style.display="none"}linkToListWidget(t,e){var o=$(this.element).closest("[data-list-linkage]").data("list-linkage");if(o){var i=$("#"+o+" > .control-list:first");i.data("oc.listwidget")&&(e.options.data.allChecked=i.listWidget("getAllChecked"))}}}),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){var n=this.$el=t(o),r=n.closest(".control-toolbar");t.oc.foundation.controlUtils.markDisposable(o),this.$toolbar=r,this.options=i||{};var s=void 0!==i.noDragSupport&&i.noDragSupport;e.call(this);var a=void 0!==i.scrollClassContainer?i.scrollClassContainer:n.parent();function l(){t(window).trigger("resize")}this.options.useNativeDrag&&n.addClass("is-native-drag"),n.dragScroll({scrollClassContainer:a,useDrag:!s,useNative:this.options.useNativeDrag,vertical:this.options.vertical,noOverScroll:this.options.vertical}),t(".form-control.growable",r).on("focus.toolbar",(function(){l()})),t(".form-control.growable",r).on("blur.toolbar",(function(){l()})),this.$el.one("dispose-control",this.proxy(this.dispose))};(i.prototype=Object.create(o)).constructor=i,i.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),t(".form-control.growable",this.$toolbar).off(".toolbar"),this.$el.dragScroll("dispose"),this.$el.removeData("oc.toolbar"),this.$el=null,o.dispose.call(this)},i.DEFAULTS={useNativeDrag:!1,vertical:!1};var n=t.fn.toolbar;t.fn.toolbar=function(e){var o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this),r=n.data("oc.toolbar"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);r||n.data("oc.toolbar",r=new i(this,s)),"string"==typeof e&&r[e].apply(r,o)}))},t.fn.toolbar.Constructor=i,t.fn.toolbar.noConflict=function(){return t.fn.toolbar=n,this},t(document).on("render",(function(){t("[data-control=toolbar]").toolbar()}))}(window.jQuery),function(t){t(document).render((function(){t('[data-control="tooltip"], [data-bs-toggle="tooltip"], [data-toggle="tooltip"]').tooltip()}))}(jQuery),function(t){t(document).render((function(){t(".form-check.is-indeterminate > input").each((function(){var e=t(this);switch(e.data("checked")){case 1:e.prop("indeterminate",!0);break;case 2:e.prop("indeterminate",!1),e.prop("checked",!0);break;default:e.prop("indeterminate",!1),e.prop("checked",!1)}}))})),t(document).on("click",".form-check.is-indeterminate > input",(function(){var e=t(this),o=e.data("checked");switch(void 0===o&&(o=e.is(":checked")?1:0),o){case 0:e.data("checked",1),e.prop("indeterminate",!0);break;case 1:e.data("checked",2),e.prop("indeterminate",!1),e.prop("checked",!0);break;default:e.data("checked",0),e.prop("indeterminate",!1),e.prop("checked",!1)}})),void 0===t.oc&&(t.oc={}),t.oc.checkboxRangeDetail={lastCheckbox:null,isLastChecked:!0},t.oc.checkboxRangeRegisterClick=function(e,o,i){var n=e.target,r=t.oc.checkboxRangeDetail,s=function(e,o){e.forEach((function(e){e.querySelectorAll(i).forEach((function(e){e.checked=o,t(e).trigger("change")}))}))};r.lastCheckbox&&e.shiftKey?function(t,e){for(var i=t.closest(o),n=e.closest(o),a=[],l=i;l;){if(l===n)return void s(a,r.isLastChecked);a.push(l),l=l.nextElementSibling}a=[];for(var p=i;p;){if(p===n)return void s(a,r.isLastChecked);a.push(p),p=p.previousElementSibling}}(n,r.lastCheckbox):(r.lastCheckbox=n,r.isLastChecked=n.checked)}}(jQuery),function(t){"use strict";var e=function(e,o){this.$el=t(e),this.options=o||{},this.tally=0,this.show()};e.prototype.hide=function(){this.tally--,this.tally<=0&&(t("div.loading-indicator",this.$el).remove(),this.$el.removeClass("in-progress"))},e.prototype.show=function(e){e&&(this.options=e),this.hide();var o=t('<div class="loading-indicator"></div>');o.append(t("<div></div>").text(this.options.text)),o.append(t("<span></span>")),void 0!==this.options.opaque&&o.addClass("is-opaque"),void 0!==this.options.centered&&o.addClass("indicator-center"),"small"===this.options.size&&o.addClass("size-small"),this.$el.prepend(o),this.$el.addClass("in-progress"),this.tally++},e.prototype.destroy=function(){this.$el.removeData("oc.loadIndicator"),this.$el=null},e.DEFAULTS={text:""};var o=t.fn.loadIndicator;t.fn.loadIndicator=function(o){var i=arguments;return this.each((function(){var n=t(this),r=n.data("oc.loadIndicator"),s=t.extend({},e.DEFAULTS,"object"==typeof o&&o);if(r)if("string"!=typeof o)r.show(s);else{for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[o].apply(r,a)}else{if("string"==typeof o)return;n.data("oc.loadIndicator",r=new e(this,s))}}))},t.fn.loadIndicator.Constructor=e,t.fn.loadIndicator.noConflict=function(){return t.fn.loadIndicator=o,this},t(document).on("ajaxPromise","[data-load-indicator]",(function(){var e=t(this).closest(".loading-indicator-container"),o=t(this).data("load-indicator"),i={opaque:t(this).data("load-indicator-opaque"),centered:t(this).data("load-indicator-centered"),size:t(this).data("load-indicator-size")};o&&(i.text=o),e.loadIndicator(i)})).on("ajaxFail ajaxDone","[data-load-indicator]",(function(){t(this).closest(".loading-indicator-container").loadIndicator("hide")}))}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.inspector&&(t.oc.inspector={});var e=t.oc.foundation.base,o=e.prototype,i=function(o,n,r,s,a,l,p,c){if(void 0===s)throw new Error("Inspector surface unique ID should be defined.");this.options=t.extend({},i.DEFAULTS,"object"==typeof a&&a),this.rawProperties=n,this.parsedProperties=t.oc.inspector.engine.processPropertyGroups(n),this.container=o,this.inspectorUniqueId=s,this.values=null!==r?r:{},this.originalValues=t.extend(!0,{},this.values),this.idCounter=1,this.popupCounter=0,this.parentSurface=l,this.propertyName=c,this.editors=[],this.externalParameterEditors=[],this.tableContainer=null,this.groupManager=null,this.group=null,void 0!==p&&(this.group=p),this.parentSurface||(this.groupManager=new t.oc.inspector.groupManager(this.inspectorUniqueId)),e.call(this),this.init()};i.prototype=Object.create(o),i.prototype.constructor=i,i.prototype.dispose=function(){this.unregisterHandlers(),this.disposeControls(),this.disposeEditors(),this.removeElements(),this.disposeExternalParameterEditors(),this.container=null,this.tableContainer=null,this.rawProperties=null,this.parsedProperties=null,this.editors=null,this.externalParameterEditors=null,this.values=null,this.originalValues=null,this.options.onChange=null,this.options.onPopupDisplayed=null,this.options.onPopupHidden=null,this.options.onGetInspectableElement=null,this.parentSurface=null,this.groupManager=null,this.group=null,o.dispose.call(this)},i.prototype.init=function(){this.groupManager&&!this.group&&(this.group=this.groupManager.createGroup("root")),this.build(),this.parentSurface||t.oc.foundation.controlUtils.markDisposable(this.tableContainer),this.registerHandlers()},i.prototype.registerHandlers=function(){this.parentSurface||(t(this.tableContainer).one("dispose-control",this.proxy(this.dispose)),t(this.tableContainer).on("click","tr.group, tr.control-group",this.proxy(this.onGroupClick)),t(this.tableContainer).on("focus-control",this.proxy(this.focusFirstEditor)))},i.prototype.unregisterHandlers=function(){this.parentSurface||(t(this.tableContainer).off("dispose-control",this.proxy(this.dispose)),t(this.tableContainer).off("click","tr.group, tr.control-group",this.proxy(this.onGroupClick)),t(this.tableContainer).off("focus-control",this.proxy(this.focusFirstEditor)))},i.prototype.getEventHandler=function(e){return t.oc.inspector.helpers.getEventHandler(this.getInspectableElement(),e)},i.prototype.build=function(){this.tableContainer=document.createElement("div");var e=document.createElement("table"),o=document.createElement("tbody");t.oc.foundation.element.addClass(e,"inspector-fields"),this.parsedProperties.hasGroups&&t.oc.foundation.element.addClass(e,"has-groups");for(var i=this.group,n=0,r=this.parsedProperties.properties.length;n<r;n++){var s=this.parsedProperties.properties[n];"group"==s.itemType?i=this.getGroupManager().createGroup(s.groupIndex,this.group):void 0===s.groupIndex&&(i=this.group);var a=this.buildRow(s,i);"group"==s.itemType?this.applyGroupLevelToRow(a,i.parentGroup):this.applyGroupLevelToRow(a,i),o.appendChild(a),this.buildEditor(a,s,e,i)}e.appendChild(o),this.tableContainer.appendChild(e),this.container.appendChild(this.tableContainer),this.options.enableExternalParameterEditor&&this.buildExternalParameterEditor(o),this.parentSurface||this.focusFirstEditor()},i.prototype.moveToContainer=function(t){this.container=t,this.container.appendChild(this.tableContainer)},i.prototype.buildRow=function(e,o){var i=document.createElement("tr"),n=document.createElement("th"),r=document.createElement("span"),s=this.buildPropertyDescription(e);e.property&&(i.setAttribute("data-property",e.property),i.setAttribute("data-property-path",this.getPropertyPath(e.property))),this.applyGroupIndexAttribute(e,i,o),t.oc.foundation.element.addClass(i,this.getRowCssClass(e,o)),this.applyHeadColspan(n,e),r.setAttribute("class","title-element"),r.setAttribute("title",this.escapeJavascriptString(e.title)),this.buildGroupExpandControl(r,e,!1,!1,o),r.innerHTML+=this.escapeJavascriptString(e.title);var a=document.createElement("div"),l=document.createElement("div");return l.appendChild(r),s&&l.appendChild(s),a.appendChild(l),n.appendChild(a),i.appendChild(n),i},i.prototype.focusFirstEditor=function(){if(0!=this.editors.length){this.getGroupManager();for(var t=0,e=this.editors.length;t<e;t++){var o=this.editors[t],i=o.parentGroup;if(!i||this.groupManager.isGroupExpanded(i)){var n=this.findExternalParameterEditor(o.getPropertyName());return n&&n.isEditorVisible()?void n.focus():void o.focus()}}}},i.prototype.getRowCssClass=function(t,e){var o=t.itemType;return"property"==t.itemType&&e.parentGroup&&(o+=this.getGroupManager().isGroupExpanded(e)?" expanded":" collapsed"),"property"!=t.itemType||t.showExternalParam||(o+=" no-external-parameter"),o},i.prototype.applyHeadColspan=function(t,e){"group"==e.itemType&&t.setAttribute("colspan",2)},i.prototype.buildGroupExpandControl=function(t,e,o,i,n){if("group"===e.itemType||o){this.getGroupManager().getGroupIndex(n);var r=this.getGroupManager().isGroupExpanded(n)?"expanded":"",s=document.createElement("a");s.setAttribute("class","expandControl "+r),s.setAttribute("href","javascript:;"),s.innerHTML="<span>Expand/collapse</span>",t.appendChild(s)}},i.prototype.buildPropertyDescription=function(t){if(void 0===t.description||null===t.description)return null;var e=document.createElement("span");return e.setAttribute("data-tooltip-text",this.escapeJavascriptString(t.description)),e.setAttribute("class","info octo-icon-info with-tooltip"),e},i.prototype.buildExternalParameterEditor=function(e){for(var o=e.children,i=0,n=o.length;i<n;i++){var r=o[i],s=r.getAttribute("data-property");if(!t.oc.foundation.element.hasClass(r,"no-external-parameter")&&s){var a=this.findPropertyEditor(s);if(!a||a.supportsExternalParameterEditor()){var l=r.querySelector("td"),p=this.findPropertyDefinition(s),c=this.getPropertyValue(s);void 0===c&&(c=a.getUndefinedValue());var u=new t.oc.inspector.externalParameterEditor(this,p,l,c);this.externalParameterEditors.push(u)}}}},i.prototype.applyGroupIndexAttribute=function(t,e,o,i){"group"==t.itemType||i?(e.setAttribute("data-group-index",this.getGroupManager().getGroupIndex(o)),e.setAttribute("data-parent-group-index",this.getGroupManager().getGroupIndex(o.parentGroup))):o.parentGroup&&e.setAttribute("data-parent-group-index",this.getGroupManager().getGroupIndex(o))},i.prototype.applyGroupLevelToRow=function(t,e){if(!t.hasAttribute("data-group-level")){var o=this.getRowHeadElement(t);if(null===o)throw new Error("Cannot find TH element for the Inspector row");var i=e.getLevel();t.setAttribute("data-group-level",i),o.children[0].style.marginLeft=10*i+"px"}},i.prototype.toggleGroup=function(e,o){var i=e.querySelector("a"),n=e.getAttribute("data-group-index"),r=this.getRootTable(),s=this.getGroupManager(),a=!0;t.oc.foundation.element.hasClass(i,"expanded")&&!o?t.oc.foundation.element.removeClass(i,"expanded"):(t.oc.foundation.element.addClass(i,"expanded"),a=!1);var l=s.findGroupRows(r,n,!a),p=Math.round(50/l.length);this.expandOrCollapseRows(l,a,p,o),s.setGroupStatus(n,!a)},i.prototype.expandGroupParents=function(t){for(var e=t.getGroupAndAllParents(),o=this.getRootTable(),i=e.length-1;i>=0;i--){var n=e[i].findGroupRow(o);n&&this.toggleGroup(n,!0)}},i.prototype.expandOrCollapseRows=function(e,o,i,n){var r=e.pop(),s=this;r&&(n?(t.oc.foundation.element.toggleClass(r,"collapsed",o),t.oc.foundation.element.toggleClass(r,"expanded",!o),s.expandOrCollapseRows(e,o,i,n)):setTimeout((function(){t.oc.foundation.element.toggleClass(r,"collapsed",o),t.oc.foundation.element.toggleClass(r,"expanded",!o),s.expandOrCollapseRows(e,o,i,n)}),i))},i.prototype.getGroupManager=function(){return this.getRootSurface().groupManager},i.prototype.buildEditor=function(e,o,i,n){if("property"===o.itemType){this.validateEditorType(o.type);var r=document.createElement("td"),s=o.type;e.appendChild(r),void 0===s&&(s="string");var a=new t.oc.inspector.propertyEditors[s](this,o,r,n);a.isGroupedEditor()&&(t.oc.foundation.element.addClass(i,"has-groups"),t.oc.foundation.element.addClass(e,"control-group"),this.applyGroupIndexAttribute(o,e,a.group,!0),this.buildGroupExpandControl(e.querySelector("span.title-element"),o,!0,a.hasChildSurface(),a.group),0==r.children.length&&(e.querySelector("th").setAttribute("colspan",2),e.removeChild(r))),this.editors.push(a)}},i.prototype.generateSequencedId=function(){return this.idCounter++,this.inspectorUniqueId+"-"+this.idCounter},i.prototype.getPropertyValue=function(t){return this.values[t]},i.prototype.setPropertyValue=function(t,e,o,i){if(void 0!==e?this.values[t]=e:void 0!==this.values[t]&&delete this.values[t],!o){void 0!==this.originalValues[t]&&this.comparePropertyValues(this.originalValues[t],e)?this.markPropertyChanged(t,!1):this.markPropertyChanged(t,!0);var n=this.getPropertyPath(t);this.getRootSurface().notifyEditorsPropertyChanged(n,e),null!==this.options.onChange&&this.options.onChange(t,e)}if(i){var r=this.findPropertyEditor(t);r&&r.updateDisplayedValue(e)}return e},i.prototype.notifyEditorsPropertyChanged=function(t,e){for(var o=0,i=this.editors.length;o<i;o++){var n=this.editors[o];n.onInspectorPropertyChanged(t,e),n.notifyChildSurfacesPropertyChanged(t,e)}},i.prototype.makeCellActive=function(e){for(var o=e.parentNode.parentNode.parentNode.querySelectorAll("tr td"),i=0,n=o.length;i<n;i++)t.oc.foundation.element.removeClass(o[i],"active");t.oc.foundation.element.addClass(e,"active")},i.prototype.markPropertyChanged=function(e,o){var i=this.getPropertyPath(e),n=this.tableContainer.querySelector('tr[data-property-path="'+i+'"]');o?t.oc.foundation.element.addClass(n,"changed"):t.oc.foundation.element.removeClass(n,"changed")},i.prototype.findPropertyEditor=function(t){for(var e=0,o=this.editors.length;e<o;e++)if(this.editors[e].getPropertyName()==t)return this.editors[e];return null},i.prototype.findExternalParameterEditor=function(t){for(var e=0,o=this.externalParameterEditors.length;e<o;e++)if(this.externalParameterEditors[e].getPropertyName()==t)return this.externalParameterEditors[e];return null},i.prototype.findPropertyDefinition=function(t){for(var e=0,o=this.parsedProperties.properties.length;e<o;e++){var i=this.parsedProperties.properties[e];if(i.property==t)return i}return null},i.prototype.validateEditorType=function(e){if(void 0===e&&(e="string"),void 0===t.oc.inspector.propertyEditors[e])throw new Error('The Inspector editor class "'+e+'" is not defined in the $.oc.inspector.propertyEditors namespace.')},i.prototype.popupDisplayed=function(){0===this.popupCounter&&null!==this.options.onPopupDisplayed&&this.options.onPopupDisplayed(),this.popupCounter++},i.prototype.popupHidden=function(){this.popupCounter--,this.popupCounter<0&&(this.popupCounter=0),0===this.popupCounter&&null!==this.options.onPopupHidden&&this.options.onPopupHidden()},i.prototype.getInspectableElement=function(){if(null!==this.options.onGetInspectableElement)return this.options.onGetInspectableElement()},i.prototype.getPropertyPath=function(t){var e=[],o=this;for(e.push(t);o;)o.propertyName&&e.push(o.propertyName),o=o.parentSurface;return e.reverse(),e.join(".")},i.prototype.findDependentProperties=function(t){var e=[];for(var o in this.rawProperties){var i=this.rawProperties[o];i.depends&&(-1!==i.depends.indexOf(t)&&e.push(i.property))}return e},i.prototype.mergeChildSurface=function(t,e){var o=t.tableContainer.querySelectorAll("table.inspector-fields > tbody > tr");t.tableContainer=this.getRootSurface().tableContainer;for(var i=o.length-1;i>=0;i--){var n=o[i];e.parentNode.insertBefore(n,e.nextSibling),this.applyGroupLevelToRow(n,t.group)}},i.prototype.getRowHeadElement=function(t){for(var e=t.children.length-1;e>=0;e--){var o=t.children[e];if("TH"===o.tagName)return o}return null},i.prototype.getInspectorUniqueId=function(){return this.inspectorUniqueId},i.prototype.getRootSurface=function(){for(var t=this;t;){if(!t.parentSurface)return t;t=t.parentSurface}},i.prototype.removeElements=function(){this.parentSurface||this.tableContainer.parentNode.removeChild(this.tableContainer)},i.prototype.disposeEditors=function(){for(var t=0,e=this.editors.length;t<e;t++){this.editors[t].dispose()}},i.prototype.disposeExternalParameterEditors=function(){for(var t=0,e=this.externalParameterEditors.length;t<e;t++){this.externalParameterEditors[t].dispose()}},i.prototype.disposeControls=function(){for(var e=this.tableContainer.querySelectorAll(".with-tooltip"),o=0,i=e.length;o<i;o++)t(e[o]).tooltip("dispose")},i.prototype.escapeJavascriptString=function(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML},i.prototype.comparePropertyValues=function(t,e){return(void 0!==t||void 0===e)&&((void 0===t||void 0!==e)&&("object"==typeof t&&"object"==typeof e?JSON.stringify(t)==JSON.stringify(e):t==e))},i.prototype.getRootTable=function(){return this.getRootSurface().container.querySelector("table.inspector-fields")},i.prototype.getValues=function(){for(var e={},o=0,i=this.parsedProperties.properties.length;o<i;o++){var n=this.parsedProperties.properties[o];if("property"===n.itemType){var r=null,s=this.findExternalParameterEditor(n.property);if(s&&s.isEditorVisible())r="{{ "+(r=s.getValue())+" }}";else{r=this.getPropertyValue(n.property);var a=this.findPropertyEditor(n.property);if(void 0===r&&(r=a?a.getUndefinedValue():n.default),r===t.oc.inspector.removedProperty)continue;if(void 0!==n.ignoreIfEmpty&&(!0===n.ignoreIfEmpty||"true"===n.ignoreIfEmpty)&&a&&a.isEmptyValue(r))continue;if(void 0!==n.ignoreIfDefault&&(!0===n.ignoreIfDefault||"true"===n.ignoreIfDefault)&&a){if(void 0===n.default)throw new Error("The ignoreIfDefault feature cannot be used without the default property value.");if(this.comparePropertyValues(r,n.default))continue}}e[n.property]=r}}return e},i.prototype.getValidValues=function(){var e=this.getValues(),o={};for(var i in e){var n=this.findPropertyEditor(i);if(!n)throw new Error("Cannot find editor for property "+i);var r=this.findExternalParameterEditor(i);r&&r.isEditorVisible()&&!r.validate(!0)?o[i]=t.oc.inspector.invalidProperty:n.validate(!0)?o[i]=e[i]:o[i]=t.oc.inspector.invalidProperty}return o},i.prototype.validate=function(t){this.getGroupManager().unmarkInvalidGroups(this.getRootTable());for(var e=0,o=this.editors.length;e<o;e++){var i=this.editors[e],n=this.findExternalParameterEditor(i.propertyDefinition.property);if(n&&n.isEditorVisible()){if(n.validate(t))continue;return t||i.markInvalid(),!1}if(!i.validate(t))return t||i.markInvalid(),!1}return!0},i.prototype.hasChanges=function(t){var e=void 0!==t?t:this.originalValues;return!this.comparePropertyValues(e,this.getValues())},i.prototype.onGroupClick=function(e){var o=e.currentTarget;return this.toggleGroup(o),t.oc.foundation.event.stop(e),!1},i.DEFAULTS={enableExternalParameterEditor:!1,onChange:null,onPopupDisplayed:null,onPopupHidden:null,onGetInspectableElement:null},t.oc.inspector.surface=i,t.oc.inspector.removedProperty={removed:!0},t.oc.inspector.invalidProperty={invalid:!0}}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(){e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){t(document).on("click","[data-inspectable]",this.proxy(this.onInspectableClicked))},i.prototype.getContainerElement=function(t){var e=t.closest("[data-inspector-container]");if(0===e.length)return null;var o=e.find(e.data("inspector-container"));if(0===o.length)throw new Error("Inspector container "+e.data["inspector-container"]+" element is not found.");return o},i.prototype.loadElementOptions=function(t){var e={};return t.data("inspector-css-class")&&(e.inspectorCssClass=t.data("inspector-css-class")),e},i.prototype.createInspectorPopup=function(e,o){var i=t.extend(this.loadElementOptions(e),{containerSupported:o});new t.oc.inspector.wrappers.popup(e,null,i)},i.prototype.createInspectorContainer=function(e,o){var i=t.extend(this.loadElementOptions(e),{containerSupported:!0,container:o});new t.oc.inspector.wrappers.container(e,null,i)},i.prototype.switchToPopup=function(e){var o=t.extend(this.loadElementOptions(e.$element),{containerSupported:!0});new t.oc.inspector.wrappers.popup(e.$element,e,o),e.cleanupAfterSwitch(),this.setContainerPreference(!1)},i.prototype.switchToContainer=function(e){var o=this.getContainerElement(e.$element),i=t.extend(this.loadElementOptions(e.$element),{containerSupported:!0,container:o});if(!o)throw new Error("Cannot switch to container: a container element is not found");new t.oc.inspector.wrappers.container(e.$element,e,i),e.cleanupAfterSwitch(),this.setContainerPreference(!0)},i.prototype.createInspector=function(e){var o=t(e);if(o.data("oc.inspectorVisible"))return!1;var i=this.getContainerElement(o);if(i){if(!this.applyValuesFromContainer(i)||!this.containerHidingAllowed(i))return;t.oc.foundation.controlUtils.disposeControls(i.get(0)),this.getContainerPreference()?this.createInspectorContainer(o,i):this.createInspectorPopup(o,!0)}else this.createInspectorPopup(o,!1)},i.prototype.getContainerPreference=function(){return!!Modernizr.localstorage&&"true"===localStorage.getItem("oc.inspectorUseContainer")},i.prototype.setContainerPreference=function(t){if(Modernizr.localstorage)return localStorage.setItem("oc.inspectorUseContainer",t?"true":"false")},i.prototype.applyValuesFromContainer=function(e){var o=t.Event("apply.oc.inspector");return e.trigger(o),!o.isDefaultPrevented()},i.prototype.containerHidingAllowed=function(e){var o=t.Event("beforeContainerHide.oc.inspector");return e.trigger(o),!o.isDefaultPrevented()},i.prototype.onInspectableClicked=function(e){var o=t(e.currentTarget);return!1===this.createInspector(o)||e.stopPropagation(),!1},t.oc.inspector.manager=new i,t.fn.inspector=function(){return this.each((function(){t.oc.inspector.manager.createInspector(this)}))}}(window.jQuery),function(t){"use strict";void 0===t.oc.inspector&&(t.oc.inspector={}),void 0===t.oc.inspector.wrappers&&(t.oc.inspector.wrappers={});var e=t.oc.foundation.base,o=e.prototype,i=function(o,n,r){if(this.$element=o,this.options=t.extend({},i.DEFAULTS,"object"==typeof r&&r),this.switched=!1,this.configuration=null,e.call(this),n)this.surface=n.surface,this.title=n.title,this.description=n.description,n=null,this.init();else{if(!this.triggerShowingAndInit())return;this.surface=null,this.title=null,this.description=null}};i.prototype=Object.create(o),i.prototype.constructor=e,i.prototype.dispose=function(){this.switched||(this.$element.removeClass("inspector-open"),this.setInspectorVisibleFlag(!1),this.$element.trigger("hidden.oc.inspector")),null!==this.surface&&this.surface.options.onGetInspectableElement===this.proxy(this.onGetInspectableElement)&&(this.surface.options.onGetInspectableElement=null),this.surface=null,this.$element=null,this.title=null,this.description=null,this.configuration=null,o.dispose.call(this)},i.prototype.init=function(){this.surface?this.adoptSurface():this.loadConfiguration(),this.$element.addClass("inspector-open"),this.$element.trigger("showed.oc.inspector")},i.prototype.getElementValuesInput=function(){return this.$element.find("> input[data-inspector-values]")},i.prototype.normalizePropertyCode=function(t,e){var o=t.toLowerCase();for(var i in e){var n=e[i];if(n.property.toLowerCase()==o)return n.property}return t},i.prototype.isExternalParametersEditorEnabled=function(){return this.$element.closest("[data-inspector-external-parameters]").length>0},i.prototype.initSurface=function(e,o,i){var n=this.$element.data()||{};n.enableExternalParameterEditor=this.isExternalParametersEditorEnabled(),n.onGetInspectableElement=this.proxy(this.onGetInspectableElement),this.surface=new t.oc.inspector.surface(e,o,i,t.oc.inspector.helpers.generateElementUniqueId(this.$element.get(0)),n)},i.prototype.isLiveUpdateEnabled=function(){return!1},i.prototype.createSurfaceAndUi=function(t,e){},i.prototype.setInspectorVisibleFlag=function(t){this.$element.data("oc.inspectorVisible",t)},i.prototype.adoptSurface=function(){this.surface.options.onGetInspectableElement=this.proxy(this.onGetInspectableElement)},i.prototype.cleanupAfterSwitch=function(){this.switched=!0,this.dispose()},i.prototype.loadValues=function(e){var o=this.getElementValuesInput();if(o.length>0){var i=t.trim(o.val());try{return 0===i.length?{}:JSON.parse(i)}catch(t){throw new Error("Error parsing Inspector field values. "+t)}}for(var n={},r=this.$element.get(0).attributes,s=0,a=r.length;s<a;s++){var l,p=r[s];if(l=p.name.match(/^data-property-(.*)$/)){var c=this.normalizePropertyCode(l[1],e),u=p.value;if(u.startsWith("json:"))try{u=JSON.parse(decodeURIComponent(u.substring(5)))}catch(t){u=""}n[c]=u}}return n},i.prototype.applyValues=function(e){var o=this.getElementValuesInput(),i=e?this.surface.getValidValues():this.surface.getValues();if(e){var n=this.loadValues(this.configuration);for(var r in i)i[r]!==t.oc.inspector.invalidProperty&&(n[r]=i[r]);var s={};for(var r in n)i.hasOwnProperty(r)&&(s[r]=n[r]);i=s}if(o.length>0)o.val(JSON.stringify(i));else for(var r in i){var a=i[r];(t.isArray(a)||t.isPlainObject(a))&&(a="json:"+encodeURIComponent(JSON.stringify(a))),this.$element.attr("data-property-"+r,a)}if(e)this.$element.trigger("livechange");else{var l=!1;if(this.isLiveUpdateEnabled()){var p=this.loadValues(this.configuration);l=this.surface.hasChanges(p)}else l=this.surface.hasChanges();l&&this.$element.trigger("change")}},i.prototype.loadConfiguration=function(){var e=this.$element.data("inspector-config"),o={properties:{},title:null,description:null};if(o.title=this.$element.data("inspector-title"),o.description=this.$element.data("inspector-description"),void 0!==e)return o.properties=this.parseConfiguration(e),void this.configurationLoaded(o);var i=this.$element.find("> input[data-inspector-config]");if(i.length>0)return o.properties=this.parseConfiguration(i.val()),void this.configurationLoaded(o);var n=this.$element.closest("form"),r=this.$element.data(),s=this;t.oc.stripeLoadIndicator.show(),n.request(t.oc.inspector.helpers.getEventHandler(this.$element,"onGetInspectorConfiguration"),{data:r}).done((function(t){s.onConfigurationRequestDone(t,o)})).fail((function(t){s.$element.trigger("error.oc.inspector")})).always((function(){t.oc.stripeLoadIndicator.hide()}))},i.prototype.parseConfiguration=function(e){if(t.isArray(e)||t.isPlainObject(e))return e;if(0===t.trim(e))return{};try{return JSON.parse(e)}catch(t){throw new Error("Error parsing Inspector configuration. "+t)}},i.prototype.configurationLoaded=function(t){var e=this.loadValues(t.properties);this.title=t.title,this.description=t.description,this.configuration=t,this.createSurfaceAndUi(t.properties,e)},i.prototype.onConfigurationRequestDone=function(t,e){e.properties=this.parseConfiguration(t.configuration.properties),void 0!==t.configuration.title&&(e.title=t.configuration.title),void 0!==t.configuration.description&&(e.description=t.configuration.description),this.configurationLoaded(e)},i.prototype.triggerShowingAndInit=function(){var e=t.Event("showing.oc.inspector");if(this.$element.trigger(e,[{callback:this.proxy(this.init)}]),e.isDefaultPrevented())return this.$element=null,!1;e.isPropagationStopped()||this.init()},i.prototype.triggerHiding=function(){var e=t.Event("hiding.oc.inspector"),o=this.surface.getValues();return this.$element.trigger(e,[{values:o}]),!e.isDefaultPrevented()},i.prototype.onGetInspectableElement=function(){return this.$element},i.DEFAULTS={containerSupported:!1},t.oc.inspector.wrappers.base=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.wrappers.base,o=e.prototype,i=function(t,o,i){this.$popoverContainer=null,this.popoverObj=null,this.cleaningUp=!1,e.call(this,t,o,i)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.unregisterHandlers(),this.$popoverContainer=null,this.popoverObj=null,o.dispose.call(this)},i.prototype.createSurfaceAndUi=function(t,e,o,i){this.showPopover(),this.initSurface(this.$popoverContainer.find("[data-surface-container]").get(0),t,e),this.repositionPopover(),this.registerPopupHandlers()},i.prototype.adoptSurface=function(){this.showPopover(),this.surface.moveToContainer(this.$popoverContainer.find("[data-surface-container]").get(0)),this.repositionPopover(),this.registerPopupHandlers(),o.adoptSurface.call(this)},i.prototype.cleanupAfterSwitch=function(){this.cleaningUp=!0,this.switched=!0,this.forceClose()},i.prototype.getPopoverContents=function(){return'<div class="popover-head">                                              <h3 data-inspector-title></h3>                                      <p data-inspector-description></p>                                  <button type="button" class="btn-close"                                 data-dismiss="popover"                                              aria-hidden="true"></button>                                </div>                                                              <form autocomplete="off" onsubmit="return false">                       <div data-surface-container></div>                              <form>'},i.prototype.showPopover=function(){var e=this.$element.data("inspector-offset"),o=this.$element.data("inspector-offset-x"),i=this.$element.data("inspector-offset-y"),n=this.$element.data("inspector-placement"),r=this.$element.data("inspector-fallback-placement");if(void 0===e&&(e=15),void 0===n&&(n="bottom"),void 0===r&&(r="bottom"),this.$element.ocPopover({content:this.getPopoverContents(),highlightModalTarget:!0,modal:!0,placement:n,fallbackPlacement:r,containerClass:"control-inspector",container:this.$element.data("inspector-container"),offset:e,offsetX:o,offsetY:i,width:450}),this.setInspectorVisibleFlag(!0),this.popoverObj=this.$element.data("oc.popover"),this.$popoverContainer=this.popoverObj.$container,this.$popoverContainer.addClass("inspector-temporary-placement"),void 0!==this.options.inspectorCssClass&&this.$popoverContainer.addClass(this.options.inspectorCssClass),this.options.containerSupported){var s=t('<span class="inspector-move-to-container oc-icon-download">');this.$popoverContainer.find(".popover-head").append(s)}this.$popoverContainer.find("[data-inspector-title]").text(this.title),this.$popoverContainer.find("[data-inspector-description]").text(this.description)},i.prototype.repositionPopover=function(){this.popoverObj.reposition(),this.$popoverContainer.removeClass("inspector-temporary-placement"),this.$popoverContainer.find("div[data-surface-container] > div").trigger("focus-control")},i.prototype.forceClose=function(){this.$popoverContainer.trigger("close.oc.popover")},i.prototype.registerPopupHandlers=function(){this.surface.options.onPopupDisplayed=this.proxy(this.onPopupEditorDisplayed),this.surface.options.onPopupHidden=this.proxy(this.onPopupEditorHidden),this.popoverObj.options.onCheckDocumentClickTarget=this.proxy(this.onCheckDocumentClickTarget),this.$element.on("hiding.oc.popover",this.proxy(this.onBeforeHide)),this.$element.on("hide.oc.popover",this.proxy(this.onHide)),this.$popoverContainer.on("keydown",this.proxy(this.onPopoverKeyDown)),this.options.containerSupported&&this.$popoverContainer.on("click","span.inspector-move-to-container",this.proxy(this.onMoveToContainer))},i.prototype.unregisterHandlers=function(){this.popoverObj.options.onCheckDocumentClickTarget=null,this.$element.off("hiding.oc.popover",this.proxy(this.onBeforeHide)),this.$element.off("hide.oc.popover",this.proxy(this.onHide)),this.$popoverContainer.off("keydown",this.proxy(this.onPopoverKeyDown)),this.options.containerSupported&&this.$popoverContainer.off("click","span.inspector-move-to-container",this.proxy(this.onMoveToContainer)),this.surface.options.onPopupDisplayed=null,this.surface.options.onPopupHidden=null},i.prototype.onBeforeHide=function(t){if(!this.cleaningUp)return this.surface.validate()&&this.triggerHiding()?void this.applyValues():(t.preventDefault(),!1)},i.prototype.onHide=function(t){this.dispose()},i.prototype.onPopoverKeyDown=function(e){"Enter"===e.key&&t(e.currentTarget).trigger("close.oc.popover")},i.prototype.onPopupEditorDisplayed=function(){this.popoverObj.options.closeOnPageClick=!1,this.popoverObj.options.closeOnEsc=!1},i.prototype.onPopupEditorHidden=function(){this.popoverObj.options.closeOnPageClick=!0,this.popoverObj.options.closeOnEsc=!0},i.prototype.onCheckDocumentClickTarget=function(e){if(t.contains(this.$element,e)||this.$element.get(0)===e)return!0},i.prototype.onMoveToContainer=function(){t.oc.inspector.manager.switchToContainer(this)},t.oc.inspector.wrappers.popup=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.wrappers.base,o=e.prototype,i=function(t,o,i){if(!i.container)throw new Error("Cannot create Inspector container wrapper without a container element.");this.surfaceContainer=null,e.call(this,t,o,i)};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){this.registerHandlers(),o.init.call(this)},i.prototype.dispose=function(){this.unregisterHandlers(),this.removeControls(),this.surfaceContainer=null,o.dispose.call(this)},i.prototype.createSurfaceAndUi=function(t,e){this.buildUi(),this.initSurface(this.surfaceContainer,t,e),this.isLiveUpdateEnabled()&&(this.surface.options.onChange=this.proxy(this.onLiveUpdate))},i.prototype.adoptSurface=function(){this.buildUi(),this.surface.moveToContainer(this.surfaceContainer),this.isLiveUpdateEnabled()&&(this.surface.options.onChange=this.proxy(this.onLiveUpdate)),o.adoptSurface.call(this)},i.prototype.buildUi=function(){var e=this.isScrollable(),o=this.buildHead(),i=this.buildLayout();if(i.headContainer.appendChild(o),e){var n=this.buildScrollpad();this.surfaceContainer=n.container,i.bodyContainer.appendChild(n.scrollpad),t(n.scrollpad).scrollpad()}else this.surfaceContainer=i.bodyContainer;this.setInspectorVisibleFlag(!0)},i.prototype.buildHead=function(){var t=document.createElement("div"),e=document.createElement("h3"),o=document.createElement("p"),i=document.createElement("span"),n=document.createElement("span");return t.setAttribute("class","inspector-header"),i.setAttribute("class","oc-icon-external-link-square detach"),n.setAttribute("class","close"),e.textContent=this.title,o.textContent=this.description,n.innerHTML="&times;",t.appendChild(e),t.appendChild(o),t.appendChild(i),t.appendChild(n),t},i.prototype.buildScrollpad=function(){var t=document.createElement("div"),e=document.createElement("div"),o=document.createElement("div");return t.setAttribute("class","control-scrollpad"),t.setAttribute("data-control","scrollpad"),e.setAttribute("class","scroll-wrapper inspector-wrapper"),t.appendChild(e),e.appendChild(o),{scrollpad:t,container:o}},i.prototype.buildLayout=function(){var e=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");return e.setAttribute("class","flex-layout-column fill-container"),o.setAttribute("class","flex-layout-item fix"),i.setAttribute("class","flex-layout-item stretch relative"),e.appendChild(o),e.appendChild(i),this.options.container.get(0).appendChild(e),t.oc.foundation.controlUtils.markDisposable(e),this.registerLayoutHandlers(e),{headContainer:o,bodyContainer:i}},i.prototype.validateAndApply=function(){return!!this.surface.validate()&&(this.applyValues(),!0)},i.prototype.isScrollable=function(){return void 0!==this.options.container.data("inspector-scrollable")},i.prototype.isLiveUpdateEnabled=function(){return void 0!==this.options.container.data("inspector-live-update")},i.prototype.getLayout=function(){return this.options.container.get(0).querySelector("div.flex-layout-column")},i.prototype.registerLayoutHandlers=function(e){var o=t(e);o.one("dispose-control",this.proxy(this.dispose)),o.on("click","span.close",this.proxy(this.onClose)),o.on("click","span.detach",this.proxy(this.onDetach))},i.prototype.registerHandlers=function(){this.options.container.on("apply.oc.inspector",this.proxy(this.onApplyValues)),this.options.container.on("beforeContainerHide.oc.inspector",this.proxy(this.onBeforeHide))},i.prototype.unregisterHandlers=function(){var e=t(this.getLayout());this.options.container.off("apply.oc.inspector",this.proxy(this.onApplyValues)),this.options.container.off("beforeContainerHide.oc.inspector",this.proxy(this.onBeforeHide)),e.off("dispose-control",this.proxy(this.dispose)),e.off("click","span.close",this.proxy(this.onClose)),e.off("click","span.detach",this.proxy(this.onDetach)),null!==this.surface&&this.surface.options.onChange===this.proxy(this.onLiveUpdate)&&(this.surface.options.onChange=null)},i.prototype.removeControls=function(){this.isScrollable()&&this.options.container.find(".control-scrollpad").scrollpad("dispose");var t=this.getLayout();t.parentNode.removeChild(t)},i.prototype.onApplyValues=function(t){if(!this.validateAndApply())return t.preventDefault(),!1},i.prototype.onBeforeHide=function(t){if(!this.triggerHiding())return t.preventDefault(),!1},i.prototype.onClose=function(t){return this.validateAndApply()&&this.triggerHiding()?(this.surface.dispose(),void this.dispose()):(t.preventDefault(),!1)},i.prototype.onLiveUpdate=function(){this.applyValues(!0)},i.prototype.onDetach=function(){t.oc.inspector.manager.switchToPopup(this)},t.oc.inspector.wrappers.container=i}(window.jQuery),function(t){"use strict";var e=function(t){this.controlId=t,this.rootGroup=null,this.cachedGroupStatuses=null};function o(){var t=document.body.getAttribute("data-inspector-group-statuses");return null!==t?JSON.parse(t):{}}e.prototype.createGroup=function(t,e){var o=new i(t);return e?(e.groups.push(o),o.parentGroup=e):this.rootGroup=o,o},e.prototype.getGroupIndex=function(t){return t.getGroupIndex()},e.prototype.isParentGroupExpanded=function(t){return!t.parentGroup||this.isGroupExpanded(t.parentGroup)},e.prototype.isGroupExpanded=function(t){if(!t.parentGroup)return!0;var e=this.getGroupIndex(t),o=this.readGroupStatuses();return void 0!==o[e]&&o[e]},e.prototype.setGroupStatus=function(t,e){var o=this.readGroupStatuses();o[t]=e,this.writeGroupStatuses(o)},e.prototype.readGroupStatuses=function(){if(null!==this.cachedGroupStatuses)return this.cachedGroupStatuses;var t=o();return void 0!==t[this.controlId]?this.cachedGroupStatuses=t[this.controlId]:this.cachedGroupStatuses={},this.cachedGroupStatuses},e.prototype.writeGroupStatuses=function(t){var e=o();e[this.controlId]=t,function(t){document.body.setAttribute("data-inspector-group-statuses",JSON.stringify(t))}(e),this.cachedGroupStatuses=t},e.prototype.findGroupByIndex=function(t){return this.rootGroup.findGroupByIndex(t)},e.prototype.findGroupRows=function(t,e,o){var i=this.findGroupByIndex(e);if(!i)throw new Error("Cannot find the requested row group.");return i.findGroupRows(t,o,this)},e.prototype.markGroupRowInvalid=function(e,o){for(var i=e;i;){var n=i.findGroupRow(o);n&&t.oc.foundation.element.addClass(n,"invalid"),i=i.parentGroup}},e.prototype.unmarkInvalidGroups=function(e){for(var o=e.querySelectorAll("tr.invalid"),i=o.length-1;i>=0;i--)t.oc.foundation.element.removeClass(o[i],"invalid")},e.prototype.isRowVisible=function(t,e){var o=this.findGroupByIndex(index);if(!o)throw new Error("Cannot find the requested row group.");for(var i=o;i;){if(!this.isGroupExpanded(i))return!1;i=i.parentGroup}return!0};var i=function(t){this.groupId=t,this.parentGroup=null,this.groupIndex=null,this.groups=[]};i.prototype.getGroupIndex=function(){if(null!==this.groupIndex)return this.groupIndex;for(var t="",e=this;e;)t=t.length>0?e.groupId+"-"+t:String(e.groupId),e=e.parentGroup;return this.groupIndex=t,t},i.prototype.findGroupByIndex=function(t){if(this.getGroupIndex()==t)return this;for(var e=this.groups.length-1;e>=0;e--){var o=this.groups[e].findGroupByIndex(t);if(null!==o)return o}return null},i.prototype.getLevel=function(){for(var t=this,e=-1;t;)e++,t=t.parentGroup;return e},i.prototype.getGroupAndAllParents=function(){for(var t=this,e=[];t;)e.push(t),t=t.parentGroup;return e},i.prototype.findGroupRows=function(t,e,o){for(var i=this.getGroupIndex(),n=t.querySelectorAll('tr[data-parent-group-index="'+i+'"]'),r=Array.prototype.slice.call(n),s=0,a=this.groups.length;s<a;s++){var l=this.groups[s];if(!e||o.isGroupExpanded(l))for(var p=l.findGroupRows(t,e,o),c=0,u=p.length;c<u;c++)r.push(p[c])}return r},i.prototype.findGroupRow=function(t){return t.querySelector('tr[data-group-index="'+this.groupIndex+'"]')},t.oc.inspector.groupManager=e}(window.jQuery),function(t){"use strict";function e(t,e){for(var o=0,i=e.length;o<i;o++){var n=e[o];if(void 0!==n.itemType&&"group"==n.itemType&&n.title==t)return n}return null}void 0===t.oc&&(t.oc={}),void 0===t.oc.inspector&&(t.oc.inspector={}),t.oc.inspector.engine={},t.oc.inspector.engine.processPropertyGroups=function(t){for(var o=[],i={hasGroups:!1,properties:[]},n=0,r=0,s=t.length;r<s;r++){void 0===(l=t[r]).sortOrder&&(l.sortOrder=20*(r+1))}t.sort((function(t,e){return t.sortOrder-e.sortOrder}));for(r=0,s=t.length;r<s;r++){if((l=t[r]).itemType="property",void 0===l.group)o.push(l);else{var a=e(l.group,o);a||(a={itemType:"group",title:l.group,properties:[],groupIndex:n},n++,o.push(a)),l.groupIndex=a.groupIndex,a.properties.push(l)}}for(r=0,s=o.length;r<s;r++){var l=o[r];if(i.properties.push(l),"group"==l.itemType){i.hasGroups=!0;for(var p=0,c=l.properties.length;p<c;p++)i.properties.push(l.properties[p]);delete l.properties}}return i}}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.inspector&&(t.oc.inspector={}),void 0===t.oc.inspector.propertyEditors&&(t.oc.inspector.propertyEditors={});var e=t.oc.foundation.base,o=e.prototype,i=function(t,o,i,n){this.inspector=t,this.propertyDefinition=o,this.containerCell=i,this.containerRow=i.parentNode,this.parentGroup=n,this.group=null,this.childInspector=null,this.validationSet=null,this.disposed=!1,e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.disposed=!0,this.disposeValidation(),this.childInspector&&this.childInspector.dispose(),this.inspector=null,this.propertyDefinition=null,this.containerCell=null,this.containerRow=null,this.childInspector=null,this.parentGroup=null,this.group=null,this.validationSet=null,o.dispose.call(this)},i.prototype.init=function(){this.build(),this.registerHandlers(),this.initValidation()},i.prototype.build=function(){return null},i.prototype.isDisposed=function(){return this.disposed},i.prototype.registerHandlers=function(){},i.prototype.onInspectorPropertyChanged=function(t,e){},i.prototype.notifyChildSurfacesPropertyChanged=function(t,e){this.hasChildSurface()&&this.childInspector.notifyEditorsPropertyChanged(t,e)},i.prototype.focus=function(){},i.prototype.hasChildSurface=function(){return null!==this.childInspector},i.prototype.getRootSurface=function(){return this.inspector.getRootSurface()},i.prototype.getPropertyPath=function(){return this.inspector.getPropertyPath(this.propertyDefinition.property)},i.prototype.updateDisplayedValue=function(t){},i.prototype.getPropertyName=function(){return this.propertyDefinition.property},i.prototype.getUndefinedValue=function(){return void 0===this.propertyDefinition.default?void 0:this.propertyDefinition.default},i.prototype.throwError=function(t){throw new Error(t+" Property: "+this.propertyDefinition.property)},i.prototype.getInspectableElement=function(){return this.getRootSurface().getInspectableElement()},i.prototype.isEmptyValue=function(e){return null==e||"object"==typeof e&&t.isEmptyObject(e)||"string"==typeof e&&0===t.trim(e).length||"[object Array]"===Object.prototype.toString.call(e)&&0===e.length},i.prototype.initValidation=function(){this.validationSet=new t.oc.inspector.validationSet(this.propertyDefinition,this.propertyDefinition.property)},i.prototype.disposeValidation=function(){this.validationSet.dispose()},i.prototype.getValueToValidate=function(){return this.inspector.getPropertyValue(this.propertyDefinition.property)},i.prototype.validate=function(e){var o=this.getValueToValidate();void 0===o&&(o=this.getUndefinedValue());var i=this.validationSet.validate(o);return null===i||(e||t.oc.flashMsg({text:i,class:"error",interval:5}),!1)},i.prototype.markInvalid=function(){t.oc.foundation.element.addClass(this.containerRow,"invalid"),this.inspector.getGroupManager().markGroupRowInvalid(this.parentGroup,this.inspector.getRootTable()),this.inspector.getRootSurface().expandGroupParents(this.parentGroup),this.focus()},i.prototype.supportsExternalParameterEditor=function(){return!0},i.prototype.onExternalPropertyEditorHidden=function(){},i.prototype.isGroupedEditor=function(){return!1},i.prototype.initControlGroup=function(){this.group=this.inspector.getGroupManager().createGroup(this.propertyDefinition.property,this.parentGroup)},i.prototype.createGroupedRow=function(e){var o=this.inspector.buildRow(e,this.group),i=this.inspector.getGroupManager().isGroupExpanded(this.group)?"expanded":"collapsed";return this.inspector.applyGroupLevelToRow(o,this.group),t.oc.foundation.element.addClass(o,"property"),t.oc.foundation.element.addClass(o,i),o},t.oc.inspector.propertyEditors.base=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.unregisterHandlers(),o.dispose.call(this)},i.prototype.build=function(){var e=document.createElement("input"),o=void 0!==this.propertyDefinition.placeholder?this.propertyDefinition.placeholder:"",i=this.inspector.getPropertyValue(this.propertyDefinition.property);e.setAttribute("type","text"),e.setAttribute("class","string-editor"),e.setAttribute("placeholder",o),void 0===i&&(i=this.propertyDefinition.default),void 0===i&&(i=""),e.value=i,t.oc.foundation.element.addClass(this.containerCell,"text"),this.containerCell.appendChild(e)},i.prototype.updateDisplayedValue=function(t){this.getInput().value=t},i.prototype.getInput=function(){return this.containerCell.querySelector("input")},i.prototype.focus=function(){this.getInput().focus({preventScroll:!0}),this.onInputFocus()},i.prototype.registerHandlers=function(){var t=this.getInput();t.addEventListener("focus",this.proxy(this.onInputFocus)),t.addEventListener("keyup",this.proxy(this.onInputKeyUp))},i.prototype.unregisterHandlers=function(){var t=this.getInput();t.removeEventListener("focus",this.proxy(this.onInputFocus)),t.removeEventListener("keyup",this.proxy(this.onInputKeyUp))},i.prototype.onInputFocus=function(t){this.inspector.makeCellActive(this.containerCell)},i.prototype.onInputKeyUp=function(){var e=t.trim(this.getInput().value);this.inspector.setPropertyValue(this.propertyDefinition.property,e)},i.prototype.onExternalPropertyEditorHidden=function(){this.focus()},t.oc.inspector.propertyEditors.string=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.unregisterHandlers(),o.dispose.call(this)},i.prototype.build=function(){var t=document.createElement("input"),e=document.createElement("div"),o=this.inspector.getPropertyValue(this.propertyDefinition.property),i=(document.createElement("label"),!1),n=this.inspector.generateSequencedId();e.setAttribute("tabindex",0),e.setAttribute("class","form-check"),t.setAttribute("type","checkbox"),t.setAttribute("value","1"),t.setAttribute("placeholder","placeholder"),t.setAttribute("id",n),t.setAttribute("class","form-check-input"),e.appendChild(t),void 0===o?void 0!==this.propertyDefinition.default&&(i=this.normalizeCheckedValue(this.propertyDefinition.default)):i=this.normalizeCheckedValue(o),t.checked=i,this.containerCell.appendChild(e)},i.prototype.normalizeCheckedValue=function(t){return"0"!=t&&"false"!=t&&t},i.prototype.getInput=function(){return this.containerCell.querySelector("input")},i.prototype.focus=function(){this.getInput().parentNode.focus({preventScroll:!0})},i.prototype.updateDisplayedValue=function(t){this.getInput().checked=this.normalizeCheckedValue(t)},i.prototype.isEmptyValue=function(t){return 0===t||"0"===t||"false"===t||o.isEmptyValue.call(this,t)},i.prototype.registerHandlers=function(){this.getInput().addEventListener("change",this.proxy(this.onInputChange))},i.prototype.unregisterHandlers=function(){this.getInput().removeEventListener("change",this.proxy(this.onInputChange))},i.prototype.onInputChange=function(){var t=this.getInput().checked;this.inspector.setPropertyValue(this.propertyDefinition.property,t?1:0)},t.oc.inspector.propertyEditors.checkbox=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){this.indicatorContainer=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){this.dynamicOptions=!this.propertyDefinition.options,this.initialization=!1,o.init.call(this)},i.prototype.dispose=function(){this.unregisterHandlers(),this.destroyCustomSelect(),this.indicatorContainer=null,o.dispose.call(this)},i.prototype.build=function(){var e=document.createElement("select");t.oc.foundation.element.addClass(this.containerCell,"dropdown"),t.oc.foundation.element.addClass(e,"custom-select"),this.dynamicOptions||this.loadStaticOptions(e),this.containerCell.appendChild(e),this.initCustomSelect(),this.dynamicOptions&&this.loadDynamicOptions(!0)},i.prototype.formatSelectOption=function(t){if(!t.id)return t.text;var e=t.element,o=e.getAttribute("data-icon"),i=e.getAttribute("data-image");return o?'<i class="select-icon '+o+'"></i> '+t.text:i?'<img class="select-image" src="'+i+'" alt="" /> '+t.text:t.text},i.prototype.createOption=function(e,o,i){var n=document.createElement("option");null!==o&&(t.isArray(o)?(-1!==o[1].indexOf(".")?n.setAttribute("data-image",o[1]):n.setAttribute("data-icon",o[1]),n.textContent=o[0]):n.textContent=o),null!==i&&(n.value=i),e.appendChild(n)},i.prototype.createOptions=function(t,e){for(var o in e)this.createOption(t,e[o],o)},i.prototype.initCustomSelect=function(){var e=this.getSelect(),o={dropdownCssClass:"ocInspectorDropdown"};void 0!==this.propertyDefinition.emptyOption&&(o.placeholder=this.propertyDefinition.emptyOption),void 0!==this.propertyDefinition.placeholder&&(o.placeholder=this.propertyDefinition.placeholder),o.templateResult=this.formatSelectOption,o.templateSelection=this.formatSelectOption,o.escapeMarkup=function(t){return t},t(e).select2(o),Modernizr.touchevents||(this.indicatorContainer=t(".select2-container",this.containerCell),this.indicatorContainer.addClass("loading-indicator-container size-small"))},i.prototype.createPlaceholder=function(t){var e=this.propertyDefinition.placeholder||this.propertyDefinition.emptyOption;void 0===e||Modernizr.touchevents||this.createOption(t,null,null),void 0!==e&&Modernizr.touchevents&&this.createOption(t,e,null)},i.prototype.getSelect=function(){return this.containerCell.querySelector("select")},i.prototype.clearOptions=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},i.prototype.hasOptionValue=function(t,e){for(var o=t.children,i=0,n=o.length;i<n;i++)if(o[i].value==e)return!0;return!1},i.prototype.normalizeValue=function(t){if(!this.propertyDefinition.booleanValues)return t;var e=String(t);return 0===e.length?"":"true"===e},i.prototype.registerHandlers=function(){var e=this.getSelect();t(e).on("change",this.proxy(this.onSelectionChange))},i.prototype.onSelectionChange=function(){var t=this.getSelect();this.inspector.setPropertyValue(this.propertyDefinition.property,this.normalizeValue(t.value),this.initialization)},i.prototype.onInspectorPropertyChanged=function(t){if(this.propertyDefinition.depends&&-1!==this.propertyDefinition.depends.indexOf(t)){var e=this.getDependencyValues();void 0!==this.prevDependencyValues&&this.prevDependencyValues==e||this.loadDynamicOptions()}},i.prototype.onExternalPropertyEditorHidden=function(){this.dynamicOptions&&this.loadDynamicOptions(!1)},i.prototype.updateDisplayedValue=function(t){this.getSelect().value=t},i.prototype.getUndefinedValue=function(){if(void 0!==this.propertyDefinition.default)return this.propertyDefinition.default;if(void 0===this.propertyDefinition.placeholder){var t=this.getSelect();return t?this.normalizeValue(t.value):void 0}},i.prototype.isEmptyValue=function(t){return this.propertyDefinition.booleanValues?""===t:o.isEmptyValue.call(this,t)},i.prototype.destroyCustomSelect=function(){var e=t(this.getSelect());null!=e.data("select2")&&e.select2("destroy")},i.prototype.unregisterHandlers=function(){var e=this.getSelect();t(e).off("change",this.proxy(this.onSelectionChange))},i.prototype.loadStaticOptions=function(t){var e=this.inspector.getPropertyValue(this.propertyDefinition.property);this.createPlaceholder(t),this.createOptions(t,this.propertyDefinition.options),void 0===e&&(e=this.propertyDefinition.default),t.value=e},i.prototype.loadDynamicOptions=function(e){var o=this.inspector.getPropertyValue(this.propertyDefinition.property),i=this.getRootSurface().getValues(),n=this,r=t(this.getSelect()).closest("form"),s=this.inspector.findDependentProperties(this.propertyDefinition.property);void 0===o&&(o=this.propertyDefinition.default);var a=function(t){if(n.hideLoadingIndicator(),n.optionsRequestDone(t,o,!0),s.length>0&&n.inspector)for(var e in s){var i=n.inspector.findPropertyEditor(s[e]);i&&"function"==typeof i.onInspectorPropertyChanged&&i.onInspectorPropertyChanged(n.propertyDefinition.property)}};this.propertyDefinition.depends&&this.saveDependencyValues(),i.inspectorProperty=this.getPropertyPath(),i.inspectorClassName=this.inspector.options.inspectorClass,this.showLoadingIndicator(),!1!==this.triggerGetOptions(i,a)&&r.request(this.inspector.getEventHandler("onInspectableGetOptions"),{data:i,progressBar:!1}).done(a).always(this.proxy(this.hideLoadingIndicator))},i.prototype.triggerGetOptions=function(e,o){var i=this.getInspectableElement();if(!i)return!0;var n=t.Event("dropdownoptions.oc.inspector");return i.trigger(n,[{values:e,callback:o,property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!n.isDefaultPrevented()},i.prototype.saveDependencyValues=function(){this.prevDependencyValues=this.getDependencyValues()},i.prototype.getDependencyValues=function(){for(var t="",e=0,o=this.propertyDefinition.depends.length;e<o;e++){var i=this.propertyDefinition.depends[e],n=this.inspector.getPropertyValue(i);void 0===n&&(n=""),t+=i+":"+n+"-"}return t},i.prototype.showLoadingIndicator=function(){Modernizr.touchevents||this.indicatorContainer.loadIndicator()},i.prototype.hideLoadingIndicator=function(){this.isDisposed()||Modernizr.touchevents||(this.indicatorContainer.loadIndicator("hide"),this.indicatorContainer.loadIndicator("destroy"))},i.prototype.optionsRequestDone=function(e,o,i){if(!this.isDisposed()){var n=this.getSelect();if(this.destroyCustomSelect(),this.clearOptions(n),this.initCustomSelect(),this.createPlaceholder(n),e.options)for(var r=0,s=e.options.length;r<s;r++)this.createOption(n,e.options[r].title,e.options[r].value);this.hasOptionValue(n,o)?n.value=o:n.selectedIndex=void 0===this.propertyDefinition.placeholder?0:-1,this.initialization=i,t(n).trigger("change"),this.initialization=!1}},t.oc.inspector.propertyEditors.dropdown=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){this.popup=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.unregisterHandlers(),this.popup=null,o.dispose.call(this)},i.prototype.build=function(){var e=document.createElement("a");t.oc.foundation.element.addClass(e,"trigger"),e.setAttribute("href","#"),this.setLinkText(e),t.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(e)},i.prototype.setLinkText=function(t,e){},i.prototype.getPopupContent=function(){return'<form>                                                                                                     <div class="modal-header">                                                                                     <h4 class="modal-title">{{property}}</h4>                                                                  <button type="button" class="btn-close" data-dismiss="popup"></button>                                 </div>                                                                                                     <div class="modal-body">                                                                                       <div class="form-group">                                                                                   </div>                                                                                                 </div>                                                                                                     <div class="modal-footer">                                                                                     <button type="submit" class="btn btn-primary">'+oc.lang.get("inspector.ok")+'</button>                     <button type="button" class="btn btn-default" data-dismiss="popup">'+oc.lang.get("inspector.cancel")+"</button>                  </div>                                                                                                 </form>"},i.prototype.updateDisplayedValue=function(t){this.setLinkText(this.getLink(),t)},i.prototype.registerHandlers=function(){var e=this.getLink(),o=t(e);e.addEventListener("click",this.proxy(this.onTriggerClick)),o.on("shown.oc.popup",this.proxy(this.onPopupShown)),o.on("hidden.oc.popup",this.proxy(this.onPopupHidden))},i.prototype.unregisterHandlers=function(){var e=this.getLink(),o=t(e);e.removeEventListener("click",this.proxy(this.onTriggerClick)),o.off("shown.oc.popup",this.proxy(this.onPopupShown)),o.off("hidden.oc.popup",this.proxy(this.onPopupHidden))},i.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},i.prototype.configurePopup=function(t){},i.prototype.handleSubmit=function(t){},i.prototype.hidePopup=function(){t(this.getLink()).popup("hide")},i.prototype.onTriggerClick=function(e){t.oc.foundation.event.stop(e);var o=this.getPopupContent();return o=o.replace("{{property}}",this.propertyDefinition.title),t(e.target).popup({content:o}),!1},i.prototype.onPopupShown=function(e,o,i){t(i).on("submit.inspector","form",this.proxy(this.onSubmit)),this.popup=i.get(0),this.configurePopup(i),this.getRootSurface().popupDisplayed()},i.prototype.onPopupHidden=function(e,o,i){t(i).off(".inspector","form",this.proxy(this.onSubmit)),this.popup=null,this.getRootSurface().popupHidden()},i.prototype.onSubmit=function(e){return e.preventDefault(),!1===this.handleSubmit(t(e.target))||(this.setLinkText(this.getLink()),this.hidePopup()),!1},t.oc.inspector.propertyEditors.popupBase=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.popupBase,o=e.prototype,i=function(t,o,i,n){e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.setLinkText=function(e,o){void 0===(o=void 0!==o?o:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(o=this.propertyDefinition.default),o?t.oc.foundation.element.removeClass(e,"cell-placeholder"):(o=this.propertyDefinition.placeholder,t.oc.foundation.element.addClass(e,"cell-placeholder")),"string"==typeof o&&(o=o.replace(/(?:\r\n|\r|\n)/g," "),o=(o=t.trim(o)).substring(0,300)),e.textContent=o},i.prototype.getPopupContent=function(){return'<form>                                                                                                     <div class="modal-header">                                                                                     <h4 class="modal-title">{{property}}</h4>                                                                  <button type="button" class="btn-close" data-dismiss="popup"></button>                                 </div>                                                                                                     <div class="modal-body">                                                                                       <div class="form-group">                                                                                       <p class="inspector-field-comment"></p>                                                                    <textarea class="form-control size-small field-textarea" name="name"></textarea>                       </div>                                                                                                 </div>                                                                                                     <div class="modal-footer">                                                                                     <button type="submit" class="btn btn-primary">'+oc.lang.get("inspector.ok")+'</button>                     <button type="button" class="btn btn-default" data-dismiss="popup">'+oc.lang.get("inspector.cancel")+"</button>                 </div>                                                                                                 </form>"},i.prototype.configureComment=function(e){this.propertyDefinition.description&&t(e).find("p.inspector-field-comment").text(this.propertyDefinition.description)},i.prototype.configurePopup=function(e){var o=t(e).find("textarea"),i=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.placeholder&&o.attr("placeholder",this.propertyDefinition.placeholder),void 0===i&&(i=this.propertyDefinition.default),o.val(i),o.focus(),this.configureComment(e)},i.prototype.handleSubmit=function(e){var o=e.find("textarea"),i=(this.getLink(),t.trim(o.val()));this.inspector.setPropertyValue(this.propertyDefinition.property,i)},t.oc.inspector.propertyEditors.text=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){this.editors=[],this.loadedItems=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){this.initControlGroup(),o.init.call(this)},i.prototype.dispose=function(){this.disposeEditors(),this.disposeControls(),this.editors=null,o.dispose.call(this)},i.prototype.build=function(){var e=document.createElement("a");t.oc.foundation.element.addClass(e,"trigger"),e.setAttribute("href","#"),this.setLinkText(e),t.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(e),void 0!==this.propertyDefinition.items?this.loadStaticItems():this.loadDynamicItems()},i.prototype.loadStaticItems=function(){var t=[];for(var e in this.propertyDefinition.items)t.push({value:e,title:this.propertyDefinition.items[e]});for(var o=t.length-1;o>=0;o--)this.buildItemEditor(t[o].value,t[o].title)},i.prototype.setLinkText=function(e,o){var i="[ ]";if(void 0===(o=null!=o?o:this.getNormalizedValue())&&(o=this.propertyDefinition.default),void 0!==o&&void 0!==o.length&&o.length>0&&"string"!=typeof o){for(var n=[],r=0,s=o.length;r<s;r++)n.push(this.valueToText(o[r]));i="["+n.join(", ")+"]",t.oc.foundation.element.removeClass(e,"cell-placeholder")}else("string"==typeof(i=this.propertyDefinition.placeholder)&&0==i.length||void 0===i)&&(i="[ ]"),t.oc.foundation.element.addClass(e,"cell-placeholder");e.textContent=i},i.prototype.buildItemEditor=function(t,e){var o={title:e,itemType:"property",groupIndex:this.group.getGroupIndex()},i=this.createGroupedRow(o),n=this.containerCell.parentNode,r=this.containerCell.parentNode.parentNode,s=document.createElement("td");this.buildCheckbox(s,t,e),i.appendChild(s),r.insertBefore(i,n.nextSibling)},i.prototype.buildCheckbox=function(e,o,i){var n={property:o,title:i,default:this.isCheckedByDefault(o)},r=new t.oc.inspector.propertyEditors.checkbox(this,n,e,this.group);this.editors.push[r]},i.prototype.isCheckedByDefault=function(t){return!!this.propertyDefinition.default&&this.propertyDefinition.default.indexOf(t)>-1},i.prototype.showLoadingIndicator=function(){t(this.getLink()).loadIndicator()},i.prototype.hideLoadingIndicator=function(){if(!this.isDisposed()){var e=t(this.getLink());e.loadIndicator("hide"),e.loadIndicator("destroy")}},i.prototype.loadDynamicItems=function(){var e=this.getLink(),o=this.inspector.getValues(),i=t(e).closest("form");t.oc.foundation.element.addClass(e,"loading-indicator-container size-small"),this.showLoadingIndicator(),o.inspectorProperty=this.getPropertyPath(),o.inspectorClassName=this.inspector.options.inspectorClass,i.request(this.inspector.getEventHandler("onInspectableGetOptions"),{data:o,progressBar:!1}).done(this.proxy(this.itemsRequestDone)).always(this.proxy(this.hideLoadingIndicator))},i.prototype.itemsRequestDone=function(t,e,o){if(!this.isDisposed()){if(this.loadedItems={},t.options)for(var i=t.options.length-1;i>=0;i--)this.buildItemEditor(t.options[i].value,t.options[i].title),this.loadedItems[t.options[i].value]=t.options[i].title;this.setLinkText(this.getLink())}},i.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},i.prototype.getItemsSource=function(){return void 0!==this.propertyDefinition.items?this.propertyDefinition.items:this.loadedItems},i.prototype.valueToText=function(t){var e=this.getItemsSource();if(!e)return t;for(var o in e)if(o==t)return e[o];return t},i.prototype.cleanUpValue=function(t){if(!t)return t;for(var e=[],o=this.getItemsSource(),i=0,n=t.length;i<n;i++){var r=t[i];void 0!==o[r]&&e.push(r)}return e},i.prototype.getNormalizedValue=function(){var t=this.inspector.getPropertyValue(this.propertyDefinition.property);return null===t&&(t=void 0),void 0===t||void 0!==t.length&&"string"!=typeof t?t:void 0},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.isGroupedEditor=function(){return!0},i.prototype.getPropertyValue=function(t){var e=this.getNormalizedValue();return void 0===e?this.isCheckedByDefault(t):!!e&&e.indexOf(t)>-1},i.prototype.setPropertyValue=function(t,e){var o=this.getNormalizedValue();void 0===o&&(o=this.propertyDefinition.default),o||(o=[]);var i=[],n=this.getItemsSource();for(var r in n)r!==t?-1!==o.indexOf(r)&&i.push(r):e&&i.push(r);this.inspector.setPropertyValue(this.propertyDefinition.property,this.cleanUpValue(i)),this.setLinkText(this.getLink())},i.prototype.generateSequencedId=function(){return this.inspector.generateSequencedId()},i.prototype.disposeEditors=function(){for(var t=0,e=this.editors.length;t<e;t++){this.editors[t].dispose()}},i.prototype.disposeControls=function(){var e=this.getLink();void 0===this.propertyDefinition.items&&t(e).loadIndicator("destroy"),e.parentNode.removeChild(e)},t.oc.inspector.propertyEditors.set=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){if(this.currentRowInspector=null,this.popup=null,void 0===o.titleProperty)throw new Error("The titleProperty property should be specified in the objectList editor configuration. Property: "+o.property);if(void 0===o.itemProperties)throw new Error("The itemProperties property should be specified in the objectList editor configuration. Property: "+o.property);e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){if(this.isKeyValueMode()&&!this.getKeyProperty())throw new Error("Object list key property "+this.propertyDefinition.keyProperty+" is not defined in itemProperties. Property: "+this.propertyDefinition.property);o.init.call(this)},i.prototype.dispose=function(){this.unregisterHandlers(),this.removeControls(),this.currentRowInspector=null,this.popup=null,o.dispose.call(this)},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.build=function(){var e=document.createElement("a");t.oc.foundation.element.addClass(e,"trigger"),e.setAttribute("href","#"),this.setLinkText(e),t.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(e)},i.prototype.setLinkText=function(e,o){if(null===(o=null!=o?o:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(o=void 0),void 0===o){var i=this.propertyDefinition.placeholder;void 0!==i?(t.oc.foundation.element.addClass(e,"cell-placeholder"),e.textContent=i):e.textContent="Items: 0"}else{var n=0;if(this.isKeyValueMode()){if("object"!=typeof o)throw new Error("Object list value should be an object. Property: "+this.propertyDefinition.property);n=this.getValueKeys(o).length}else{if(void 0===o.length)throw new Error("Object list value should be an array. Property: "+this.propertyDefinition.property);n=o.length}t.oc.foundation.element.removeClass(e,"cell-placeholder"),e.textContent="Items: "+n}},i.prototype.getPopupContent=function(){return'<form>                                                                                                     <div class="modal-header">                                                                                     <h4 class="modal-title">{{property}}</h4>                                                                  <button type="button" class="btn-close" data-dismiss="popup"></button>                                 </div>                                                                                                     <div>                                                                                                          <div class="layout inspector-columns-editor">                                                                  <div class="layout-row">                                                                                       <div class="layout-cell items-column">                                                                         <div class="layout-relative">                                                                                  <div class="layout">                                                                                           <div class="layout-row min-size">                                                                              <div class="control-toolbar toolbar-padded">                                                                   <div class="toolbar-item">                                                                                     <div class="btn-group">                                                                                        <button type="button" class="btn btn-primary                                                                   oc-icon-plus"                                                                                              data-cmd="create-item">'+oc.lang.get("inspector.add")+'</button>                                                         <button type="button" class="btn btn-default                                                                   empty oc-icon-trash-o"                                                                                     data-cmd="delete-item"></button>                                                                   </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                     <div class="layout-row">                                                                                       <div class="layout-cell">                                                                                      <div class="layout-relative">                                                                                  <div class="layout-absolute">                                                                                  <div class="control-scrollpad"                                                                                 data-control="scrollpad">                                                                                  <div class="scroll-wrapper">                                                                                   <table class="table data                                                                                       no-offset-bottom                                                                                           inspector-table-list">                                                                                 </table>                                                                                               </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                     <div class="layout-cell">                                                                                      <div class="layout-relative">                                                                                  <div class="layout-absolute">                                                                                  <div class="control-scrollpad" data-control="scrollpad">                                                       <div class="scroll-wrapper inspector-wrapper">                                                                 <div data-inspector-container>                                                                             </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                     <div class="modal-footer">                                                                                     <button type="submit" class="btn btn-primary">'+oc.lang.get("inspector.ok")+'</button>                     <button type="button" class="btn btn-default" data-dismiss="popup">'+oc.lang.get("inspector.cancel")+"</button>                 </div>                                                                                                 </form>"},i.prototype.buildPopupContents=function(t){this.buildItemsTable(t)},i.prototype.buildItemsTable=function(t){var e=t.querySelector("table"),o=document.createElement("tbody"),i=this.inspector.getPropertyValue(this.propertyDefinition.property),n=this.propertyDefinition.titleProperty;if(void 0===i||0===this.getValueKeys(i).length){var r=this.buildEmptyRow();o.appendChild(r)}else{var s=void 0;for(var a in i){var l=i[a],p=this.addKeyProperty(a,l),c=l[n];(r=this.buildTableRow(c,"rowlink")).setAttribute("data-inspector-values",JSON.stringify(p)),o.appendChild(r),void 0===s&&(s=r)}}e.appendChild(o),void 0!==s&&this.selectRow(s,!0),this.updateScrollpads()},i.prototype.buildEmptyRow=function(){return this.buildTableRow("No items found","no-data","nolink")},i.prototype.removeEmptyRow=function(){var t=this.getTableBody(),e=t.querySelector("tr.no-data");e&&t.removeChild(e)},i.prototype.buildTableRow=function(e,o,i){var n=document.createElement("tr"),r=document.createElement("td");return r.textContent=e,void 0!==o&&t.oc.foundation.element.addClass(n,o),void 0!==i&&t.oc.foundation.element.addClass(r,i),n.appendChild(r),n},i.prototype.updateScrollpads=function(){t(".control-scrollpad",this.popup).scrollpad("update")},i.prototype.selectRow=function(e,o){e.parentNode;var i=this.getInspectorContainer(),n=this.getSelectedRow();if(n!==e||o){if(n){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(n),t.oc.foundation.element.removeClass(n,"active")}this.disposeInspector(),t.oc.foundation.element.addClass(e,"active"),this.createInspectorForRow(e,i)}},i.prototype.createInspectorForRow=function(e,o){var i=e.getAttribute("data-inspector-values");if(void 0===i||"string"!=typeof i)throw new Error("Values not found for the selected row.");var n=this.propertyDefinition.itemProperties,r=JSON.parse(i),s={enableExternalParameterEditor:!1,onChange:this.proxy(this.onInspectorDataChange),inspectorClass:this.inspector.options.inspectorClass};this.currentRowInspector=new t.oc.inspector.surface(o,n,r,t.oc.inspector.helpers.generateElementUniqueId(o),s)},i.prototype.disposeInspector=function(){t.oc.foundation.controlUtils.disposeControls(this.popup.querySelector("[data-inspector-container]")),this.currentRowInspector=null},i.prototype.applyDataToRow=function(t){if(null!==this.currentRowInspector){var e=this.currentRowInspector.getValues();t.setAttribute("data-inspector-values",JSON.stringify(e))}},i.prototype.updateRowText=function(e,o){var i=this.getSelectedRow();if(!i)throw new Exception("A row is not found for the updated data");e===this.propertyDefinition.titleProperty&&(0===(o=t.trim(o)).length?(o="[No title]",t.oc.foundation.element.addClass(i,"disabled")):t.oc.foundation.element.removeClass(i,"disabled"),i.firstChild.textContent=o)},i.prototype.getSelectedRow=function(){if(!this.popup)throw new Error("Trying to get selected row without a popup reference.");for(var e=this.getTableBody().children,o=0,i=e.length;o<i;o++)if(t.oc.foundation.element.hasClass(e[o],"active"))return e[o];return null},i.prototype.createItem=function(){var e=this.getSelectedRow();if(e){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(e),t.oc.foundation.element.removeClass(e,"active")}this.disposeInspector();var o="New item",i=this.buildTableRow(o,"rowlink active"),n=this.getTableBody(),r={};r[this.propertyDefinition.titleProperty]=o,i.setAttribute("data-inspector-values",JSON.stringify(r)),n.appendChild(i),this.selectRow(i,!0),this.removeEmptyRow(),this.updateScrollpads()},i.prototype.deleteItem=function(){var t=this.getSelectedRow();if(t){var e=t.nextElementSibling,o=t.previousElementSibling,i=this.getTableBody();this.disposeInspector(),i.removeChild(t);var n=e||o;n?this.selectRow(n):i.appendChild(this.buildEmptyRow()),this.updateScrollpads()}},i.prototype.applyDataToParentInspector=function(){var e=this.getSelectedRow(),o=this.getTableBody().querySelectorAll("tr[data-inspector-values]"),i=this.getLink(),n=this.getEmptyValue();if(e){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(e)}for(var r=0,s=o.length;r<s;r++){var a=o[r],l=JSON.parse(a.getAttribute("data-inspector-values"));if(this.isKeyValueMode())n[l[this.propertyDefinition.keyProperty]]=this.removeKeyProperty(l);else n.push(l)}return this.inspector.setPropertyValue(this.propertyDefinition.property,n),this.setLinkText(i,n),t(i).popup("hide"),!1},i.prototype.validateKeyValue=function(){if(!this.isKeyValueMode())return!0;if(null===this.currentRowInspector)return!0;var e=this.currentRowInspector.getValues(),o=this.propertyDefinition.keyProperty;if(void 0===e[o])throw new Error("Key property "+o+" is not found in the Inspector data. Property: "+this.propertyDefinition.property);var i=e[o],n=this.getKeyProperty().title;if("string"!=typeof i)throw new Error("Key property ("+o+") value should be a string. Property: "+this.propertyDefinition.property);if(0===t.trim(i).length)return t.oc.flashMsg({text:"The value of key property "+n+" cannot be empty.",class:"error",interval:3}),!1;for(var r=this.getSelectedRow(),s=this.getTableBody().querySelectorAll("tr[data-inspector-values]"),a=0,l=s.length;a<l;a++){var p=s[a],c=JSON.parse(p.getAttribute("data-inspector-values"));if(r!=p&&c[o]==i)return t.oc.flashMsg({text:"The value of key property "+n+" should be unique.",class:"error",interval:3}),!1}return!0},i.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},i.prototype.getPopupFormElement=function(){var t=this.popup.querySelector("form");return t||this.throwError("Cannot find form element in the popup window."),t},i.prototype.getInspectorContainer=function(){return this.popup.querySelector("div[data-inspector-container]")},i.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-table-list tbody")},i.prototype.isKeyValueMode=function(){return void 0!==this.propertyDefinition.keyProperty},i.prototype.getKeyProperty=function(){for(var t=0,e=this.propertyDefinition.itemProperties.length;t<e;t++){var o=this.propertyDefinition.itemProperties[t];if(o.property==this.propertyDefinition.keyProperty)return o}},i.prototype.getValueKeys=function(t){var e=[];for(var o in t)e.push(o);return e},i.prototype.addKeyProperty=function(t,e){return this.isKeyValueMode()?(e[this.propertyDefinition.keyProperty]=t,e):e},i.prototype.removeKeyProperty=function(t){if(!this.isKeyValueMode())return t;var e=t;return void 0!==e[this.propertyDefinition.keyProperty]&&delete e[this.propertyDefinition.keyProperty],e},i.prototype.getEmptyValue=function(){return this.isKeyValueMode()?{}:[]},i.prototype.registerHandlers=function(){var e=this.getLink(),o=t(e);e.addEventListener("click",this.proxy(this.onTriggerClick)),o.on("shown.oc.popup",this.proxy(this.onPopupShown)),o.on("hidden.oc.popup",this.proxy(this.onPopupHidden))},i.prototype.unregisterHandlers=function(){var e=this.getLink(),o=t(e);e.removeEventListener("click",this.proxy(this.onTriggerClick)),o.off("shown.oc.popup",this.proxy(this.onPopupShown)),o.off("hidden.oc.popup",this.proxy(this.onPopupHidden))},i.prototype.onTriggerClick=function(e){t.oc.foundation.event.stop(e);var o=this.getPopupContent();return o=o.replace("{{property}}",this.propertyDefinition.title),t(e.target).popup({content:o}),!1},i.prototype.onPopupShown=function(e,o,i){t(i).on("submit.inspector","form",this.proxy(this.onSubmit)),t(i).on("click","tr.rowlink",this.proxy(this.onRowClick)),t(i).on("click.inspector","[data-cmd]",this.proxy(this.onCommand)),this.popup=i.get(0),this.buildPopupContents(this.popup),this.getRootSurface().popupDisplayed()},i.prototype.onPopupHidden=function(e,o,i){t(i).off(".inspector",this.proxy(this.onSubmit)),t(i).off("click","tr.rowlink",this.proxy(this.onRowClick)),t(i).off("click.inspector","[data-cmd]",this.proxy(this.onCommand)),this.disposeInspector(),t.oc.foundation.controlUtils.disposeControls(this.popup),this.popup=null,this.getRootSurface().popupHidden()},i.prototype.onSubmit=function(t){return this.applyDataToParentInspector(),t.preventDefault(),!1},i.prototype.onRowClick=function(t){this.selectRow(t.currentTarget)},i.prototype.onInspectorDataChange=function(t,e){this.updateRowText(t,e)},i.prototype.onCommand=function(t){switch(t.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},i.prototype.removeControls=function(){this.popup&&this.disposeInspector(this.popup)},t.oc.inspector.propertyEditors.objectList=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.base,o=e.prototype,i=function(t,o,i,n){void 0===o.properties&&this.throwError("The properties property should be specified in the object editor configuration."),e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.init=function(){this.initControlGroup(),o.init.call(this)},i.prototype.build=function(){var e=this.containerCell.parentNode,o=document.createElement("div"),i={enableExternalParameterEditor:!1,onChange:this.proxy(this.onInspectorDataChange),inspectorClass:this.inspector.options.inspectorClass},n=this.inspector.getPropertyValue(this.propertyDefinition.property);void 0===n&&(n={}),this.childInspector=new t.oc.inspector.surface(o,this.propertyDefinition.properties,n,this.inspector.getInspectorUniqueId()+"-"+this.propertyDefinition.property,i,this.inspector,this.group,this.propertyDefinition.property),this.inspector.mergeChildSurface(this.childInspector,e)},i.prototype.cleanUpValue=function(t){if(void 0!==t&&"object"==typeof t)return void 0===this.propertyDefinition.ignoreIfPropertyEmpty?t:this.getValueOrRemove(t)},i.prototype.getValueOrRemove=function(e){if(void 0===this.propertyDefinition.ignoreIfPropertyEmpty)return e;var o=e[this.propertyDefinition.ignoreIfPropertyEmpty];return this.isEmptyValue(o)?t.oc.inspector.removedProperty:e},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.isGroupedEditor=function(){return!0},i.prototype.getUndefinedValue=function(){for(var t={},e=0,o=this.propertyDefinition.properties.length;e<o;e++){var i=this.propertyDefinition.properties[e].property,n=this.childInspector.findPropertyEditor(i);n&&(t[i]=n.getUndefinedValue())}return this.getValueOrRemove(t)},i.prototype.validate=function(e){var o=this.childInspector.getValues();return this.cleanUpValue(o)===t.oc.inspector.removedProperty||this.childInspector.validate(e)},i.prototype.onInspectorDataChange=function(t,e){var o=this.childInspector.getValues();this.inspector.setPropertyValue(this.propertyDefinition.property,this.cleanUpValue(o))},t.oc.inspector.propertyEditors.object=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.text,o=e.prototype,i=function(t,o,i,n){e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.setLinkText=function(e,o){void 0===(o=void 0!==o?o:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(o=this.propertyDefinition.default),this.checkValueType(o),o?(t.oc.foundation.element.removeClass(e,"cell-placeholder"),e.textContent="["+o.join(", ")+"]"):(o=this.propertyDefinition.placeholder,t.oc.foundation.element.addClass(e,"cell-placeholder"),o||(o="[]"),e.textContent=o)},i.prototype.checkValueType=function(t){t&&"[object Array]"!==Object.prototype.toString.call(t)&&this.throwError("The string list value should be an array.")},i.prototype.configurePopup=function(e){var o=t(e).find("textarea"),i=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.placeholder&&o.attr("placeholder",this.propertyDefinition.placeholder),void 0===i&&(i=this.propertyDefinition.default),this.checkValueType(i),i&&i.length&&o.val(i.join("\n")),o.focus(),this.configureComment(e)},i.prototype.handleSubmit=function(e){var o=e.find("textarea"),i=(this.getLink(),t.trim(o.val())),n=[],r=[];if(i.length)for(var s=0,a=(n=(i=i.replace(/\r\n/g,"\n")).split("\n")).length;s<a;s++){var l=t.trim(n[s]);l.length>0&&r.push(l)}this.inspector.setPropertyValue(this.propertyDefinition.property,r)},t.oc.inspector.propertyEditors.stringList=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.popupBase,o=e.prototype,i=function(t,o,i,n){this.items=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){o.dispose.call(this)},i.prototype.init=function(){o.init.call(this)},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.setLinkText=function(e,o){void 0===(o=void 0!==o?o:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(o=this.propertyDefinition.default),this.checkValueType(o),o?(t.oc.foundation.element.removeClass(e,"cell-placeholder"),e.textContent="["+o.join(", ")+"]"):(o=this.propertyDefinition.placeholder,t.oc.foundation.element.addClass(e,"cell-placeholder"),o||(o="[]"),e.textContent=o)},i.prototype.checkValueType=function(t){t&&"[object Array]"!==Object.prototype.toString.call(t)&&this.throwError("The string list value should be an array.")},i.prototype.getPopupContent=function(){return'<form>                                                                                                     <div class="modal-header">                                                                                     <h4 class="modal-title">{{property}}</h4>                                                                  <button type="button" class="btn-close" data-dismiss="popup"></button>                                 </div>                                                                                                     <div class="modal-body">                                                                                       <div class="control-toolbar">                                                                                  <div class="toolbar-item">                                                                                     <div class="btn-group">                                                                                        <button type="button" class="btn btn-primary                                                                   oc-icon-plus"                                                                                              data-cmd="create-item">'+oc.lang.get("inspector.add")+'</button>                                       <button type="button" class="btn btn-default                                                                   empty oc-icon-trash-o"                                                                                     data-cmd="delete-item"></button>                                                                   </div>                                                                                                 </div>                                                                                                 </div>                                                                                                     <div class="form-group">                                                                                       <div class="inspector-dictionary-container">                                                                   <div class="values">                                                                                           <div class="control-scrollpad"                                                                                 data-control="scrollpad">                                                                                  <div class="scroll-wrapper">                                                                                   <table class="                                                                                                 no-offset-bottom                                                                                           inspector-dictionary-table">                                                                           </table>                                                                                               </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                 </div>                                                                                                     <div class="modal-footer">                                                                                     <button type="submit" class="btn btn-primary">'+oc.lang.get("inspector.ok")+'</button>                     <button type="button" class="btn btn-default" data-dismiss="popup">'+oc.lang.get("inspector.cancel")+"</button>                   </div>                                                                                                     </form>"},i.prototype.configurePopup=function(t){this.initAutocomplete(),this.buildItemsTable(t.get(0)),this.focusFirstInput()},i.prototype.handleSubmit=function(t){return this.applyValues()},i.prototype.buildItemsTable=function(t){var e=t.querySelector("table.inspector-dictionary-table"),o=document.createElement("tbody"),i=this.inspector.getPropertyValue(this.propertyDefinition.property);if(void 0===i&&(i=this.propertyDefinition.default),void 0===i||0===this.getValueKeys(i).length){var n=this.buildEmptyRow();o.appendChild(n)}else for(var r in i){n=this.buildTableRow(i[r]);o.appendChild(n)}e.appendChild(o),this.updateScrollpads()},i.prototype.buildTableRow=function(t){var e=document.createElement("tr"),o=document.createElement("td");return this.createInput(o,t),e.appendChild(o),e},i.prototype.buildEmptyRow=function(){return this.buildTableRow(null)},i.prototype.createInput=function(t,e){var o=document.createElement("input"),i=document.createElement("div");o.setAttribute("type","text"),o.setAttribute("class","form-control"),o.value=e,i.appendChild(o),t.appendChild(i)},i.prototype.setActiveCell=function(e){for(var o=this.popup.querySelectorAll("td.active"),i=o.length-1;i>=0;i--)t.oc.foundation.element.removeClass(o[i],"active");var n=e.parentNode.parentNode;t.oc.foundation.element.addClass(n,"active"),this.buildAutoComplete(e)},i.prototype.createItem=function(){var t=this.getActiveRow(),e=this.buildEmptyRow(),o=this.getTableBody(),i=t?t.nextElementSibling:null;o.insertBefore(e,i),this.focusAndMakeActive(e.querySelector("input")),this.updateScrollpads()},i.prototype.deleteItem=function(){var t=this.getActiveRow(),e=this.getTableBody();if(t){var o=t.nextElementSibling,i=t.previousElementSibling,n=this.getRowInputByIndex(t,0);n&&this.removeAutocomplete(n),e.removeChild(t);var r=o||i;r||(r=this.buildEmptyRow(),e.appendChild(r)),this.focusAndMakeActive(r.querySelector("input")),this.updateScrollpads()}},i.prototype.applyValues=function(){for(var e=this.getTableBody().querySelectorAll("tr"),o=this.getLink(),i=[],n=0,r=e.length;n<r;n++){var s=e[n],a=this.getRowInputByIndex(s,0),l=t.trim(a.value);0!=l.length&&i.push(l)}this.inspector.setPropertyValue(this.propertyDefinition.property,i),this.setLinkText(o,i)},i.prototype.getValueKeys=function(t){var e=[];for(var o in t)e.push(o);return e},i.prototype.getActiveRow=function(){var t=this.popup.querySelector("td.active");return t?t.parentNode:null},i.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-dictionary-table tbody")},i.prototype.updateScrollpads=function(){t(".control-scrollpad",this.popup).scrollpad("update")},i.prototype.focusFirstInput=function(){var t=this.popup.querySelector("td input");t&&(t.focus(),this.setActiveCell(t))},i.prototype.getEditorCell=function(t){return t.parentNode.parentNode},i.prototype.getEditorRow=function(t){return t.parentNode.parentNode.parentNode},i.prototype.focusAndMakeActive=function(t){t.focus(),this.setActiveCell(t)},i.prototype.getRowInputByIndex=function(t,e){return t.cells[e].querySelector("input")},i.prototype.navigateDown=function(t){var e=this.getEditorCell(t.currentTarget),o=this.getEditorRow(t.currentTarget).nextElementSibling;if(o){var i=o.cells[e.cellIndex].querySelector("input");this.focusAndMakeActive(i)}},i.prototype.navigateUp=function(t){var e=this.getEditorCell(t.currentTarget),o=this.getEditorRow(t.currentTarget).previousElementSibling;if(o){var i=o.cells[e.cellIndex].querySelector("input");this.focusAndMakeActive(i)}},i.prototype.initAutocomplete=function(){void 0!==this.propertyDefinition.items?(this.items=this.prepareItems(this.propertyDefinition.items),this.initializeAutocompleteForCurrentInput()):this.loadDynamicItems()},i.prototype.initializeAutocompleteForCurrentInput=function(){var t=document.activeElement;if(t){var e=this.popup.querySelectorAll("td input.form-control");if(e)for(var o=e.length-1;o>=0;o--)if(e[o]===t)return void this.buildAutoComplete(e[o])}},i.prototype.buildAutoComplete=function(e){null!==this.items&&t(e).autocomplete({source:this.items,matchWidth:!0,menu:'<ul class="autocomplete dropdown-menu inspector-autocomplete"></ul>',bodyContainer:!0})},i.prototype.removeAutocomplete=function(e){var o=t(e);o.data("autocomplete")&&o.autocomplete("destroy")},i.prototype.prepareItems=function(e){var o={};if(t.isArray(e))for(var i=0,n=e.length;i<n;i++)o[e[i]]=e[i];else o=e;return o},i.prototype.loadDynamicItems=function(){if(!this.isDisposed()){var e=this.getRootSurface().getValues(),o=t(this.popup).find("form");!1!==this.triggerGetItems(e)&&(e.inspectorProperty=this.getPropertyPath(),e.inspectorClassName=this.inspector.options.inspectorClass,o.request(this.inspector.getEventHandler("onInspectableGetOptions"),{data:e,progressBar:!1}).done(this.proxy(this.itemsRequestDone)))}},i.prototype.triggerGetItems=function(e){var o=this.getInspectableElement();if(!o)return!0;var i=t.Event("autocompleteitems.oc.inspector");return o.trigger(i,[{values:e,callback:this.proxy(this.itemsRequestDone),property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!i.isDefaultPrevented()},i.prototype.itemsRequestDone=function(t){if(!this.isDisposed()){var e={};if(t.options)for(var o=t.options.length-1;o>=0;o--)e[t.options[o].value]=t.options[o].title;this.items=this.prepareItems(e),this.initializeAutocompleteForCurrentInput()}},i.prototype.removeAutocompleteFromAllRows=function(){for(var t=this.popup.querySelector("td input.form-control"),e=t.length-1;e>=0;e--)this.removeAutocomplete(t[e])},i.prototype.onPopupShown=function(t,e,i){o.onPopupShown.call(this,t,e,i),i.on("focus.inspector","td input",this.proxy(this.onFocus)),i.on("blur.inspector","td input",this.proxy(this.onBlur)),i.on("keydown.inspector","td input",this.proxy(this.onKeyDown)),i.on("click.inspector","[data-cmd]",this.proxy(this.onCommand))},i.prototype.onPopupHidden=function(t,e,i){i.off(".inspector","td input"),i.off(".inspector","[data-cmd]",this.proxy(this.onCommand)),this.removeAutocompleteFromAllRows(),this.items=null,o.onPopupHidden.call(this,t,e,i)},i.prototype.onFocus=function(t){this.setActiveCell(t.currentTarget)},i.prototype.onBlur=function(e){t(e.relatedTarget).closest("ul.inspector-autocomplete").length>0||this.removeAutocomplete(e.currentTarget)},i.prototype.onCommand=function(t){switch(t.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},i.prototype.onKeyDown=function(t){return"ArrowDown"===t.key?this.navigateDown(t):"ArrowUp"===t.key?this.navigateUp(t):void 0},t.oc.inspector.propertyEditors.stringListAutocomplete=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.popupBase,o=e.prototype,i=function(t,o,i,n){this.keyValidationSet=null,this.valueValidationSet=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.disposeValidators(),this.keyValidationSet=null,this.valueValidationSet=null,o.dispose.call(this)},i.prototype.init=function(){this.initValidators(),o.init.call(this)},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.setLinkText=function(e,o){if(void 0===(o=void 0!==o?o:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(o=this.propertyDefinition.default),void 0===o||t.isEmptyObject(o)){var i=this.propertyDefinition.placeholder;void 0!==i?(t.oc.foundation.element.addClass(e,"cell-placeholder"),e.textContent=i):e.textContent="Items: 0"}else{"object"!=typeof o&&this.throwError("Object list value should be an object.");var n=this.getValueKeys(o).length;t.oc.foundation.element.removeClass(e,"cell-placeholder"),e.textContent="Items: "+n}},i.prototype.getPopupContent=function(){return'<form>                                                                                                      <div class="modal-header">                                                                                      <h4 class="modal-title">{{property}}</h4>                                                                   <button type="button" class="btn-close" data-dismiss="popup"></button>                                  </div>                                                                                                      <div class="modal-body">                                                                                        <div class="control-toolbar">                                                                                   <div class="toolbar-item">                                                                                      <div class="btn-group">                                                                                         <button type="button" class="btn btn-primary                                                                    oc-icon-plus"                                                                                               data-cmd="create-item">'+oc.lang.get("inspector.add")+'</button>                                        <button type="button" class="btn btn-default                                                                    empty oc-icon-trash-o"                                                                                      data-cmd="delete-item"></button>                                                                    </div>                                                                                                  </div>                                                                                                  </div>                                                                                                      <div class="form-group">                                                                                        <div class="inspector-dictionary-container">                                                                    <table class="headers">                                                                                         <thead>                                                                                                         <tr>                                                                                                            <td>'+oc.lang.get("inspector.key")+"</td>                                                                   <td>"+oc.lang.get("inspector.value")+'</td>                                                             </tr>                                                                                                   </thead>                                                                                                </table>                                                                                                    <div class="values">                                                                                            <div class="control-scrollpad"                                                                                  data-control="scrollpad">                                                                                   <div class="scroll-wrapper">                                                                                    <table class="                                                                                                  no-offset-bottom                                                                                            inspector-dictionary-table">                                                                            </table>                                                                                                </div>                                                                                                  </div>                                                                                                  </div>                                                                                                  </div>                                                                                                  </div>                                                                                                  </div>                                                                                                      <div class="modal-footer">                                                                                      <button type="submit" class="btn btn-primary">'+oc.lang.get("inspector.ok")+'</button>                      <button type="button" class="btn btn-default" data-dismiss="popup">'+oc.lang.get("inspector.cancel")+"</button>                 </div>                                                                                                  </form>"},i.prototype.configurePopup=function(t){this.buildItemsTable(t.get(0)),this.focusFirstInput()},i.prototype.handleSubmit=function(t){return this.applyValues()},i.prototype.buildItemsTable=function(t){var e=t.querySelector("table.inspector-dictionary-table"),o=document.createElement("tbody"),i=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.titleProperty;if(void 0===i&&(i=this.propertyDefinition.default),void 0===i||0===this.getValueKeys(i).length){var n=this.buildEmptyRow();o.appendChild(n)}else for(var r in i){n=this.buildTableRow(r,i[r]);o.appendChild(n)}e.appendChild(o),this.updateScrollpads()},i.prototype.buildTableRow=function(t,e){var o=document.createElement("tr"),i=document.createElement("td"),n=document.createElement("td");return this.createInput(i,t),this.createInput(n,e),o.appendChild(i),o.appendChild(n),o},i.prototype.buildEmptyRow=function(){return this.buildTableRow(null,null)},i.prototype.createInput=function(t,e){var o=document.createElement("input"),i=document.createElement("div");o.setAttribute("type","text"),o.setAttribute("class","form-control"),o.value=e,i.appendChild(o),t.appendChild(i)},i.prototype.setActiveCell=function(e){for(var o=this.popup.querySelectorAll("td.active"),i=o.length-1;i>=0;i--)t.oc.foundation.element.removeClass(o[i],"active");var n=e.parentNode.parentNode;t.oc.foundation.element.addClass(n,"active")},i.prototype.createItem=function(){var t=this.getActiveRow(),e=this.buildEmptyRow(),o=this.getTableBody(),i=t?t.nextElementSibling:null;o.insertBefore(e,i),this.focusAndMakeActive(e.querySelector("input")),this.updateScrollpads()},i.prototype.deleteItem=function(){var t=this.getActiveRow(),e=this.getTableBody();if(t){var o=t.nextElementSibling,i=t.previousElementSibling;e.removeChild(t);var n=o||i;n||(n=this.buildEmptyRow(),e.appendChild(n)),this.focusAndMakeActive(n.querySelector("input")),this.updateScrollpads()}},i.prototype.applyValues=function(){for(var e=this.getTableBody().querySelectorAll("tr"),o=this.getLink(),i={},n=0,r=e.length;n<r;n++){var s=e[n],a=this.getRowInputByIndex(s,0),l=this.getRowInputByIndex(s,1),p=t.trim(a.value),c=t.trim(l.value);if(0!=p.length||0!=c.length){if(0==p.length)return t.oc.flashMsg({text:"The key cannot be empty.",class:"error",interval:3}),this.focusAndMakeActive(a),!1;if(0==c.length)return t.oc.flashMsg({text:"The value cannot be empty.",class:"error",interval:3}),this.focusAndMakeActive(l),!1;if(void 0!==i[p])return t.oc.flashMsg({text:"Keys should be unique.",class:"error",interval:3}),this.focusAndMakeActive(a),!1;var u=this.keyValidationSet.validate(p);if(null!==u)return t.oc.flashMsg({text:u,class:"error",interval:5}),!1;if(null!==(u=this.valueValidationSet.validate(c)))return t.oc.flashMsg({text:u,class:"error",interval:5}),!1;i[p]=c}}this.inspector.setPropertyValue(this.propertyDefinition.property,i),this.setLinkText(o,i)},i.prototype.getValueKeys=function(t){var e=[];for(var o in t)e.push(o);return e},i.prototype.getActiveRow=function(){var t=this.popup.querySelector("td.active");return t?t.parentNode:null},i.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-dictionary-table tbody")},i.prototype.updateScrollpads=function(){t(".control-scrollpad",this.popup).scrollpad("update")},i.prototype.focusFirstInput=function(){var t=this.popup.querySelector("td input");t&&(t.focus(),this.setActiveCell(t))},i.prototype.getEditorCell=function(t){return t.parentNode.parentNode},i.prototype.getEditorRow=function(t){return t.parentNode.parentNode.parentNode},i.prototype.focusAndMakeActive=function(t){t.focus(),this.setActiveCell(t)},i.prototype.getRowInputByIndex=function(t,e){return t.cells[e].querySelector("input")},i.prototype.navigateDown=function(t){var e=this.getEditorCell(t.currentTarget),o=this.getEditorRow(t.currentTarget).nextElementSibling;if(o){var i=o.cells[e.cellIndex].querySelector("input");this.focusAndMakeActive(i)}},i.prototype.navigateUp=function(t){var e=this.getEditorCell(t.currentTarget),o=this.getEditorRow(t.currentTarget).previousElementSibling;if(o){var i=o.cells[e.cellIndex].querySelector("input");this.focusAndMakeActive(i)}},i.prototype.initValidators=function(){this.keyValidationSet=new t.oc.inspector.validationSet({validation:this.propertyDefinition.validationKey},this.propertyDefinition.property+".validationKey"),this.valueValidationSet=new t.oc.inspector.validationSet({validation:this.propertyDefinition.validationValue},this.propertyDefinition.property+".validationValue")},i.prototype.disposeValidators=function(){this.keyValidationSet.dispose(),this.valueValidationSet.dispose()},i.prototype.onPopupShown=function(t,e,i){o.onPopupShown.call(this,t,e,i),i.on("focus.inspector","td input",this.proxy(this.onFocus)),i.on("keydown.inspector","td input",this.proxy(this.onKeyDown)),i.on("click.inspector","[data-cmd]",this.proxy(this.onCommand))},i.prototype.onPopupHidden=function(t,e,i){i.off(".inspector","td input"),i.off(".inspector","[data-cmd]",this.proxy(this.onCommand)),o.onPopupHidden.call(this,t,e,i)},i.prototype.onFocus=function(t){this.setActiveCell(t.currentTarget)},i.prototype.onCommand=function(t){switch(t.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},i.prototype.onKeyDown=function(t){return"ArrowDown"===t.key?this.navigateDown(t):"ArrowUp"===t.key?this.navigateUp(t):void 0},t.oc.inspector.propertyEditors.dictionary=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.propertyEditors.string,o=e.prototype,i=function(t,o,i,n){this.autoUpdateTimeout=null,e.call(this,t,o,i,n)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.clearAutoUpdateTimeout(),this.removeAutocomplete(),o.dispose.call(this)},i.prototype.build=function(){var e=document.createElement("div"),o=document.createElement("input"),i=void 0!==this.propertyDefinition.placeholder?this.propertyDefinition.placeholder:"",n=this.inspector.getPropertyValue(this.propertyDefinition.property);o.setAttribute("type","text"),o.setAttribute("class","string-editor"),o.setAttribute("placeholder",i),e.setAttribute("class","autocomplete-container"),void 0===n&&(n=this.propertyDefinition.default),void 0===n&&(n=""),o.value=n,t.oc.foundation.element.addClass(this.containerCell,"text autocomplete"),e.appendChild(o),this.containerCell.appendChild(e),void 0!==this.propertyDefinition.items?this.buildAutoComplete(this.propertyDefinition.items):this.loadDynamicItems()},i.prototype.buildAutoComplete=function(e){var o=this.getInput();void 0===e&&(e=[]);var i=t(o),n=i.data("autocomplete");n?n.source=this.prepareItems(e):i.autocomplete({source:this.prepareItems(e),matchWidth:!0})},i.prototype.removeAutocomplete=function(){var e=this.getInput();t(e).autocomplete("destroy")},i.prototype.prepareItems=function(e){var o={};if(t.isArray(e))for(var i=0,n=e.length;i<n;i++)o[e[i]]=e[i];else o=e;return o},i.prototype.supportsExternalParameterEditor=function(){return!1},i.prototype.getContainer=function(){return this.getInput().parentNode},i.prototype.registerHandlers=function(){o.registerHandlers.call(this),t(this.getInput()).on("change",this.proxy(this.onInputKeyUp))},i.prototype.unregisterHandlers=function(){o.unregisterHandlers.call(this),t(this.getInput()).off("change",this.proxy(this.onInputKeyUp))},i.prototype.saveDependencyValues=function(){this.prevDependencyValues=this.getDependencyValues()},i.prototype.getDependencyValues=function(){for(var t="",e=0,o=this.propertyDefinition.depends.length;e<o;e++){var i=this.propertyDefinition.depends[e],n=this.inspector.getPropertyValue(i);void 0===n&&(n=""),t+=i+":"+n+"-"}return t},i.prototype.onInspectorPropertyChanged=function(t){this.propertyDefinition.depends&&-1!==this.propertyDefinition.depends.indexOf(t)&&(this.clearAutoUpdateTimeout(),void 0!==this.prevDependencyValues&&this.prevDependencyValues==dependencyValues||(this.autoUpdateTimeout=setTimeout(this.proxy(this.loadDynamicItems),200)))},i.prototype.clearAutoUpdateTimeout=function(){null!==this.autoUpdateTimeout&&(clearTimeout(this.autoUpdateTimeout),this.autoUpdateTimeout=null)},i.prototype.showLoadingIndicator=function(){t(this.getContainer()).loadIndicator()},i.prototype.hideLoadingIndicator=function(){if(!this.isDisposed()){var e=t(this.getContainer());e.loadIndicator("hide"),e.loadIndicator("destroy"),e.removeClass("loading-indicator-container")}},i.prototype.loadDynamicItems=function(){if(!this.isDisposed()){this.clearAutoUpdateTimeout();var e=this.getContainer(),o=this.getRootSurface().getValues(),i=t(e).closest("form");t.oc.foundation.element.addClass(e,"loading-indicator-container size-small"),this.showLoadingIndicator(),!1!==this.triggerGetItems(o)&&(o.inspectorProperty=this.getPropertyPath(),o.inspectorClassName=this.inspector.options.inspectorClass,i.request(this.inspector.getEventHandler("onInspectableGetOptions"),{data:o,progressBar:!1}).done(this.proxy(this.itemsRequestDone)).always(this.proxy(this.hideLoadingIndicator)))}},i.prototype.triggerGetItems=function(e){var o=this.getInspectableElement();if(!o)return!0;var i=t.Event("autocompleteitems.oc.inspector");return o.trigger(i,[{values:e,callback:this.proxy(this.itemsRequestDone),property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!i.isDefaultPrevented()},i.prototype.itemsRequestDone=function(t){if(!this.isDisposed()){this.hideLoadingIndicator();var e={};if(t.options)for(var o=t.options.length-1;o>=0;o--)e[t.options[o].value]=t.options[o].title;this.buildAutoComplete(e)}},t.oc.inspector.propertyEditors.autocomplete=i}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.inspector&&(t.oc.inspector={}),t.oc.inspector.helpers={},t.oc.inspector.helpers.generateElementUniqueId=function(e){if(e.hasAttribute("data-inspector-id"))return e.getAttribute("data-inspector-id");var o=t.oc.inspector.helpers.generateUniqueId();return e.setAttribute("data-inspector-id",o),o},t.oc.inspector.helpers.generateUniqueId=function(){return"inspectorid-"+Math.floor(Math.random()*(new Date).getTime())},t.oc.inspector.helpers.getEventHandler=function(t,e){t instanceof jQuery&&(t=t.get(0));var o=t.dataset.inspectorHandlerAlias;return o?o+"::"+e:e}}(window.jQuery),function(t){"use strict";void 0===t.oc.inspector.validators&&(t.oc.inspector.validators={});var e=t.oc.foundation.base,o=e.prototype,i=function(t,o){this.validators=[],this.options=t,this.propertyName=o,e.call(this),this.createValidators()};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.disposeValidators(),this.validators=null,o.dispose.call(this)},i.prototype.disposeValidators=function(){for(var t=0,e=this.validators.length;t<e;t++)this.validators[t].dispose()},i.prototype.throwError=function(t){throw new Error(t+" Property: "+this.propertyName)},i.prototype.createValidators=function(){if(void 0===this.options.required&&void 0===this.options.validationPattern&&void 0===this.options.validationMessage||void 0===this.options.validation||this.throwError("Legacy and new validation syntax should not be mixed."),void 0!==this.options.required&&this.options.required){var e=new t.oc.inspector.validators.required({message:this.options.validationMessage});this.validators.push(e)}if(void 0!==this.options.validationPattern){e=new t.oc.inspector.validators.regex({message:this.options.validationMessage,pattern:this.options.validationPattern});this.validators.push(e)}if(void 0!==this.options.validation)for(var o in this.options.validation){null==t.oc.inspector.validators[o]&&this.throwError('Inspector validator "'+o+'" is not found in the $.oc.inspector.validators namespace.');e=new t.oc.inspector.validators[o](this.options.validation[o]);this.validators.push(e)}},i.prototype.validate=function(t){try{for(var e=0,o=this.validators.length;e<o;e++){var i=this.validators[e].isValid(t);if("string"==typeof i)return i}return null}catch(t){this.throwError(t)}},t.oc.inspector.validationSet=i}(window.jQuery),function(t){"use strict";void 0===t.oc.inspector.validators&&(t.oc.inspector.validators={});var e=t.oc.foundation.base,o=e.prototype,i=function(t){this.options=t,this.defaultMessage="Invalid property value.",e.call(this)};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.defaultMessage=null,o.dispose.call(this)},i.prototype.getMessage=function(t){return void 0!==this.options.message?this.options.message:void 0!==t?t:this.defaultMessage},i.prototype.isScalar=function(t){return null==t||!("string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t)},i.prototype.isValid=function(t){return null},t.oc.inspector.validators.base=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.base,o=e.prototype,i=function(t){e.call(this,t)};(i.prototype=Object.create(o)).constructor=e,i.prototype.doCommonChecks=function(t){if(void 0!==this.options.min||void 0!==this.options.max){if(void 0!==this.options.min){if(void 0===this.options.min.value)throw new Error("The min.value parameter is not defined in the Inspector validator configuration");if(t<this.options.min.value)return void 0!==this.options.min.message?this.options.min.message:"The value should not be less than "+this.options.min.value}if(void 0!==this.options.max){if(void 0===this.options.max.value)throw new Error("The max.value parameter is not defined in the table Inspector validator configuration");if(t>this.options.max.value)return void 0!==this.options.max.message?this.options.max.message:"The value should not be greater than "+this.options.max.value}}},t.oc.inspector.validators.baseNumber=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.base,o=e.prototype,i=function(t){e.call(this,t),this.defaultMessage="The property is required."};(i.prototype=Object.create(o)).constructor=e,i.prototype.isValid=function(e){return null==e?this.getMessage():"boolean"==typeof e?e?null:this.getMessage():"object"==typeof e?t.isEmptyObject(e)?this.getMessage():null:t.trim(String(e)).length>0?null:this.getMessage()},t.oc.inspector.validators.required=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.base,o=e.prototype,i=function(t){e.call(this,t)};(i.prototype=Object.create(o)).constructor=e,i.prototype.isValid=function(e){if(void 0===this.options.pattern&&this.throwError("The pattern parameter is not defined in the Regex Inspector validator configuration."),this.isScalar(e)||this.throwError("The Regex Inspector validator can only be used with string values."),null==e)return null;var o=t.trim(String(e));return 0===o.length||new RegExp(this.options.pattern,this.options.modifiers).test(o)?null:this.getMessage()},t.oc.inspector.validators.regex=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.baseNumber,o=e.prototype,i=function(t){e.call(this,t)};(i.prototype=Object.create(o)).constructor=e,i.prototype.isValid=function(e){if(this.isScalar(e)&&"boolean"!=typeof e||this.throwError("The Integer Inspector validator can only be used with string values."),null==e)return null;var o=t.trim(String(e));if(0===o.length)return null;if(!(this.options.allowNegative?/^\-?[0-9]*$/.test(o):/^[0-9]*$/.test(o))){var i=this.options.allowNegative?"The value should be an integer.":"The value should be a positive integer.";return this.getMessage(i)}return this.doCommonChecks(parseInt(o))},t.oc.inspector.validators.integer=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.baseNumber,o=e.prototype,i=function(t){e.call(this,t)};(i.prototype=Object.create(o)).constructor=e,i.prototype.isValid=function(e){if(this.isScalar(e)&&"boolean"!=typeof e||this.throwError("The Float Inspector validator can only be used with string values."),null==e)return null;var o=t.trim(String(e));if(0===o.length)return null;if(!(this.options.allowNegative?/^[-]?([0-9]+\.[0-9]+|[0-9]+)$/.test(o):/^([0-9]+\.[0-9]+|[0-9]+)$/.test(o))){var i=this.options.allowNegative?"The value should be a floating point number.":"The value should be a positive floating point number.";return this.getMessage(i)}return this.doCommonChecks(parseFloat(o))},t.oc.inspector.validators.float=i}(window.jQuery),function(t){"use strict";var e=t.oc.inspector.validators.base,o=e.prototype,i=function(t){e.call(this,t)};(i.prototype=Object.create(o)).constructor=e,i.prototype.isValid=function(t){if(null==t)return null;"boolean"==typeof t&&this.throwError("The Length Inspector validator cannot work with Boolean values.");var e=null;if("[object Array]"===Object.prototype.toString.call(t)||"string"==typeof t?e=t.length:"object"==typeof t&&(e=this.getObjectLength(t)),void 0!==this.options.min||void 0!==this.options.max){if(void 0!==this.options.min){if(void 0===this.options.min.value)throw new Error("The min.value parameter is not defined in the Length Inspector validator configuration.");if(e<this.options.min.value)return void 0!==this.options.min.message?this.options.min.message:"The value should not be shorter than "+this.options.min.value}if(void 0!==this.options.max){if(void 0===this.options.max.value)throw new Error("The max.value parameter is not defined in the Length Inspector validator configuration.");if(e>this.options.max.value)return void 0!==this.options.max.message?this.options.max.message:"The value should not be longer than "+this.options.max.value}}},i.prototype.getObjectLength=function(t){var e=0;for(var o in t)e++;return e},t.oc.inspector.validators.length=i}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={}),void 0===t.oc.inspector&&(t.oc.inspector={});var e=t.oc.foundation.base,o=e.prototype,i=function(t,o,i,n){this.inspector=t,this.propertyDefinition=o,this.containerCell=i,this.initialValue=n,e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=e,i.prototype.dispose=function(){this.disposeControls(),this.unregisterHandlers(),this.inspector=null,this.propertyDefinition=null,this.containerCell=null,this.initialValue=null,o.dispose.call(this)},i.prototype.init=function(){this.tooltipText="Click to enter the external parameter name to load the property value from",this.build(),this.registerHandlers(),this.setInitialValue()},i.prototype.build=function(){var e=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),n=document.createElement("input"),r=document.createElement("a"),s=document.createElement("i");for(e.setAttribute("class","external-param-editor-container"),o.setAttribute("class","external-editor"),i.setAttribute("class","controls"),n.setAttribute("type","text"),n.setAttribute("tabindex","-1"),r.setAttribute("href","#"),r.setAttribute("class","external-editor-link"),r.setAttribute("tabindex","-1"),r.setAttribute("title",this.tooltipText),t(r).tooltip({container:"body",delay:500}),s.setAttribute("class","oc-icon-terminal"),r.appendChild(s),i.appendChild(n),i.appendChild(r),o.appendChild(i);this.containerCell.firstChild;){var a=this.containerCell.firstChild;e.appendChild(a)}e.appendChild(o),this.containerCell.appendChild(e)},i.prototype.setInitialValue=function(){if(this.initialValue&&"string"==typeof this.initialValue){var e;if(e=this.initialValue.match(/^\{\{([^\}]+)\}\}$/)){var o=t.trim(e[1]);o.length>0&&(this.showEditor(!0),this.getInput().value=o,this.inspector.setPropertyValue(this.propertyDefinition.property,null,!0,!0))}}},i.prototype.showEditor=function(e){var o=this.getEditor(),i=this.getInput(),n=this.getContainer(),r=this.getLink(),s=t(o).position();e?o.style.right=0:(o.style.right=0,o.style.left=s.left+"px"),setTimeout(this.proxy(this.repositionEditor),0),t.oc.foundation.element.addClass(n,"editor-visible"),r.setAttribute("data-original-title","Click to enter the property value"),this.toggleEditorVisibility(!1),i.setAttribute("tabindex",0),e||i.focus()},i.prototype.repositionEditor=function(){this.getEditor().style.left=0,this.containerCell.scrollTop=0},i.prototype.hideEditor=function(){var e=this.getEditor(),o=this.getContainer();e.style.left="auto",e.style.right="30px",t.oc.foundation.element.removeClass(o,"editor-visible"),t.oc.foundation.element.removeClass(this.containerCell,"active");var i=this.inspector.findPropertyEditor(this.propertyDefinition.property);i&&i.onExternalPropertyEditorHidden()},i.prototype.toggleEditor=function(e){t.oc.foundation.event.stop(e);var o=this.getLink(),i=this.getContainer(),n=this.getEditor();if(t(o).tooltip("hide"),this.isEditorVisible()){var r=i.offsetWidth;n.style.left=r+"px",o.setAttribute("data-original-title",this.tooltipText),this.getInput().setAttribute("tabindex","-1"),this.toggleEditorVisibility(!0),setTimeout(this.proxy(this.hideEditor),200)}else this.showEditor()},i.prototype.toggleEditorVisibility=function(e){var o=this.getContainer(),i=o.children,n=0;e||(n=this.containerCell.getAttribute("data-inspector-cell-height"))||(n=t(this.containerCell).height(),this.containerCell.setAttribute("data-inspector-cell-height",n)),n=Math.max(n,19);for(var r=0,s=i.length;r<s;r++){var a=i[r];t.oc.foundation.element.hasClass(a,"external-editor")||(e?t.oc.foundation.element.removeClass(a,"oc-hide"):(o.style.height=n+"px",t.oc.foundation.element.addClass(a,"oc-hide")))}},i.prototype.focus=function(){this.getInput().focus({preventScroll:!0})},i.prototype.validate=function(e){return 0!==t.trim(this.getValue()).length||(e||(t.oc.flashMsg({text:"Please enter the external parameter name.",class:"error",interval:5}),this.focus()),!1)},i.prototype.registerHandlers=function(){var t=this.getInput();this.getLink().addEventListener("click",this.proxy(this.toggleEditor)),t.addEventListener("focus",this.proxy(this.onInputFocus)),t.addEventListener("change",this.proxy(this.onInputChange))},i.prototype.onInputFocus=function(){this.inspector.makeCellActive(this.containerCell)},i.prototype.onInputChange=function(){this.inspector.markPropertyChanged(this.propertyDefinition.property,!0)},i.prototype.unregisterHandlers=function(){var t=this.getInput();this.getLink().removeEventListener("click",this.proxy(this.toggleEditor)),t.removeEventListener("focus",this.proxy(this.onInputFocus)),t.removeEventListener("change",this.proxy(this.onInputChange))},i.prototype.disposeControls=function(){t(this.getLink()).tooltip("dispose")},i.prototype.getInput=function(){return this.containerCell.querySelector("div.external-editor input")},i.prototype.getValue=function(){return this.getInput().value},i.prototype.getLink=function(){return this.containerCell.querySelector("a.external-editor-link")},i.prototype.getContainer=function(){return this.containerCell.querySelector("div.external-param-editor-container")},i.prototype.getEditor=function(){return this.containerCell.querySelector("div.external-editor")},i.prototype.getPropertyName=function(){return this.propertyDefinition.property},i.prototype.isEditorVisible=function(){return t.oc.foundation.element.hasClass(this.getContainer(),"editor-visible")},t.oc.inspector.externalParameterEditor=i}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o||{};var i=this.$el=t(e),n=this.size=i.height(),r=this,s=t.oc.chartUtils.loadListValues(t("ul",i)),a=t.oc.chartUtils.createLegend(t("ul",i)),l=t.oc.chartUtils.initLegendColorIndicators(a),p=this.isFullWidth(),c=void 0!==this.options.height?this.options.height:n,u=p?this.$el.width():n,d=(u-(s.values.length-1)*this.options.gap)/s.values.length,h=t("<div/>").addClass("canvas").height(c).width(p?"100%":u);i.prepend(h),i.toggleClass("full-width",p),Raphael(h.get(0),p?"100%":u,c,(function(){r.paper=this,r.bars=this.set(),r.paper.customAttributes.bar=function(t,e){return{path:[["M",t,c],["L",t,c-e],["L",t+d,c-e],["L",t+d,c],["Z"]]}};var e=0;t.each(s.values,(function(o,i){var n=void 0!==i.color?i.color:t.oc.chartUtils.getColor(o),s=r.paper.path().attr({"stroke-width":0}).attr({bar:[e,0]}).attr({fill:n});r.bars.push(s),l[o].css("background-color",n),e+=d+r.options.gap,s.hover((function(e){t.oc.chartUtils.showTooltip(e.pageX,e.pageY,t.trim(t.oc.chartUtils.getLegendLabel(a,o))+": <strong>"+i.value+"</stong>")}),(function(){t.oc.chartUtils.hideTooltip()}))})),e=0,t.each(s.values,(function(t,o){var i=s.max&&o.value?c/s.max*o.value:0;r.bars[t].animate({bar:[e,i]},1e3,"bounce"),e+=d+r.options.gap})),p&&t(window).on("resize",(function(){u=r.$el.width(),d=(u-(s.values.length-1)*r.options.gap)/s.values.length;var e=0;t.each(s.values,(function(t,o){var i=s.max&&o.value?c/s.max*o.value:0;r.bars[t].animate({bar:[e,i]},10,"bounce"),e+=d+r.options.gap}))}))}))};e.prototype.isFullWidth=function(){return void 0!==this.options.fullWidth&&this.options.fullWidth},e.DEFAULTS={gap:2};var o=t.fn.barChart;t.fn.barChart=function(o){return this.each((function(){var i=t(this),n=i.data("oc.barChart"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.barChart",new e(this,r))}))},t.fn.barChart.Constructor=e,t.fn.barChart.noConflict=function(){return t.fn.barChart=o,this},t(document).render((function(){t("[data-control=chart-bar]").barChart()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){var i=this,n="#fff",r="rgba(0,0,0,0.02)";"dark"===document.documentElement.getAttribute("data-bs-theme")&&(n="#1e2227",r="rgba(255,255,255,0.02)"),this.chartOptions={xaxis:{mode:"time",tickLength:5},selection:{mode:"x"},grid:{markingsColor:r,backgroundColor:{colors:[n,n]},borderColor:"#7bafcc",borderWidth:0,color:n,hoverable:!0,clickable:!0,labelMargin:10},series:{lines:{show:!0,fill:!0},points:{show:!0}},tooltip:!0,tooltipOpts:{defaultTheme:!1,content:"%x: <strong>%y</strong>",dateFormat:"%y-%0m-%0d",shifts:{x:10,y:20}},legend:{show:!0,noColumns:2}},this.defaultDataSetOptions={shadowSize:0};var s={};try{s=oc.parseJSON("{"+o.chartOptions+"}")}catch(t){throw new Error("Error parsing the data-chart-options attribute value. "+t)}this.chartOptions=t.extend({},this.chartOptions,s),this.options=o,this.$el=t(e),this.fullDataSet=[],this.resetZoomLink=t(o.resetZoomLink),this.$el.trigger("oc.chartLineInit",[this]),this.resetZoomLink.on("click",t.proxy(this.clearZoom,this)),this.options.zoomable&&this.$el.on("plotselected",(function(e,o){var n={xaxis:{min:o.xaxis.from,max:o.xaxis.to}};t.plot(i.$el,i.fullDataSet,t.extend(!0,{},i.chartOptions,n)),i.resetZoomLink.show()})),"time"==this.chartOptions.xaxis.mode&&"weeks"==this.options.timeMode&&(this.chartOptions.markings=function(t){var e=[],o=new Date(t.xaxis.min);o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+1)%7),o.setUTCSeconds(0),o.setUTCMinutes(0),o.setUTCHours(0);var i=o.getTime();do{e.push({xaxis:{from:i,to:i+1728e5}}),i+=6048e5}while(i<t.xaxis.max);return e}),this.initializing=!0,this.$el.find('>[data-chart="dataset"]').each((function(){var e=t(this).data(),o={};for(var n in e){var r=n.substring(3),s=e[n];"data"==(r=r.charAt(0).toLowerCase()+r.slice(1))&&(s=JSON.parse("["+s+"]")),o[r]=s}i.addDataSet(t.extend({},i.defaultDataSetOptions,o))})),this.initializing=!1,this.rebuildChart()};e.DEFAULTS={chartOptions:"",timeMode:null,zoomable:!1},e.prototype.addDataSet=function(t){this.fullDataSet.push(t),this.initializing||this.rebuildChart()},e.prototype.rebuildChart=function(){this.$el.trigger("oc.beforeChartLineRender",[this]),t.plot(this.$el,this.fullDataSet,this.chartOptions)},e.prototype.clearZoom=function(){this.rebuildChart(),this.resetZoomLink.hide()};var o=t.fn.chartLine;t.fn.chartLine=function(o){return this.each((function(){var i=t(this),n=i.data("october.chartLine"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("october.chartLine",n=new e(this,r)),"string"==typeof o&&n[o].call(i)}))},t.fn.chartLine.Constructor=e,t.fn.chartLine.noConflict=function(){return t.fn.chartLine=o,this},t(document).render((function(){t('[data-control="chart-line"]').chartLine()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){var i=this.$el=t(e),n=this;this.options=o||{},t("span.goal-meter-indicator",i).length>0||(this.$indicatorBar=t("<span />").text(this.options.value+"%"),this.$indicatorOuter=t("<span />").addClass("goal-meter-indicator").append(this.$indicatorBar),t("p",this.$el).first().before(this.$indicatorOuter),window.setTimeout((function(){n.update(n.options.value)}),200))};e.prototype.update=function(t){this.$indicatorBar.css("height",t+"%")},e.DEFAULTS={value:50};var o=t.fn.goalMeter;t.fn.goalMeter=function(o){return this.each((function(){var i=t(this),n=i.data("oc.goalMeter"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n?n.update(o):i.data("oc.goalMeter",n=new e(this,r))}))},t.fn.goalMeter.Constructor=e,t.fn.goalMeter.noConflict=function(){return t.fn.goalMeter=o,this},t(document).render((function(){t("[data-control=goal-meter]").goalMeter()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o||{};var i=this.$el=t(e),n=this.size=void 0!==this.options.size?this.options.size:i.height(),r=n/2-1,s=r-r/3.5,a=t.oc.chartUtils.loadListValues(t("ul",i)),l=t.oc.chartUtils.createLegend(t("ul",i)),p=t.oc.chartUtils.initLegendColorIndicators(l),c=this;if(!((u=t("div.canvas",i)).length>0)){var u=t("<div />").addClass("canvas").width(n).height(n);if(i.prepend(u),l.height(n).css("overflow","hidden"),Raphael(u.get(0),n,n,(function(){c.paper=this,c.segments=this.set(),c.paper.customAttributes.segment=function(t,e){var o=c.arcCoords(r,t),i=c.arcCoords(r,e),n=c.arcCoords(s,e),a=c.arcCoords(s,t),l=e-t>180;return{path:[["M",o.x,o.y],["A",r,r,0,+l,0,i.x,i.y],["L",n.x,n.y],["A",s,s,0,+l,1,a.x,a.y],["Z"]]}},c.paper.circle(n/2,n/2,s+(r-s)/2).attr({"stroke-width":r-s-.5}).attr({stroke:t.oc.chartUtils.defaultValueColor}),t.each(a.values,(function(e,o){var i=void 0!==o.color?o.color:t.oc.chartUtils.getColor(e),n=c.paper.path().attr({"stroke-width":0}).attr({segment:[0,0]}).attr({fill:i});c.segments.push(n),p[e].css("background-color",i),n.hover((function(i){t.oc.chartUtils.showTooltip(i.pageX,i.pageY,t.trim(t.oc.chartUtils.getLegendLabel(l,e))+": <strong>"+o.value+"</stong>")}),(function(){t.oc.chartUtils.hideTooltip()}))}));var e=c.options.startAngle;t.each(a.values,(function(t,o){var i=a.total&&o.value?360/a.total*o.value:0;360==i&&i--,c.segments[t].animate({segment:[e,e+i]},1e3,"bounce"),e+=i}))})),void 0!==this.options.centerText){var d=t("<span>").addClass("center").html(this.options.centerText);u.append(d)}}};e.prototype.arcCoords=function(t,e){var o=Raphael.rad(e);return{x:this.size/2+t*Math.cos(o),y:this.size/2-t*Math.sin(o)}},e.DEFAULTS={startAngle:45};var o=t.fn.pieChart;t.fn.pieChart=function(o){return this.each((function(){var i=t(this),n=i.data("oc.pieChart"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.pieChart",new e(this,r))}))},t.fn.pieChart.Constructor=e,t.fn.pieChart.noConflict=function(){return t.fn.pieChart=o,this},t(document).render((function(){t("[data-control=chart-pie]").pieChart()}))}(window.jQuery),function(t){"use strict";var e=function(){};e.prototype.defaultValueColor="#b8b8b8",e.prototype.getColor=function(t){var e=["#95b753","#cc3300","#e5a91a","#3366ff","#ff0f00","#ff6600","#ff9e01","#fcd202","#f8ff01","#b0de09","#04d215","#0d8ecf","#0d52d1","#2a0cd0","#8a0ccf","#cd0d74","#754deb","#dddddd","#999999","#333333","#000000","#57032a","#ca9726","#990000","#4b0c25"];return e[t%(e.length-1)]},e.prototype.loadListValues=function(e){var o={values:[],total:0,max:0};return t("> li",e).each((function(){var e=t(this).data("value")?parseFloat(t(this).data("value")):parseFloat(t("span",this).text());e<0&&(e*=-1),o.total+=e,o.values.push({value:e,color:t(this).data("color")}),o.max=Math.max(o.max,e)})),o},e.prototype.getLegendLabel=function(e,o){return t("tr:eq("+o+") td:eq(1)",e).html()},e.prototype.initLegendColorIndicators=function(e){var o=[];return t("tr > td:first-child",e).each((function(){var e=t("<i></i>");t(this).prepend(e),o.push(e)})),o},e.prototype.createLegend=function(e){var o=t("<div>").addClass("chart-legend"),i=t("<table>");return o.append(i),t("> li",e).each((function(){var e=t(this).clone().children().remove().end().html();i.append(t("<tr>").append(t('<td class="indicator">')).append(t("<td>").html(e)).append(t("<td>").addClass("value").html(t("span",this).html())))})),o.insertAfter(e),e.remove(),o},e.prototype.showTooltip=function(e,o,i){var n=t("#chart-tooltip");n.length&&n.remove(),n=t('<div id="chart-tooltip">').html(i).css("visibility","hidden"),e+=10,o+=10,t(document.body).append(n);var r=n.outerWidth();e+r>t(window).width()&&(e=t(window).width()-r-10),n.css({top:o,left:e,visibility:"visible"})},e.prototype.hideTooltip=function(){t("#chart-tooltip").remove()},void 0===t.oc&&(t.oc={}),t.oc.chartUtils=new e}(window.jQuery),window.assetManager=oc.AssetManager,window.ocJSON=oc.parseJSON,function(t){t(document).on("keypress","div.custom-checkbox",(function(e){if("(Space character)"===e.key||"Spacebar"===e.key||" "===e.key){var o=t("input[type=checkbox]",this);if(o.data("oc-space-timestamp")==e.timeStamp)return;return o.get(0).disabled||(o.get(0).checked=!o.get(0).checked,o.data("oc-space-timestamp",e.timeStamp),o.trigger("change")),!1}})),t(document).render((function(){t("div.custom-checkbox.is-indeterminate > input").each((function(){var e=t(this);switch(e.data("checked")){case 1:e.prop("indeterminate",!0);break;case 2:e.prop("indeterminate",!1),e.prop("checked",!0);break;default:e.prop("indeterminate",!1),e.prop("checked",!1)}}))})),t(document).on("click","div.custom-checkbox.is-indeterminate > label",(function(){var e=t(this).parent().find("input:first"),o=e.data("checked");switch(void 0===o&&(o=e.is(":checked")?1:0),o){case 0:e.data("checked",1),e.prop("indeterminate",!0);break;case 1:e.data("checked",2),e.prop("indeterminate",!1),e.prop("checked",!0);break;default:e.data("checked",0),e.prop("indeterminate",!1),e.prop("checked",!1)}return e.trigger("change"),!1}))}(jQuery),$(document).render((function(){$("[data-toggle=dropdown]:not([data-bs-toggle])").attr("data-bs-toggle","dropdown"),$("[data-toggle=modal]:not([data-bs-toggle])").attr("data-bs-toggle","modal"),$("[data-dismiss=modal]:not([data-bs-dismiss])").attr("data-bs-dismiss","modal"),$(".fade.in:not(.show)").addClass("show")})),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=0,n=0,r=function(o,i){this.lists=[],this.options=i,this.listSortableId=null,this.lastMousePosition=null,e.call(this),t.oc.foundation.controlUtils.markDisposable(o),this.init(),this.addList(o)};(r.prototype=Object.create(o)).constructor=r,r.prototype.init=function(){i++,this.listSortableId="listsortable/id/"+i},r.prototype.addList=function(e){this.lists.push(e),this.registerListHandlers(e),1==this.lists.length&&t(e).one("dispose-control",this.proxy(this.dispose))},r.prototype.registerListHandlers=function(e){var o=t(e);o.on("dragstart","> li",this.proxy(this.onDragStart)),o.on("dragover","> li",this.proxy(this.onDragOver)),o.on("dragenter","> li",this.proxy(this.onDragEnter)),o.on("dragleave","> li",this.proxy(this.onDragLeave)),o.on("drop","> li",this.proxy(this.onDragDrop)),o.on("dragend","> li",this.proxy(this.onDragEnd))},r.prototype.unregisterListHandlers=function(e){var o=t(e);o.off("dragstart","> li",this.proxy(this.onDragStart)),o.off("dragover","> li",this.proxy(this.onDragOver)),o.off("dragenter","> li",this.proxy(this.onDragEnter)),o.off("dragleave","> li",this.proxy(this.onDragLeave)),o.off("drop","> li",this.proxy(this.onDragDrop)),o.off("dragend","> li",this.proxy(this.onDragEnd))},r.prototype.unregisterHandlers=function(){t(document).off("dragover",this.proxy(this.onDocumentDragOver)),t(document).off("mousemove",this.proxy(this.onDocumentMouseMove)),t(this.lists[0]).off("dispose-control",this.proxy(this.dispose))},r.prototype.unbindLists=function(){for(var e=this.lists.length-1;e>0;e--){var o=this.lists[e];this.unregisterListHandlers(this.lists[e]),t(o).removeData("oc.listSortable")}},r.prototype.dispose=function(){this.unbindLists(),this.unregisterHandlers(),this.options=null,this.lists=[],o.dispose.call(this)},r.prototype.elementBelongsToManagedList=function(t){for(var e=this.lists.length-1;e>=0;e--){var o=this.lists[e];if(-1!==[].slice.call(o.children).indexOf(t))return!0}return!1},r.prototype.isDragStartAllowed=function(t){return!0},r.prototype.elementIsPlaceholder=function(t){return"list-sortable-placeholder"===t.getAttribute("class")},r.prototype.getElementSortableId=function(t){if(t.hasAttribute("data-list-sortable-element-id"))return t.getAttribute("data-list-sortable-element-id");++n;return t.setAttribute("data-list-sortable-element-id",n),n},r.prototype.dataTransferContains=function(t,e){return void 0!==t.dataTransfer.types.indexOf?t.dataTransfer.types.indexOf(e)>=0:t.dataTransfer.types.contains(e)},r.prototype.isSourceManagedList=function(t){return this.dataTransferContains(t,this.listSortableId)},r.prototype.removePlaceholders=function(){for(var t=this.lists.length-1;t>=0;t--)for(var e=this.lists[t],o=e.querySelectorAll(".list-sortable-placeholder"),i=o.length-1;i>=0;i--)e.removeChild(o[i])},r.prototype.createPlaceholder=function(t,e){var o=document.createElement("li"),i=this.getPlaceholderPlacement(t,e);this.removePlaceholders(),o.setAttribute("class","list-sortable-placeholder"),o.setAttribute("draggable",!0),"before"==i?t.parentNode.insertBefore(o,t):t.parentNode.insertBefore(o,t.nextSibling)},r.prototype.moveElement=function(e,o){var i=e.parentNode.querySelector(".list-sortable-placeholder");if(i){var n=o.dataTransfer.getData("listsortable/elementid");if(n){var r=this.findDraggedItem(n);r&&(i.parentNode.insertBefore(r,i),t(r).trigger("dragged.list.sortable"))}}},r.prototype.findDraggedItem=function(t){for(var e=this.lists.length-1;e>=0;e--){var o=this.lists[e].querySelector('[data-list-sortable-element-id="'+t+'"]');if(o)return o}return null},r.prototype.getPlaceholderPlacement=function(e,o){var i=t.oc.foundation.event.pageCoordinates(o),n=t.oc.foundation.element.absolutePosition(e);if("vertical"==this.options.direction){var r=n.top+e.offsetHeight/2;return i.y<=r?"before":"after"}r=n.left+e.offsetWidth/2;return i.x<=r?"before":"after"},r.prototype.lastMousePositionChanged=function(e){var o=t.oc.foundation.event.pageCoordinates(e.originalEvent);return(null===this.lastMousePosition||this.lastMousePosition.x!=o.x||this.lastMousePosition.y!=o.y)&&(this.lastMousePosition=o,!0)},r.prototype.mouseOutsideLists=function(e){for(var o=t.oc.foundation.event.pageCoordinates(e),i=this.lists.length-1;i>=0;i--)if(t.oc.foundation.element.elementContainsPoint(this.lists[i],o))return!1;return!0},r.prototype.getClosestDraggableParent=function(t){for(var e=t;e;){if("LI"===e.tagName&&e.hasAttribute("draggable"))return e;e=e.parentNode}return null},r.prototype.onDragStart=function(e){this.isDragStartAllowed(e.target)&&(e.originalEvent.dataTransfer.effectAllowed="move",e.originalEvent.dataTransfer.setData("listsortable/elementid",this.getElementSortableId(e.target)),e.originalEvent.dataTransfer.setData(this.listSortableId,this.listSortableId),t(document).on("mousemove",this.proxy(this.onDocumentMouseMove)),t(document).on("dragover",this.proxy(this.onDocumentDragOver)))},r.prototype.onDragOver=function(t){if(this.isSourceManagedList(t.originalEvent)){var e=this.getClosestDraggableParent(t.target);e&&(!this.elementIsPlaceholder(e)&&this.lastMousePositionChanged(t)&&this.createPlaceholder(e,t.originalEvent),t.stopPropagation(),t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move")}},r.prototype.onDragEnter=function(t){if(this.isSourceManagedList(t.originalEvent)){var e=this.getClosestDraggableParent(t.target);e&&(this.elementIsPlaceholder(e)||(this.createPlaceholder(e,t.originalEvent),t.stopPropagation(),t.preventDefault()))}},r.prototype.onDragLeave=function(t){this.isSourceManagedList(t.originalEvent)&&(t.stopPropagation(),t.preventDefault())},r.prototype.onDragDrop=function(t){if(this.isSourceManagedList(t.originalEvent)){var e=this.getClosestDraggableParent(t.target);e&&(this.moveElement(e,t.originalEvent),this.removePlaceholders())}},r.prototype.onDragEnd=function(e){t(document).off("dragover",this.proxy(this.onDocumentDragOver))},r.prototype.onDocumentDragOver=function(t){this.isSourceManagedList(t.originalEvent)&&this.mouseOutsideLists(t.originalEvent)&&this.removePlaceholders()},r.prototype.onDocumentMouseMove=function(e){t(document).off("mousemove",this.proxy(this.onDocumentMouseMove)),this.removePlaceholders()},r.DEFAULTS={handle:null,direction:"vertical"};var s=t.fn.listSortable;t.fn.listSortable=function(e){var o=arguments;return this.each((function(){var i=t(this),n=i.data("oc.listSortable"),s=t.extend({},r.DEFAULTS,i.data(),"object"==typeof e&&e);if(n||i.data("oc.listSortable",n=new r(this,s)),"string"==typeof e&&n&&n[e]){var a=Array.prototype.slice.call(o);a.shift(),n[e].apply(n,a)}}))},t.fn.listSortable.Constructor=r,t.fn.listSortable.noConflict=function(){return t.fn.listSortable=s,this},t(document).render((function(){t("[data-control=list-sortable]").listSortable()}))}(window.jQuery);class VueApp extends oc.ControlBase{init(){this.methods={},this.containers={},this.state={},this.state.processing=!1,this.state.eventBus=new Vue,this.registerMethod("onCommand",this.onCommand)}connect(){this.loadLangMessagesInternal(),this.loadInitialStateInternal()}disconnect(){for(const t in this.methods)this.methods[t]=null}registerState(t,e){if(t.constructor==={}.constructor)for(const e in t)this.registerState(e,t[e]);else void 0===this.state[t]&&Vue.set(this.state,t,e)}getState(t,e){return this.state[t]||e}getMethod(t){return this.methods[t]}registerMethod(t,e){this.methods[t]=e}createContainer(t,e){if(!this.element.isConnected)return;const o=new Vue({data:{state:this.state},methods:this.methods,el:e}),i=this.getContainerNameFromControl(t);this.containers[i]=o;const n=oc.fetchControl(e);n&&(n.vm=o)}destroyContainer(t,e){e&&e.$destroy();const o=this.getContainerNameFromControl(t);this.containers[o]=null}getContainerNameFromControl(t){return t.element.dataset.control.replace(/-./g,(t=>t[1].toUpperCase()))}isFormCommand(t){let e=t.split(":");return 2===e.length&&"form"===e[0]}async onCommand(t,e,o,i,n){let r=t.split(":");if(2==r.length&&"form"!==r[0])throw new Error("Unknown command: "+t);const s=r[1];let a={},l=n||{};if(l.request&&(a=n.request),l.confirm)try{await $.oc.confirmPromise(l.confirm)}catch(t){return Promise.reject()}return this.state.processing=!0,oc.request(i,s,{async:!0,...a}).finally((()=>{this.state.processing=!1}))}loadInitialStateInternal(){this.element.querySelectorAll("[data-vue-state]").forEach((t=>{const e=t.getAttribute("data-vue-state")||"initial",o=JSON.parse(t.innerHTML);this.state[e]={...$.oc.vueUtils.getCleanObject(this.state[e]||{}),...o}}))}loadLangMessagesInternal(){this.element.querySelectorAll("[data-vue-lang]").forEach((t=>{oc.lang.set(JSON.parse(t.innerHTML))}))}static getFromElement(t){const e=t.closest('[data-control="vue-app"]');if(e)return oc.fetchControl(e)}}oc.registerControl("vue-app",VueApp),oc.VueApp=VueApp;class VueControlBase extends oc.ControlBase{registerMethod(t,e){this.app.registerMethod(t,this.proxy(e))}registerState(t,e){this.app.registerState(t,e)}initBefore(){super.initBefore(),this.app=oc.VueApp.getFromElement(this.element),this.state=this.app.state,this.containers=this.app.containers}connectAfter(){super.connectAfter(),this.initContainerInternal()}disconnectAfter(){this.destroyContainerInternal(),super.disconnectAfter()}initContainerInternal(){if(this.vueElement=this.element.querySelector("[data-vue-template]"),!this.vueElement)throw new Error("Missing an element with data-vue-template");oc.pageReady().then((()=>{this.app.createContainer(this,this.vueElement)}))}destroyContainerInternal(){this.app.destroyContainer(this,this.vm)}}function unregisterServiceWorkers(){"https:"===location.protocol&&navigator.serviceWorker.getRegistrations().then((function(t){for(var e=0;e<t.length;e++)t[e].unregister({immediate:!0})}))}if(oc.registerControl("vue-container",VueControlBase),oc.VueControlBase=VueControlBase,window.oc||(window.oc={}),window.oc.langMessages||(window.oc.langMessages={}),window.oc.lang=function(t,e){return t.load=function(o){void 0===e[o]&&(e[o]={}),t.loadedMessages=e[o]},t.set=function(e,o){e.constructor==={}.constructor?t.loadedMessages={...e,...t.loadedMessages}:t.loadedMessages[e]=o},t.get=function(e,o){if(e){var i=t.loadedMessages;return o||(o=e),$.each(e.split("."),(function(t,e){if(void 0===i[e])return i=o,!1;i=i[e]})),i}},void 0===t.locale&&(t.locale=$("html").attr("lang")||"en"),void 0===t.loadedMessages&&t.load(t.locale),t}(window.oc.lang||{},window.oc.langMessages),void 0===$.oc&&($.oc={}),$.oc.lang=oc.lang,$.oc.langMessages=oc.langMessages,function(t){void 0===t.oc&&(t.oc={}),t.oc.alert=function(e,o){var i="string"!=typeof o?t.oc.lang.get("alert.error"):o;t.oc.vueComponentHelpers&&t.oc.vueComponentHelpers.modalUtils?t.oc.vueComponentHelpers.modalUtils.showAlert(i,e,{buttonText:t.oc.lang.get("alert.dismiss")}):alert(e)},t.oc.confirm=function(e,o,i){t.oc.confirmPromise(e,i).then((function(){o(!0)}),(function(){o(!1)}))},t.oc.confirmPromise=function(e,o){var i="string"!=typeof o?t.oc.lang.get("alert.confirm"):o;return t.oc.vueComponentHelpers.modalUtils.showConfirm(i,e,{})}}(jQuery),$(window).on("ajaxErrorMessage",(function(t,e){e&&($.oc.alert(e),t.preventDefault())})),$(window).on("ajaxConfirmMessage",(function(t,e,o){if(e)return $.oc.confirm(e,(function(t){t?o.resolve():o.reject()})),t.preventDefault(),!0})),function(t){"use strict";void 0===t.oc&&(t.oc={});t.oc.snackbar=new function(){var e=[],o=0,i=null;function n(){if(null===i){var o=e.shift();void 0!==o&&function(e){i={uniqueId:e.uniqueId};var o=t('                    <div class="october-snackbar">                         <div class="snackbar-label"></div>                         <button class="snackbar-dismiss" aria-title="Dismiss">X</button>                     </div>'),n=o.find(".snackbar-label");if(n.text(e.message),o.find(".snackbar-dismiss").one("click.snackbar",(function(){r(o,e.options)})),e.options&&e.options.action){var s=t('<button class="snackbar-action"></button>');s.text(e.options.action.label),s.one("click.snackbar",(function(){e.options.action.callback(),r(o,e.options)})),s.insertAfter(n)}t(document.body).append(o),i.element=o,i.uniqueId=e.uniqueId,i.options=e.options,setTimeout((function(){o.addClass("enter"),setTimeout((function(){o.addClass("show-snackbar"),function(t,e){var o=2e3;e&&e.timeout&&(o=e.timeout);e.timeoutId=setTimeout((function(){r(t,e)}),o)}(o,e.options)}),20)}),1)}(o)}}function r(t,e){t.find("button").off(".snackbar"),t.removeClass("show-snackbar"),clearTimeout(e.timeoutId),setTimeout((function(){i=null,t.remove(),n()}),210)}function s(t,e){clearTimeout(e.timeoutId),e.timeoutId=setTimeout((function(){r(t,e)}),200)}this.show=function(t,r){!function(t){if(void 0!==t){if("object"!=typeof t)throw new Error("Snackbar options must be an object");if(void 0!==t.replace&&"number"!=typeof t.replace)throw new Error("Snackbar options.replace must be a number");if(void 0!==t.timeout){if("number"!=typeof t.timeout)throw new Error("Snackbar options.timeout must be a number");if(t.timeout<2e3)throw new Error("Snackbar options.timeout cannot be lower than 2000");if(t.timeout>8e3)throw new Error("Snackbar options.timeout cannot be higher than 8000")}if(void 0!==t.action){if("object"!=typeof t.action)throw new Error("Snackbar options.action must be an object");if("string"!=typeof t.action.label)throw new Error("Snackbar options.action.label must be a string");if("function"!=typeof t.action.callback)throw new Error("Snackbar options.action.callback must be a function")}}}(r),r&&r.replace&&(i&&r.replace===i.uniqueId?s(i.element,i.options):function(t){for(var o=0;o<e.length;o++)if(e[o].uniqueId==t)return void e.splice(o,1)}(r.replace));var a=++o;return e.push({message:t,options:r||{},uniqueId:a}),n(),a},this.hide=function(t){i&&t===i.uniqueId&&s(i.element,i.options)}}}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,this.options=i,this.scrollbarSize=null,this.updateScrollbarTimer=null,this.dragOffset=null,e.call(this),this.init(),t.oc.foundation.controlUtils.markDisposable(o)};(i.prototype=Object.create(o)).constructor=i,i.prototype.dispose=function(){this.unregisterHandlers(),this.$el.get(0).removeChild(this.scrollbarElement),this.$el.removeData("oc.scrollpad"),this.$el=null,this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,o.dispose.call(this)},i.prototype.scrollToStart=function(){var t="vertical"==this.options.direction?"scrollTop":"scrollLeft";this.scrollContentElement[t]=0},i.prototype.update=function(){this.updateScrollbarSize()},i.prototype.init=function(){this.build(),this.setScrollContentSize(),this.registerHandlers()},i.prototype.build=function(){var t=this.$el.get(0);this.scrollContentElement=t.children[0],this.contentElement=this.scrollContentElement.children[0],this.$el.prepend('<div class="scrollpad-scrollbar"><div class="drag-handle"></div></div>'),this.scrollbarElement=t.querySelector(".scrollpad-scrollbar"),this.dragHandleElement=t.querySelector(".scrollpad-scrollbar > .drag-handle")},i.prototype.registerHandlers=function(){this.$el.on("mouseenter",this.proxy(this.onMouseEnter)),this.$el.on("mouseleave",this.proxy(this.onMouseLeave)),this.$el.one("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.addEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.addEventListener("mousedown",this.proxy(this.onStartDrag))},i.prototype.unregisterHandlers=function(){this.$el.off("mouseenter",this.proxy(this.onMouseEnter)),this.$el.off("mouseleave",this.proxy(this.onMouseLeave)),this.$el.off("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.removeEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.removeEventListener("mousedown",this.proxy(this.onStartDrag)),document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},i.prototype.setScrollContentSize=function(){var t=this.getScrollbarSize();"vertical"==this.options.direction?this.scrollContentElement.setAttribute("style","margin-right: -"+t+"px"):this.scrollContentElement.setAttribute("style","margin-bottom: -"+t+"px")},i.prototype.getScrollbarSize=function(){if(null!==this.scrollbarSize)return this.scrollbarSize;var t=document.createElement("div");t.setAttribute("class","scrollpad-scrollbar-size-tester"),t.appendChild(document.createElement("div")),document.body.appendChild(t);var e=t.offsetWidth,o=t.querySelector("div").offsetWidth;return document.body.removeChild(t),e===o&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.scrollbarSize=17:this.scrollbarSize=e-o},i.prototype.updateScrollbarSize=function(){this.scrollbarElement.removeAttribute("data-hidden");var t="vertical"==this.options.direction?this.contentElement.scrollHeight:this.contentElement.scrollWidth,e="vertical"==this.options.direction?this.scrollContentElement.scrollTop:this.scrollContentElement.scrollLeft,o="vertical"==this.options.direction?this.scrollbarElement.offsetHeight:this.scrollbarElement.offsetWidth,i=o/t,n=Math.round(i*e)+2,r=Math.floor(i*(o-2))-2;o<t?("vertical"==this.options.direction?this.dragHandleElement.setAttribute("style","top: "+n+"px; height: "+r+"px"):this.dragHandleElement.setAttribute("style","left: "+n+"px; width: "+r+"px"),this.scrollbarElement.removeAttribute("data-hidden")):this.scrollbarElement.setAttribute("data-hidden",!0)},i.prototype.displayScrollbar=function(){this.clearUpdateScrollbarTimer(),this.updateScrollbarSize(),this.scrollbarElement.setAttribute("data-visible","true")},i.prototype.hideScrollbar=function(){this.scrollbarElement.removeAttribute("data-visible")},i.prototype.clearUpdateScrollbarTimer=function(){null!==this.updateScrollbarTimer&&(clearTimeout(this.updateScrollbarTimer),this.updateScrollbarTimer=null)},i.prototype.onMouseEnter=function(){this.displayScrollbar()},i.prototype.onMouseLeave=function(){this.hideScrollbar()},i.prototype.onScroll=function(){null===this.updateScrollbarTimer&&(this.updateScrollbarTimer=setTimeout(this.proxy(this.displayScrollbar),10))},i.prototype.onStartDrag=function(e){t.oc.foundation.event.stop(e);var o=t.oc.foundation.event.pageCoordinates(e),i="vertical"==this.options.direction?o.y:o.x,n=t.oc.foundation.element.absolutePosition(this.dragHandleElement),r="vertical"==this.options.direction?n.top:n.left;this.dragOffset=i-r,document.addEventListener("mousemove",this.proxy(this.onMouseMove)),document.addEventListener("mouseup",this.proxy(this.onEndDrag))},i.prototype.onMouseMove=function(e){t.oc.foundation.event.stop(e);var o="vertical"==this.options.direction?"y":"x",i="vertical"==this.options.direction?"top":"left",n="vertical"==this.options.direction?"offsetHeight":"offsetWidth",r="vertical"==this.options.direction?"scrollTop":"scrollLeft",s=(t.oc.foundation.event.pageCoordinates(e)[o]-t.oc.foundation.element.absolutePosition(this.scrollbarElement)[i]-this.dragOffset)/this.scrollbarElement[n];s>1&&(s=1);var a=s*this.contentElement[n];this.scrollContentElement[r]=a},i.prototype.onEndDrag=function(t){document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},i.DEFAULTS={direction:"vertical"};var n=t.fn.scrollpad;t.fn.scrollpad=function(e){var o=Array.prototype.slice.call(arguments,1),n=void 0;return this.each((function(){var r=t(this),s=r.data("oc.scrollpad"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);if(s||r.data("oc.scrollpad",s=new i(this,a)),"string"==typeof e&&(n=s[e].apply(s,o)),void 0!==n)return!1})),n||this},t.fn.scrollpad.Constructor=i,t.fn.scrollpad.noConflict=function(){return t.fn.scrollpad=n,this},t(document).on("render",(function(){t("div[data-control=scrollpad]").scrollpad()}))}(window.jQuery),function(t){"use strict";void 0===t.oc&&(t.oc={});var e=function(e,o){this.options=o,this.$el=t(e),this.$list=t("ul",this.$el),this.$items=t("li",this.$list),this.init(),this.initResponsive()};function o(t,e){t.toggleClass("empty",0==e),t.text(e)}function i(e,i,n){o(t('span.counter[data-menu-id="'+e+'"]',i),n),o(t('span.counter[data-menu-id="'+e+'"]',"#layout-sidenav-responsive"),n),o(t('span.counter[data-menu-id="'+e+'"]',"#layout-mainmenu"),n)}e.DEFAULTS={activeClass:"active"},e.prototype.init=function(){var t=this;this.$list.dragScroll({vertical:!0,useNative:!1,useDrag:!0,start:function(){t.$list.addClass("drag")},stop:function(){t.$list.removeClass("drag")},scrollClassContainer:t.$el,scrollMarkerContainer:t.$el}),this.$list.on("click",(function(){if(t.$list.hasClass("drag"))return!1}))},e.prototype.initResponsive=function(){var e=t("#layout-sidenav-responsive"),o=t("ul li",e),i=this;o.click((function(){var e=t(this).data("menu-item");e&&(t(this).data("no-side-panel")||(o.removeClass(i.options.activeClass).filter("[data-menu-item="+e+"]").addClass(i.options.activeClass),t("[data-menu-item="+e+"]:first",i.$list).trigger("click")))}))},e.prototype.unsetActiveItem=function(t){this.$items.removeClass(this.options.activeClass)},e.prototype.setActiveItem=function(t){t&&this.$items.removeClass(this.options.activeClass).filter("[data-menu-item="+t+"]").addClass(this.options.activeClass)},e.prototype.setCounter=function(t,e){return i(t,this.$el,e),this},e.prototype.increaseCounter=function(e,o){var n=t('span.counter[data-menu-id="'+e+'"]',this.$el),r=parseInt(n.text());isNaN(r)&&(r=0);var s=o+r;return i(e,this.$el,s),this},e.prototype.dropCounter=function(t){return this.setCounter(t,0),this};var n=t.fn.sideNav;t.fn.sideNav=function(o){var i,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=t(this),s=r.data("oc.sideNav"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof o&&o);if(s||r.data("oc.sideNav",s=new e(this,a)),"string"==typeof o&&(i=s[o].apply(s,n)),void 0!==i)return!1;void 0===t.oc.sideNav&&(t.oc.sideNav=s)})),i||this},t.fn.sideNav.Constructor=e,t.fn.sideNav.noConflict=function(){return t.fn.sideNav=n,this},t(document).ready((function(){t('[data-control="sidenav"]').sideNav()}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){var n=this.$el=t(o),r=n.get(0),s=this,a=(i=this.options=i||{},this.sizeName=i.vertical?"height":"width",t("html").hasClass("mobile")),l=this.isTouch=Modernizr.touchevents,p=(this.isScrollable=!1,this.isLocked=!1,i.vertical?"pageY":"pageX"),c=0,u=0;if(t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.$el.one("dispose-control",this.proxy(this.dispose)),!a){this.$scrollbar=t("<div />").addClass("scrollbar-scrollbar"),this.$track=t("<div />").addClass("scrollbar-track").appendTo(this.$scrollbar),this.$thumb=t("<div />").addClass("scrollbar-thumb").appendTo(this.$track),n.addClass("drag-scrollbar").addClass(i.vertical?"vertical":"horizontal").prepend(this.$scrollbar),l?this.$el.on("touchstart",(function(t){var e=t.originalEvent;1==e.touches.length&&(h(e.touches[0]),t.stopPropagation())})):(this.$thumb.on("mousedown",(function(t){h(t)})),this.$track.on("mouseup",(function(t){f(t)}))),n.mousewheel((function(t){return!function(t){u=s.options.vertical?r.scrollTop:r.scrollLeft,n.trigger("oc.scrollStart"),s.options.vertical?n.scrollTop(u+t):n.scrollLeft(u+t);var e=s.options.vertical?r.scrollTop!=u:r.scrollLeft!=u;s.setThumbPosition(),d?n.trigger("oc.scrollEnd"):(void 0!==s.endScrollTimeout&&(clearTimeout(s.endScrollTimeout),s.endScrollTimeout=void 0),s.endScrollTimeout=setTimeout((function(){n.trigger("oc.scrollEnd"),s.endScrollTimeout=void 0}),50));return e}((s.options.vertical?t.deltaFactor*t.deltaY*-1:t.deltaFactor*t.deltaX)*s.options.scrollSpeed)})),n.on("oc.scrollbar.gotoStart",(function(t){s.options.vertical?n.scrollTop(0):n.scrollLeft(0),s.update(),t.stopPropagation()})),t(window).on("resize",t.proxy(this.update,this)),t(window).on("oc.updateUi",t.proxy(this.update,this));var d=t(document.documentElement).hasClass("webkit");setTimeout((function(){s.update()}),1)}function h(e){t("body").addClass("drag-noselect"),n.trigger("oc.scrollStart"),c=e[p],u=s.options.vertical?n.scrollTop():n.scrollLeft(),l?(t(window).on("touchmove.scrollbar",(function(t){f(t.originalEvent.touches[0])&&t.preventDefault()})),n.on("touchend.scrollbar",g)):(t(window).on("mousemove.scrollbar",(function(t){return f(t),!1})),t(window).on("mouseup.scrollbar",(function(){return g(),!1})))}function f(t){s.isLocked=!0;var e,o=t[p];if(s.isTouch)e=c-o;else{var i=s.getCanvasSize()/s.getViewportSize();e=(o-c)*i}return s.options.vertical?n.scrollTop(u+e):n.scrollLeft(u+e),s.setThumbPosition(),s.options.vertical?r.scrollTop!=u:r.scrollLeft!=u}function g(){t("body").removeClass("drag-noselect"),n.trigger("oc.scrollEnd"),t(window).off(".scrollbar")}};(i.prototype=Object.create(o)).constructor=i,i.prototype.dispose=function(){this.unregisterHandlers(),o.dispose.call(this)},i.prototype.unregisterHandlers=function(){},i.DEFAULTS={vertical:!0,scrollSpeed:2,animation:!0,start:function(){},drag:function(){},stop:function(){}},i.prototype.update=function(){this.$scrollbar&&(this.$scrollbar.hide(),this.setThumbSize(),this.setThumbPosition(),this.$scrollbar.show())},i.prototype.setThumbSize=function(){var t=this.calculateProperties();this.isScrollable=!(t.thumbSizeRatio>=1),this.$scrollbar.toggleClass("disabled",!this.isScrollable),this.options.vertical?(this.$track.height(t.canvasSize),this.$thumb.height(t.thumbSize)):(this.$track.width(t.canvasSize),this.$thumb.width(t.thumbSize))},i.prototype.setThumbPosition=function(){var t=this.calculateProperties();this.options.vertical?this.$thumb.css({top:t.thumbPosition}):this.$thumb.css({left:t.thumbPosition})},i.prototype.calculateProperties=function(){var t=this.$el,e={};e.viewportSize=this.getViewportSize(),e.canvasSize=this.getCanvasSize(),e.scrollAmount=this.options.vertical?t.scrollTop():t.scrollLeft();return e.thumbSizeRatio=e.viewportSize/(e.canvasSize-1),e.thumbSize=e.viewportSize*e.thumbSizeRatio,e.thumbPositionRatio=e.scrollAmount/(e.canvasSize-e.viewportSize),e.thumbPosition=(e.viewportSize-e.thumbSize)*e.thumbPositionRatio+e.scrollAmount,isNaN(e.thumbPosition)&&(e.thumbPosition=0),e},i.prototype.getViewportSize=function(){return this.options.vertical?this.$el.height():this.$el.width()},i.prototype.getCanvasSize=function(){return this.options.vertical?this.$el.get(0).scrollHeight:this.$el.get(0).scrollWidth},i.prototype.gotoElement=function(e,o){var i=t(e);if(i.length){var n=0,r=!1,s={duration:300,queue:!1,complete:function(){void 0!==o&&o()}};return this.options.vertical?(n=i.get(0).offsetTop-this.$el.scrollTop(),this.options.animation?n<0?(this.$el.animate({scrollTop:i.get(0).offsetTop},s),r=!0):(n=i.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&(this.$el.animate({scrollTop:i.get(0).offsetTop+i.outerHeight()-this.$el.outerHeight()},s),r=!0):n<0?this.$el.scrollTop(i.get(0).offsetTop):(n=i.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&this.$el.scrollTop(i.get(0).offsetTop+i.outerHeight()-this.$el.outerHeight())):(n=i.get(0).offsetLeft-this.$el.scrollLeft())<0?(this.$el.animate({scrollLeft:i.get(0).offsetLeft},s),r=!0):(n=i.get(0).offsetLeft+i.outerWidth()-(this.$el.scrollLeft()+this.$el.outerWidth()))>0&&(this.$el.animate({scrollLeft:i.get(0).offsetLeft+i.outerWidth()-this.$el.outerWidth()},s),r=!0),r||void 0===o||o(),this}},i.prototype.dispose=function(){this.$el=null,this.$scrollbar=null,this.$track=null,this.$thumb=null};var n=t.fn.scrollbar;t.fn.scrollbar=function(e){return this.each((function(){var o=t(this),n=o.data("oc.scrollbar"),r=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);n||o.data("oc.scrollbar",n=new i(this,r)),"string"==typeof e&&n[e].call(o)}))},t.fn.scrollbar.Constructor=i,t.fn.scrollbar.noConflict=function(){return t.fn.scrollbar=n,this},t(document).render((function(){t("[data-control=scrollbar]").scrollbar()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$el=t(e),this.init()};e.DEFAULTS={ignoreItemClick:!1},e.prototype.init=function(){var e=this;this.$el.on("click","li.group > h4 > a, li.group > div.group",(function(){return e.toggleGroup(t(this).closest("li")),!1})),this.options.ignoreItemClick||this.$el.on("click","li.item > a",(function(o){var i=t.Event("open.oc.list",{relatedTarget:t(this).parent().get(0),clickEvent:o});return e.$el.trigger(i,this),!1})),this.$el.on("ajaxUpdate",t.proxy(this.update,this))},e.prototype.toggleGroup=function(e){var o=t(e);"expanded"==o.attr("data-status")?this.collapseGroup(o):this.expandGroup(o)},e.prototype.collapseGroup=function(e){var o=t("> ul, > div.subitems",e);o.css("overflow","hidden"),o.animate({height:0},{duration:100,queue:!1,complete:function(){o.css({overflow:"visible",display:"none"}),t(e).attr("data-status","collapsed"),t(window).trigger("resize")}}),this.sendGroupStatusRequest(e,0)},e.prototype.expandGroup=function(e){var o=t("> ul, > div.subitems",e);o.css({overflow:"hidden",display:"block",height:0}),o.animate({height:o[0].scrollHeight},{duration:100,queue:!1,complete:function(){o.css({overflow:"visible",height:"auto"}),t(e).attr("data-status","expanded"),t(window).trigger("resize")}}),this.sendGroupStatusRequest(e,1)},e.prototype.sendGroupStatusRequest=function(e,o){if(void 0!==this.options.groupStatusHandler){var i=t(e).data("group-id");void 0===i&&(i=t("> h4 a",e).text()),t(e).request(this.options.groupStatusHandler,{data:{group:i,status:o}})}},e.prototype.markActive=function(e){t("li.item",this.$el).removeClass("active"),e&&t('li.item[data-id="'+e+'"]',this.$el).addClass("active"),this.dataId=e},e.prototype.update=function(){void 0!==this.dataId&&this.markActive(this.dataId)};var o=t.fn.fileList;t.fn.fileList=function(o){var i=arguments;return this.each((function(){var n=t(this),r=n.data("oc.fileList"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o);if(r||n.data("oc.fileList",r=new e(this,s)),"string"==typeof o){for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[o].apply(r,a)}}))},t.fn.fileList.Constructor=e,t.fn.fileList.noConflict=function(){return t.fn.fileList=o,this},t(document).ready((function(){t("[data-control=filelist]").fileList()}))}(window.jQuery),function(t){var e=function(){};e.prototype.setPageTitle=function(e){var o=t("title");void 0===this.pageTitleTemplate&&(this.pageTitleTemplate=o.data("titleTemplate")),o.text(this.pageTitleTemplate.replace("%s",e))},e.prototype.updateLayout=function(e){var o,i,n,r;t("[data-calculate-width]").each((function(){(o=t(this).children()).length>0&&(n=0,o.each((function(){i=t(this),void 0===(r=i.data("oc.layoutMargin"))&&(r=parseInt(i.css("marginRight"))+parseInt(i.css("marginLeft")),i.data("oc.layoutMargin",r)),n+=i.get(0).offsetWidth+r})),t(this).width(n),t(this).trigger("oc.widthFixed"))}))},void 0===t.oc&&(t.oc={}),t.oc.layout=new e,t(document).ready((function(){t.oc.layout.updateLayout(),window.setTimeout(t.oc.layout.updateLayout,100)})),t(window).on("resize",(function(){t.oc.layout.updateLayout()})),t(window).on("oc.updateUi",(function(){t.oc.layout.updateLayout()}))}(jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$el=t(e),this.init()};e.prototype.init=function(){var e=this;this.tabOpenDelay=200,this.tabOpenTimeout=void 0,this.panelOpenTimeout=void 0,this.$sideNav=t("#layout-sidenav"),this.$sideNavRes=t("#layout-sidenav-responsive"),this.$sideNavItems=t("ul li",this.$sideNav),this.$sidePanelItems=t("[data-content-id]",this.$el),this.sideNavWidth=t("#layout-sidenav").outerWidth(),this.mainNavHeight=t.oc.backendCalculateTopContainerOffset(),this.panelVisible=!1,this.visibleItemId=!1,this.$sideNavItems.click((function(){if(!t(this).data("no-side-panel")){if(t(window).width()<e.options.breakpoint){if(t(this).data("menu-item")==e.visibleItemId&&e.panelVisible)return void e.hideSidePanel();e.displaySidePanel()}return e.displayTab(this),!1}})),t("#layout-body").click((function(){if(e.panelVisible)return e.hideSidePanel(),!1})),e.$el.on("close.oc.sidePanel",(function(){e.hideSidePanel()})),this.updateActiveTab()},e.prototype.displayTab=function(e){var o=t(e).data("menu-item");this.visibleItemId=o,t.oc.sideNav.setActiveItem(o),this.$sidePanelItems.each((function(){var e=t(this);e.toggleClass("oc-hide",e.data("content-id")!=o)})),t(window).trigger("resize")},e.prototype.displaySidePanel=function(){t(document.body).addClass("display-side-panel"),this.$sideNavRes.is(":visible")&&(this.mainNavHeight=t.oc.backendCalculateTopContainerOffset()+this.$sideNavRes.outerHeight()),t("#layout-sidenav").is(":visible")?this.sideNavWidth=t("#layout-sidenav").outerWidth():this.sideNavWidth=0,this.$el.appendTo("#layout-canvas"),this.panelVisible=!0,this.$el.css({left:this.sideNavWidth,top:this.mainNavHeight}),this.updatePanelPosition(),t(window).trigger("resize")},e.prototype.hideSidePanel=function(){t(document.body).removeClass("display-side-panel"),0==this.$el.next("#layout-body").length&&t("#layout-body").before(this.$el),this.panelVisible=!1,this.updateActiveTab()},e.prototype.updatePanelPosition=function(){this.$el.height(t(document).height()-this.mainNavHeight),this.panelVisible&&t(window).width()>this.options.breakpoint&&this.hideSidePanel()},e.prototype.updateActiveTab=function(){!this.panelVisible&&t(window).width()<this.options.breakpoint?t.oc.sideNav.unsetActiveItem():t.oc.sideNav.setActiveItem(this.visibleItemId)},e.DEFAULTS={breakpoint:769};var o=t.fn.sidePanelTab;t.fn.sidePanelTab=function(o){return this.each((function(){var i=t(this),n=i.data("oc.sidePanelTab"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.sidePanelTab",n=new e(this,r)),"string"==typeof o&&n[o].call(n)}))},t.fn.sidePanelTab.Constructor=e,t.fn.sidePanelTab.noConflict=function(){return t.fn.sidePanelTab=o,this},t(document).ready((function(){t("[data-control=layout-sidepanel]").sidePanelTab()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){var i=this.$el=t(e);if(this.options=o||{},i.hasClass("is-sortable")){var n={distance:10};this.options.sortableHandle&&(n.handle=this.options.sortableHandle),i.find(".drag-handle").length>0&&(n.handle=".drag-handle"),i.find("> ul, > ol").each((function(){Sortable.create(this,n)}))}i.hasClass("is-scrollable")&&(i.wrapInner(t("<div />").addClass("control-scrollbar")),i.find(">.control-scrollbar:first").scrollbar())};e.DEFAULTS={sortableHandle:null};var o=t.fn.simplelist;t.fn.simplelist=function(o){return this.each((function(){var i=t(this),n=i.data("oc.simplelist"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o);n||i.data("oc.simplelist",n=new e(this,r))}))},t.fn.simplelist.Constructor=e,t.fn.simplelist.noConflict=function(){return t.fn.simplelist=o,this},t(document).render((function(){t('[data-control="simplelist"]').simplelist()}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.options=i||{},e.call(this),t.oc.foundation.controlUtils.markDisposable(o),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.init=function(){var e={handle:this.options.handle,nested:this.options.nested,onDrop:this.proxy(this.onDrop),afterMove:this.proxy(this.onAfterMove)};this.$el.find("> ol").sortable(t.extend(e,this.options)),this.options.nested||this.$el.find("> ol ol").sortable(t.extend(e,this.options)),this.$el.one("dispose-control",this.proxy(this.dispose))},i.prototype.dispose=function(){this.unbind(),o.dispose.call(this)},i.prototype.unbind=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.find("> ol").sortable("destroy"),this.options.nested||this.$el.find("> ol ol").sortable("destroy"),this.$el.removeData("oc.treelist"),this.$el=null,this.options=null},i.DEFAULTS={handle:null,nested:!0},i.prototype.onDrop=function(t,e,o){this.$el&&(this.$el.trigger("move.oc.treelist",{item:t,container:e}),o(t,e))},i.prototype.onAfterMove=function(t,e,o){this.$el&&this.$el.trigger("aftermove.oc.treelist",{placeholder:t,container:e,closestEl:o})};var n=t.fn.treeListWidget;t.fn.treeListWidget=function(e){var o;return this.each((function(){var n=t(this),r=n.data("oc.treelist"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);if(r||n.data("oc.treelist",r=new i(this,s)),"string"==typeof e&&(o=r[e].call(r)),void 0!==o)return!1})),o||this},t.fn.treeListWidget.Constructor=i,t.fn.treeListWidget.noConflict=function(){return t.fn.treeListWidget=n,this},t(document).render((function(){t('[data-control="treelist"]').treeListWidget()}))}(window.jQuery),function(t){"use strict";var e=function(e,o){this.options=o,this.$el=t(e),this.init()};e.DEFAULTS={treeName:"sidenav_tree",rememberSearch:!1},e.prototype.init=function(){var e=this;if(t(document.body).addClass("has-sidenav-tree"),this.statusCookieName=this.options.treeName+"groupStatus",this.searchCookieName=this.options.treeName+"search",this.$searchInput=t(this.options.searchInput),this.$el.on("click","li > div.group",(function(){return e.toggleGroup(t(this).closest("li")),!1})),this.$searchInput.on("input",(function(){e.handleSearchChange()})),this.options.rememberSearch){var o=Cookies.get(this.searchCookieName);void 0!==o&&o.length>0&&(this.$searchInput.val(o),this.applySearch())}var i=t("[data-control=scrollbar]",this.$el).data("oc.scrollbar"),n=t("li.active",this.$el);n.length>0&&i.gotoElement(n)},e.prototype.toggleGroup=function(e){var o=t(e),i=o.attr("data-status");void 0===i||"expanded"==i?this.collapseGroup(o):this.expandGroup(o)},e.prototype.collapseGroup=function(e){var o=t("> ul",e),i=this;o.css("overflow","hidden"),o.animate({height:0},{duration:100,queue:!1,complete:function(){o.css({overflow:"visible",display:"none"}),t(e).attr("data-status","collapsed"),t(window).trigger("oc.updateUi"),i.saveGroupStatus(t(e).data("group-code"),!0)}})},e.prototype.expandGroup=function(e,o){var i=t("> ul",e),n=this;o=void 0===o?100:o,i.css({overflow:"hidden",height:0}),i.animate({height:i[0].scrollHeight},{duration:o,queue:!1,complete:function(){i.css({overflow:"visible",height:"auto",display:""}),t(e).attr("data-status","expanded"),t(window).trigger("oc.updateUi"),n.saveGroupStatus(t(e).data("group-code"),!1)}})},e.prototype.saveGroupStatus=function(e,o){var i=Cookies.get(this.statusCookieName),n=[];void 0===i&&(i=""),i=i.split("|"),t.each(i,(function(){e!=this&&n.push(this)})),o&&n.push(e),Cookies.set(this.statusCookieName,n.join("|"),{expires:30,path:"/"})},e.prototype.handleSearchChange=function(){var e=this.$searchInput.data("oc.lastvalue");if(void 0===e||e!=this.$searchInput.val()){this.$searchInput.data("oc.lastvalue",this.$searchInput.val()),void 0!==this.dataTrackInputTimer&&window.clearTimeout(this.dataTrackInputTimer);var o=this;this.dataTrackInputTimer=window.setTimeout((function(){o.applySearch()}),300),Cookies.set(this.searchCookieName,t.trim(this.$searchInput.val()),{expires:30,path:"/"})}},e.prototype.applySearch=function(){var e=t.trim(this.$searchInput.val()),o=e.toLowerCase().split(" "),i=[],n=[],r=this;return 0==e.length?(t("li",this.$el).removeClass("hidden"),void this.$el.removeClass("is-searching")):(this.$el.addClass("is-searching"),t("ul.top-level > li",this.$el).each((function(){var e=t(this);r.textContainsWords(t("div.group h3",e).text(),o)?(i.push(e.get(0)),t("ul li",e).each((function(){n.push(this)}))):t("ul li",e).each((function(){(r.textContainsWords(t(this).text(),o)||r.textContainsWords(t(this).data("keywords"),o))&&(i.push(e.get(0)),n.push(this))}))})),t("ul.top-level > li",this.$el).each((function(){var e=t(this),o=-1!==t.inArray(this,i);e.toggleClass("hidden",!o),o&&r.expandGroup(e,0),t("ul li",e).each((function(){t(this).toggleClass("hidden",-1==t.inArray(this,n))}))})),t(window).trigger("resize"),!1)},e.prototype.textContainsWords=function(t,e){t=t.toLowerCase();for(var o=0;o<e.length;o++)if(-1===t.indexOf(e[o]))return!1;return!0};var o=t.fn.sidenavTree;t.fn.sidenavTree=function(o){var i=arguments;return this.each((function(){var n=t(this),r=n.data("oc.sidenavTree"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof o&&o);if(r||n.data("oc.sidenavTree",r=new e(this,s)),"string"==typeof o){for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[o].apply(r,a)}}))},t.fn.sidenavTree.Constructor=e,t.fn.sidenavTree.noConflict=function(){return t.fn.sidenavTree=o,this},t(document).render((function(){t("[data-control=sidenav-tree]").sidenavTree()}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.options=i||{},t.oc.foundation.controlUtils.markDisposable(o),e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.init=function(){this.initDefaults(),this.datetime=this.$el.attr("datetime"),this.$el.text(this.getDateTimeValue()),this.$el.attr("title",this.datetime),this.$el.one("dispose-control",this.proxy(this.dispose))},i.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.dateTimeConverter"),this.$el=null,this.options=null,this.datetime=null,o.dispose.call(this)},i.prototype.initDefaults=function(){this.options.timezone||(this.options.timezone=t('meta[name="backend-timezone"]').attr("content")),this.options.locale||(this.options.locale=t('meta[name="backend-locale"]').attr("content")),this.options.format||(this.options.format="llll"),this.options.formatAlias&&(this.options.format=this.getFormatFromAlias(this.options.formatAlias)),this.appTimezone=t('meta[name="app-timezone"]').attr("content"),this.appTimezone||(this.appTimezone="UTC")},i.prototype.getDateTimeValue=function(){this.$el.get(0).hasAttribute("data-ignore-timezone")&&(this.appTimezone="UTC",this.options.timezone="UTC");var t=moment.tz(this.datetime,this.appTimezone);return this.options.locale&&(t=t.locale(this.options.locale)),this.options.timezone&&(t=t.tz(this.options.timezone)),this.options.timeSince?t.fromNow():this.options.timeTense?t.calendar():t.format(this.options.format)},i.prototype.getFormatFromAlias=function(t){var e={time:"LT",timeLong:"LTS",date:"L",dateMin:"l",dateLong:"LL",dateLongMin:"ll",dateTime:"LLL",dateTimeMin:"lll",dateTimeLong:"LLLL",dateTimeLongMin:"llll"};return e[t]?e[t]:"llll"},i.DEFAULTS={format:null,formatAlias:null,timezone:null,locale:null,timeTense:!1,timeSince:!1};var n=t.fn.dateTimeConverter;t.fn.dateTimeConverter=function(e){var o,n,r=Array.prototype.slice.call(arguments,1);return o=this.each((function(){var o=t(this),s=o.data("oc.dateTimeConverter"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);if(s||o.data("oc.dateTimeConverter",s=new i(this,a)),"string"==typeof e&&(n=s[e].apply(s,r)),void 0!==n)return!1})),n||o},t.fn.dateTimeConverter.Constructor=i,t.fn.dateTimeConverter.noConflict=function(){return t.fn.dateTimeConverter=n,this},t(document).render((function(){t("time[data-datetime-control]").dateTimeConverter()}))}(window.jQuery),function(t){"use strict";t.oc.responsiveMenu=function(e){var o=t("#layout-mainmenu .navbar ul.mainmenu-items"),i=o.closest(".layout-row"),n=t("#layout-mainmenu-responsive-container"),r=n.find(".mainmenu-pane"),s=n.find(".submenu-pane"),a=r.find("ul.mainmenu-items"),l=s.find("ul.mainmenu-items"),p=s.find(".menu-header"),c=p.find(".mainmenu-item");function u(e){e.addEventListener("scroll",(function(e){!function(e){t(e.parentElement).toggleClass("scrolled",e.scrollTop>0)}(e.target)}),{capture:!0,passive:!0})}function d(t){t.dragScroll({vertical:!0,useNative:!1,useDrag:!0})}function h(e){var o=t(e.currentTarget),n=o.closest(".mainmenu-item");if(n.hasClass("has-subitems")){var r=n.data("submenuIndex"),s=i.find(".mainmenu-submenu-dropdown[data-submenu-index="+r+"]");l.html(s.html()),c.html(o.html()),p.attr("data-submenu-index",r),t(document.body).addClass("responsive-submenu-displayed"),e.preventDefault()}}function f(e){t(document.body).removeClass("responsive-submenu-displayed"),e.preventDefault()}function g(){e()}this.show=function(){a.dragScroll("goToStart"),l.dragScroll("goToStart"),t(document.body).addClass("responsive-menu-displayed")},this.hide=function(){t(document.body).removeClass("responsive-menu-displayed"),window.setTimeout((function(){t(document.body).removeClass("responsive-submenu-displayed")}),250)},o.length&&(a.html(o.html()),d(a),d(l),t(document.body).on("click",".mainmenu-items",(function(){if(t(document.body).hasClass("drag"))return!1})),u(a.get(0)),u(l.get(0)),r.on("click",".mainmenu-item",h),s.on("click","a.go-back-link",f),r.on("click","a.close-link",g))}}(window.jQuery),function(t){"use strict";function e(){var o=t("#layout-mainmenu .navbar:first"),i=t(".layout-mainmenu .navbar ul.mainmenu-items"),n=t("#layout-mainmenu-left"),r=n.find("[data-control=toolbar]"),s=n.find(".mainmenu-extras"),a=t(".layout-mainmenu [data-control=toolbar]"),l=t("#layout-mainmenu").closest(".layout-row"),p=t.oc.backendCalculateTopContainerOffset(),c=new t.oc.responsiveMenu(T),u=null,d=null,h=null,f=null,g=!1,y=null,v=null;function m(t){27==t.keyCode&&T(null,!0)}function b(t){g=!0}function C(e){if(g&&!t(document.body).hasClass("reveal-left-side-menu"))return w(),e.stopPropagation(),e.preventDefault(),!1}function w(){h&&(window.clearTimeout(h),h=null),t(document.body).hasClass("reveal-left-side-menu")||(u&&window.clearTimeout(u),u=window.setTimeout(E,100))}function x(){t(document.body).hasClass("left-menu-submenu-displayed")||(u&&(window.clearTimeout(u),u=null),h&&window.clearTimeout(h),h=window.setTimeout(k,300))}function E(){t(document.body).addClass("reveal-left-side-menu"),n.data("original-width")||n.data("original-width",n.width()),S(),D().addClass("oc-show"),n.width(function(){if(null!==d)return d;var e=n.closest(".left-side-menu-container");e.addClass("width-check");var o=0;return t(".nav-label",s).each((function(){var e=t(this).offset().left+t(this).outerWidth(!0)+20;o=Math.max(o,e)})),d=Math.max(r.outerWidth(),o),e.removeClass("width-check"),d}())}function k(){h&&(window.clearTimeout(h),h=null),n.width(n.data("original-width")),D().removeClass("oc-show"),t(document.body).removeClass("reveal-left-side-menu")}function S(){t(document).on("keydown.mainmenusubmenu",m)}function T(e,o){var n=t(document.body).hasClass("left-menu-submenu-displayed");$().removeClass("oc-show"),t("li.active-dropdown",i).removeClass("active-dropdown"),t(".mainmenu-submenu-dropdown.oc-show",l).removeClass("oc-show"),t(document.body).removeClass("left-menu-submenu-displayed"),t(document).off(".mainmenusubmenu"),n&&!o||(k(),c.hide())}function $(){return f||((f=t('<div class="mainmenu-submenu-overlay"></div>').appendTo(document.body)).on("click",(function(t){T(0,t.pageX>n.outerWidth())})),f)}function D(){return v||((v=t('<div class="mainmenu-leftmenu-overlay"></div>').appendTo(document.body)).on("click",T),v)}function P(){var e=o.hasClass("navbar-mode-icons");e!==y&&(y=e,t("li",i).each((function(){var o=t(this);e?o.attr("data-tooltip-text",t(".nav-label",o).text().trim()):o.removeAttr("data-tooltip-text")})))}function I(e){var o=t(e.currentTarget).closest("li");return e.preventDefault(),t(document.body).hasClass("drag")||function(e){var o=e.data("submenuIndex"),i=t(".mainmenu-submenu-dropdown[data-submenu-index="+o+"]",l),r=e.closest("#layout-mainmenu-left").length>0;if(e.addClass("active-dropdown"),$().addClass("oc-show"),r){t(document.body).addClass("left-menu-submenu-displayed");var s=e.offset().top;i.css({top:s,left:n.outerWidth()})}else{var a=e.offset().left;i.css({top:p,left:a})}if(i.addClass("oc-invisible"),i.addClass("oc-show"),r){var c=i.position(),u=i.height()+c.top,d=window.scrollY+t(document.body).height();u>d-20&&i.css({top:c.top-(u-d)-20})}else{var h=a+i.width(),f=t(window).width();h>f-20&&i.css({left:a-(h-f)-20})}i.removeClass("oc-invisible"),S()}(o),!1}function A(t){return t.preventDefault(),S(),$().addClass("oc-show"),c.show(),!1}n.find("li a").on("touchstart",b).on("click",C),i.on("mouseenter","li",P),i.on("click","li.has-subitems",I),i.on("click",".mainmenu-toggle",A),n.on("mouseenter",w),n.on("mouseleave",x),addEventListener("page:unload",T),addEventListener("backend:hidemenus",T),a.each((function(){var e=t(this).data("oc.dragScroll");e&&e.goToElement(t(this).find("ul.mainmenu-items > li.active"),void 0,{duration:0,alignBottom:!0})})),t.oc.mainMenu=this,this.reload=function(o,i,n){o&&t("#layout-mainmenu").html(o),i&&t("#layout-mainmenu-left").html(i),n&&t("#layout-sidenav-responsive").html(n),t.oc.mainMenu=new e}}t(document).render((function(){var o=t(".layout-mainmenu:first"),i=o.data("oc.mainMenu");i||o.data("oc.mainMenu",i=new e)}));var o={};addEventListener("page:before-render",(function(){document.querySelectorAll("#layout-mainmenu [data-control=toolbar]").forEach((function(t){t.scrollLeft&&(o[t.id]=t.scrollLeft)})),document.querySelectorAll("#layout-mainmenu-left [data-control=toolbar]").forEach((function(t){t.scrollTop&&(o[t.id]=t.scrollTop)}))})),addEventListener("page:render",(function(){document.querySelectorAll("#layout-mainmenu [data-control=toolbar]").forEach((function(t){t.scrollLeft=o[t.id]})),document.querySelectorAll("#layout-mainmenu-left [data-control=toolbar]").forEach((function(t){t.scrollTop=o[t.id]}))}))}(window.jQuery),function(t){"use strict";t.oc.modalFocusManager=new function(){var e=[];function o(e){t(document).on("focusin.octoberfocusmanager",e),e(null)}function i(){t(document).off(".octoberfocusmanager")}this.push=function(t,n,r,s){i(),o(t),e.push({focusInCallback:t,type:n,uid:r,isHotkeyBlocking:s})},this.hasHotkeyBlockingAbove=function(t){for(var o=function(t){for(var o=0;o<e.length;o++)if(e[o].uid==t)return o;return null}(t),i=null!==o?o:0;i<e.length;i++)if(e[i].isHotkeyBlocking)return!0;return!1},this.getTop=function(){return e.length>0?e[e.length-1]:null},this.isUidTop=function(t){var e=this.getTop();return null!==e&&void 0!==e.uid&&e.uid===t},this.getNumberOfType=function(t){for(var o=0,i=0;i<e.length;i++)e[i].type==t&&o++;return o},this.pop=function(){(e.pop(),i(),e.length>0)&&o(e[e.length-1].focusInCallback)}}}(window.jQuery),function(t){"use strict";window.jQuery.oc.domIdManager=new function(){var t=1;this.generate=function(e){var o="id-"+t++;return"string"==typeof e&&(o=e+"-"+o),o}}}(),function(t){"use strict";t.oc.vueUtils=new function(){function e(t,e,o){for(var i=0;i<t.length;i++)if(t[i][o]===e)return t[i];return null}this.getObjectProperty=function(t,e){for(var o=e.split("."),i=t,n=0;n<o.length;n++){var r=o[n];if(void 0===i[r])return;i=i[r]}return i},this.getCleanObject=function(t){return JSON.parse(JSON.stringify(t))},this.findObjectByKeyPath=function(t,o,i,n){for(var r=o.slice(),s=r.shift(),a=null;void 0!==s;){if(!t)return null;if(null===(a=e(t,s,n)))return a;void 0===(t=this.getObjectProperty(a,i))&&(t=[]),s=r.shift()}return a},this.findObjectsByProperty=function(t,e,o,i,n){var r=[];return function t(n){for(var s=0;s<n.length;s++){var a=n[s];a[o]===i&&r.push(a),t(a[e]||[])}}(t),r},this.getObjectPathByProperty=function(t,e,o,i){return function t(n,r){for(var s=0;s<n.length;s++){var a=n[s],l=a[o];if(l===i)return r.concat(l);var p=t(a[e]||[],r.concat(l));if(p)return p}}(t,[])},this.findObjectParentInfoByProperty=function(t,e,o,i){return function t(n){for(var r=0;r<n.length;r++){var s=n[r];if(s[o]===i)return{parentArray:n,index:r,object:s};var a=t(s[e]||[]);if(a)return a}}(t)},this.getFlattenNodes=function(t,e){var o=[];return function t(i){for(var n=0;n<i.length;n++){var r=i[n];t(r[e]||[]),o.push(r)}}(t),o},this.stringHashCode=function(t){var e,o=0;for(e=0;e<t.length;e++)o=(o<<5)-o+t.charCodeAt(e),o|=0;return o},this.syncObjectProperties=function(t,e){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);for(var i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)||delete e[i])},this.stringFuzzySearch=function(t,e){for(var o=t.split(" "),i=0,n=0;n<o.length;n++)-1!==e.indexOf(o[n])&&i++;return i==o.length},this.getRelativeOffset=function(e,o){var i=t(e).offset(),n=t(o).offset();return{left:i.left-n.left,top:i.top-n.top}},this.getToolbarExtensionPoint=function(t,e){let o=t.split("::");2!==o.length&&(o=["eventBus",o[0]]);const i=oc.VueApp.getFromElement(e);if(i)return{bus:i.getState(o[0]),state:i.getState(o[1])}}}}(window.jQuery),function(t){"use strict";var e=new function(){var e=null,o=null;function i(){null!==o&&clearTimeout(o),o=null}function n(){e&&(e.addClass("tooltip-invisible"),setTimeout((function(){e.addClass("tooltip-hidden")}),150))}function r(r){r.target&&r.target.getAttribute&&r.target.dataset&&r.target.getAttribute("data-tooltip-text")&&(i(),n(),o=setTimeout((function(){!function(o){e||(e=t('<div class="october-tooltip tooltip-hidden tooltip-invisible"><span class="tooltip-text"></span><span class="tooltip-hotkey"></span></div>'),t(document.body).append(e)),e.find(".tooltip-text").text(o.getAttribute("data-tooltip-text"));var i=o.getAttribute("data-tooltip-hotkey"),n=e.find(".tooltip-hotkey").html("");i&&i.split(",").forEach((function(e){n.append(t("<i>").text(e.trim()))})),e.removeClass("tooltip-hidden"),e.css("left",0);var r=t(o),s=r.offset(),a=r.outerWidth(),l=r.height(),p=e.outerWidth(),c=t(document.body).width(),u=Math.round(s.left+a/2-p/2);u<0&&(u=15);var d=u+p-c;d>0&&(u-=d+15),e.css({left:u,top:s.top+l+5}),e.removeClass("tooltip-invisible")}(r.target)}),300))}function s(t){t.target&&t.target.getAttribute&&t.target.dataset&&t.target.getAttribute("data-tooltip-text")&&(i(),n())}function a(t){n()}function l(t){n()}document.addEventListener("mouseenter",r,!0),document.addEventListener("mouseleave",s,!0),document.addEventListener("mousedown",a),document.addEventListener("click",a),document.addEventListener("keydown",l),this.clear=function(){i(),n()}};t.oc.octoberTooltips={clear:function(){e.clear()}}}(window.jQuery),function(t){"use strict";window.oc||(window.oc={}),window.oc.Modules=new function(){this.moduleMap=new Map,this.register=function(t,e){this.moduleMap.has(t)?console.info("Module namespace is already registered: "+t):this.moduleMap.set(t,e())},this.import=function(t){if(!this.exists(t))throw new Error("Module namespace is not registered: "+t);return this.moduleMap.get(t)},this.exists=function(t){return this.moduleMap.has(t)}},window.oc.Module=t.oc.module=window.oc.Modules}($),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,i){this.$el=t(o),this.$overlay=null,this.options=i,this.$proxyContainer=t("#layout-sidenav-responsive"),e.call(this),this.init()};(i.prototype=Object.create(o)).constructor=i,i.prototype.dispose=function(){this.removeOverlay(),this.$el.removeData("oc.flyout"),this.$el=null,this.options.flyoutToggle&&this.removeToggle(),o.dispose.call(this)},i.prototype.toggle=function(){t(document.body).hasClass("flyout-visible")?this.hide():this.show()},i.prototype.show=function(){var e=this.$el.find("> .layout-cell"),o=this.$el.find("> .flyout");t("[data-control=layout-sidepanel]").sidePanelTab("hideSidePanel"),this.removeOverlay();for(var i=0;i<e.length;i++){var n=t(e[i]),r=n.width();n.css("width",r)}this.createOverlay(),window.setTimeout(this.proxy(this.setBodyClass),1),o.css("width",this.options.flyoutWidth),this.hideToggle()},i.prototype.hide=function(){for(var e=this.$el.find("> .layout-cell"),o=this.$el.find("> .flyout"),i=0;i<e.length;i++){t(e[i]).css("width","")}o.css("width",0),window.setTimeout(this.proxy(this.removeBodyClass),1),window.setTimeout(this.proxy(this.removeOverlayAndShowToggle),300)},i.prototype.init=function(){this.build()},i.prototype.build=function(){this.options.flyoutToggle&&this.buildToggle()},i.prototype.buildToggle=function(){var e=t(this.options.flyoutToggle),o=t('<div class="flyout-toggle"><i class="icon-chevron-right"></i></div>');o.on("click",this.proxy(this.show)),e.append(o);var i=t('<div class="flyout-toggle"><i class="icon-chevron-right"></i></div>');i.on("click",this.proxy(this.toggle)),this.$proxyContainer.append(i),this.$proxyContainer.addClass("has-toggle")},i.prototype.removeToggle=function(){var t=this.getToggle();t.off("click",this.proxy(this.show)),t.remove();var e=this.getProxyToggle();e.off("click",this.proxy(this.show)),e.remove()},i.prototype.hideToggle=function(){this.options.flyoutToggle&&this.getToggle().hide()},i.prototype.showToggle=function(){this.options.flyoutToggle&&(this.getToggle().show(),this.getProxyToggle().show())},i.prototype.getToggle=function(){return t(this.options.flyoutToggle).find(".flyout-toggle")},i.prototype.getProxyToggle=function(){return this.$proxyContainer.find(".flyout-toggle")},i.prototype.setBodyClass=function(){t(document.body).addClass("flyout-visible")},i.prototype.removeBodyClass=function(){t(document.body).removeClass("flyout-visible")},i.prototype.createOverlay=function(){this.$overlay=t('<div class="flyout-overlay"/>');var e=this.$el.offset();this.$overlay.css({top:e.top,left:this.options.flyoutWidth}),this.$overlay.on("click",this.proxy(this.onOverlayClick)),t(document.body).on("keydown",this.proxy(this.onDocumentKeydown)),t(document.body).append(this.$overlay)},i.prototype.removeOverlay=function(){this.$overlay&&(this.$overlay.off("click",this.proxy(this.onOverlayClick)),t(document.body).off("keydown",this.proxy(this.onDocumentKeydown)),this.$overlay.remove(),this.$overlay=null)},i.prototype.removeOverlayAndShowToggle=function(){this.removeOverlay(),this.showToggle()},i.prototype.onOverlayClick=function(){this.hide()},i.prototype.onDocumentKeydown=function(t){"Escape"===t.key&&this.hide()},i.DEFAULTS={flyoutWidth:400,flyoutToggle:null};var n=t.fn.flyout;t.fn.flyout=function(e){var o=Array.prototype.slice.call(arguments,1),n=void 0;return this.each((function(){var r=t(this),s=r.data("oc.flyout"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);if(s||r.data("oc.flyout",s=new i(this,a)),"string"==typeof e&&(n=s[e].apply(s,o)),void 0!==n)return!1})),n||this},t.fn.flyout.Constructor=i,t.fn.flyout.noConflict=function(){return t.fn.flyout=n,this},t(document).ready((function(){t("div[data-control=flyout]").flyout()}))}(window.jQuery),function(t){"use strict";var e=t.oc.foundation.base,o=e.prototype,i=function(o,n){this.$tabsControlElement=o,this.options=t.extend(i.DEFAULTS,"object"==typeof n&&n),this.tabsControlId=null,e.call(this),this.init()};i.prototype=Object.create(o),i.prototype.constructor=i,i.prototype.init=function(){if(this.tabsControlId=this.$tabsControlElement.attr("id"),!this.tabsControlId)throw new Error("The tab controls element should have the id attribute value.");this.registerHandlers()},i.prototype.dispose=function(){this.unregisterHandlers(),this.$tabsControlElement=null,o.dispose.call(this)},i.prototype.registerHandlers=function(){this.$tabsControlElement.on("initTab.oc.tab",this.proxy(this.initTab)),this.$tabsControlElement.on("click",'[data-control="tabless-collapse-icon"]',this.proxy(this.tablessCollapseClicked)),this.$tabsControlElement.on("click",'[data-control="primary-collapse-icon"]',this.proxy(this.primaryCollapseClicked))},i.prototype.unregisterHandlers=function(){this.$tabsControlElement.off("initTab.oc.tab",this.proxy(this.initTab)),this.$tabsControlElement.off("click",'[data-control="tabless-collapse-icon"]',this.proxy(this.tablessCollapseClicked)),this.$tabsControlElement.off("click",'[data-control="primary-collapse-icon"]',this.proxy(this.primaryCollapseClicked))},i.prototype.initTab=function(e,o){if(t(e.target).attr("id")==this.tabsControlId){var i=this.findPrimaryPanel(o.pane),n=t(".form-tabless-fields",o.pane),r=this.findSecondaryPanel(o.pane),s=r.length>0;r.addClass("secondary-content-tabs"),n.append(this.createTablessCollapseIcon()),s||t(".tab-pane",i).addClass("pane-compact"),t(".nav-tabs",i).addClass("master-area"),i.length>0?r.append(this.createPrimaryCollapseIcon()):r.addClass("primary-collapsed"),t("a",o.tab).hasClass("new-template")||1!=this.getLocalStorageValue("tabless",0)||n.addClass("collapsed"),1==this.getLocalStorageValue("primary",0)&&s&&(i.addClass("collapsed"),r.addClass("primary-collapsed")),this.options.onInitTab&&this.options.onInitTab(t("form",o.pane))}},i.prototype.tablessCollapseClicked=function(e){var o=t(e.target).closest(".form-tabless-fields");return o.toggleClass("collapsed"),this.setLocalStorageValue("tabless",o.hasClass("collapsed")?1:0),window.setTimeout(this.proxy(this.updateUi),500),e.stopPropagation(),!1},i.prototype.primaryCollapseClicked=function(e){var o=t(e.target).closest(".tab-pane"),i=this.findPrimaryPanel(o),n=this.findSecondaryPanel(o);return i.toggleClass("collapsed"),n.toggleClass("primary-collapsed"),this.updateUi(),this.setLocalStorageValue("primary",i.hasClass("collapsed")?1:0),!1},i.prototype.updateUi=function(){t(window).trigger("oc.updateUi")},i.prototype.createTablessCollapseIcon=function(){return t('<a href="javascript:;" class="tab-collapse-icon tabless" data-control="tabless-collapse-icon"><i class="icon-chevron-up"></i></a>')},i.prototype.createPrimaryCollapseIcon=function(){return t('<a href="javascript:;" class="tab-collapse-icon primary" data-control="primary-collapse-icon"><i class="icon-chevron-down"></i></a>')},i.prototype.generateStorageKey=function(t){return"oc"+t+this.tabsControlId.replace("-","")+"collapsed"},i.prototype.findPrimaryPanel=function(e){return t(e).find(".control-tabs.primary-tabs")},i.prototype.findSecondaryPanel=function(e){return t(e).find(".control-tabs.secondary-tabs")},i.prototype.getLocalStorageValue=function(t,e){var o=this.generateStorageKey(t);return"undefined"!=typeof localStorage?localStorage[o]:e},i.prototype.setLocalStorageValue=function(t,e){var o=this.generateStorageKey(t);"undefined"!=typeof localStorage&&(localStorage[o]=e)},i.DEFAULTS={onInitTab:null},t.oc.tabFormExpandControls=i}(window.jQuery),addEventListener("ajax:setup",(function(t){var e=$('meta[name="backend-site"]').attr("content");if(e){var o=t.detail.context.options;o.headers||(o.headers={}),o.headers["X-SITE-ID"]=e}})),void 0===$.oc&&($.oc={}),$.oc.backendUrl=function(t){var e=$('meta[name="backend-base-path"]').attr("content");return e?("/"==t.substr(0,1)&&(t=t.substr(1)),e+"/"+t):t},$.oc.backendCalculateTopContainerOffset=function(){var t=$("#layout-mainmenu > .main-menu-container").outerHeight();return $("#layout-banner-area").length&&(t+=$("#layout-banner-area").outerHeight()),t},$.oc.escapeHtmlString=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+t).replace(/[&<>"'\/]/g,(function(t){return e[t]}))},$.oc.isTouchEnabled=function(){return document.documentElement.classList&&document.documentElement.classList.contains("user-touch")},window.addEventListener("touchstart",(function(){document.documentElement.classList.add("user-touch"),Cookies.set("oc-user-touch",1,{expires:365,path:"/"})}),{once:!0}),$.oc.isTouchEnabled()&&!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(document.documentElement.classList.remove("user-touch"),Cookies.remove("oc-user-touch",{path:"/"})),$.oc.setColorModeTheme=function(t){"auto"===t&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",t)},function(){if(document.documentElement.classList.contains("color-mode-auto")){var t=document.documentElement.getAttribute("data-bs-theme"),e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";"auto"!==t&&e===Cookies.get("admin_color_mode_setting")||(Cookies.set("admin_color_mode_setting",e,{expires:365,path:"/"}),$.oc.setColorModeTheme(e))}window.matchMedia("(prefers-color-scheme: dark)").matches&&addEventListener("render",(function(){const t=document.querySelector("head > link[data-favicon-dark]");t&&(t.href=t.dataset.faviconDark)}))}(),oc.registerControl("color-mode-switcher",class extends oc.ControlBase{init(){this.$anchor=this.element.querySelector("a"),this.$label=this.element.querySelector(".nav-label"),this.$icon=this.element.querySelector(".nav-icon > i")}connect(){this.listen("click",this.$anchor,this.onToggleSwitch),this.updateUi()}onToggleSwitch(){var t="dark"===this.getCurrentMode()?"light":"dark";$.oc.setColorModeTheme(t),Cookies.set("admin_color_mode_user",t,{expires:365,path:"/"}),this.updateUi()}updateUi(){"dark"===this.getCurrentMode()?(this.$label.innerText=this.element.dataset.langLightMode,this.$icon.setAttribute("class","icon-sun-o")):(this.$label.innerText=this.element.dataset.langDarkMode,this.$icon.setAttribute("class","icon-moon-o"))}getCurrentMode(){return document.documentElement.getAttribute("data-bs-theme")}}),window.MSInputMethodContext&&document.documentMode){function fixMediaManager(){var t=$('div[data-control="media-manager"] .control-scrollpad');t.height(t.parent().height())}function fixSidebar(){$("#layout-sidenav").height(Math.max($("#layout-body").innerHeight(),$(window).height()-$("#layout-mainmenu").height()))}$(window).on("resize",(function(){fixMediaManager(),fixSidebar()}))}/Firefox\/\d+[\d\.]*/.test(navigator.userAgent)&&"function"==typeof window.DragEvent&&"function"==typeof window.addEventListener&&function(){var t,e,o,i,n,r,s,a,l,p;function c(c){t=c.clientX,e=c.clientY,o=c.pageX,i=c.pageY,n=c.offsetX,r=c.offsetY,s=c.screenX,a=c.screenY,l=c.layerX,p=c.layerY}function u(c){c._ffix_cx=t,c._ffix_cy=e,c._ffix_px=o,c._ffix_py=i,c._ffix_ox=n,c._ffix_oy=r,c._ffix_sx=s,c._ffix_sy=a,c._ffix_lx=l,c._ffix_ly=p}window.addEventListener("mousemove",c,!0),window.addEventListener("dragover",c,!0),window.addEventListener("dragstart",u,!0),window.addEventListener("drag",u,!0),window.addEventListener("dragend",u,!0);var d=Object.getOwnPropertyDescriptors(window.MouseEvent.prototype),h=Object.getOwnPropertyDescriptors(window.UIEvent.prototype);function f(t,e){return function(){return d[t]&&d[t].get.call(this)||Number(this[e])||0}}function g(t,e){return function(){return"dragover"===this.type&&h[t]?h[t].get.call(this):Number(this[e])||0}}Object.defineProperties(window.DragEvent.prototype,{clientX:{get:f("clientX","_ffix_cx")},clientY:{get:f("clientY","_ffix_cy")},pageX:{get:f("pageX","_ffix_px")},pageY:{get:f("pageY","_ffix_py")},offsetX:{get:f("offsetX","_ffix_ox")},offsetY:{get:f("offsetY","_ffix_oy")},screenX:{get:f("screenX","_ffix_sx")},screenY:{get:f("screenY","_ffix_sy")},x:{get:f("x","_ffix_cx")},y:{get:f("y","_ffix_cy")},layerX:{get:g("layerX","_ffix_lx")},layerY:{get:g("layerY","_ffix_ly")}})}();
